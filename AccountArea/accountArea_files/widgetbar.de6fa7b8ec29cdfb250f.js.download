(window.webpackJsonp=window.webpackJsonp||[]).push([["widgetbar",304],{"+HSM":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M13.5 24a9.5 9.5 0 1 0 0-19 9.5 9.5 0 0 0 0 19zm0 1a10.5 10.5 0 1 0 0-21 10.5 10.5 0 0 0 0 21zM11 10h1v9h-1v-9zm5 0h-1v9h1v-9z"/></svg>'},"+Lx6":function(t,e,i){},"+NHn":function(t,e,i){t.exports={title:"title-ZEjcbXFn",endAlignedButtons:"endAlignedButtons-2QpDLy7_"}},"+sDR":function(t,e,i){"use strict";i.r(e);var n=i("mrSG"),o=i("q1tI"),s=i("YFKU"),r=i("xeqR"),a=i("HWhk"),l=Object(s.t)("Options"),c=o.lazy((function(){return Object(n.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return t={},[4,Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(225),i.e(7),i.e(146),i.e(264)]).then(i.bind(null,"SjqY"))];case 1:return[2,(t.default=e.sent().AlertsLogActionsDropdownMenuDesktop,t)]}}))}))})),d=o.lazy((function(){return Object(n.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return t={},[4,Promise.all([i.e(1),i.e(6),i.e(23),i.e(225),i.e(145),i.e(265)]).then(i.bind(null,"+mqT"))];case 1:return[2,(t.default=e.sent().AlertsLogActionsDropdownMenuMobile,t)]}}))}))}));function h(t){return o.createElement(r.a,{icon:a,title:l,"data-name":"alerts-log-actions-button"},(function(e){var i=e.isMobileWidth,s=e.buttonRef,r=e.onClose;return o.createElement(o.Suspense,{fallback:null},i?o.createElement(d,Object(n.__assign)({onClose:r},t)):o.createElement(c,Object(n.__assign)({onClose:r,buttonRef:s},t)))}))}var u=i("+NHn");i.d(e,"AlertsLogWidgetHeader",(function(){return g}));var p=Object(s.t)("Alerts log");function g(t){return o.createElement(o.Fragment,null,o.createElement("div",{className:u.title},p),o.createElement("div",{className:u.endAlignedButtons},o.createElement(h,Object(n.__assign)({},t.alertsLogActionsDropdownProps))))}},"/BH3":function(t,e,i){"use strict";i.r(e),i.d(e,"layoutKeyName",(function(){return n})),i.d(e,"getDefaultState",(function(){return o})),i.d(e,"tabsWidth",(function(){return s})),i.d(e,"hiderGapWidth",(function(){return r})),i.d(e,"borderWidth",(function(){return a}));var n="layout-settings";function o(){return{version:2,width:267,pages:[]}}var s=46,r=5,a=1},"1E3x":function(t,e,i){"use strict";(function(e){i("+Lx6");var n,o=i("sFgq"),s=i("c2JX"),r=i("iAz1"),a=i("X19y"),l=i("Vdly"),c=(n=l)&&n.__esModule?n:{default:n},d=i("xlbu"),h=i("55Xp");function u(t){this._bridge=t,this._properties=t.properties,this.settingsKey="ecalendar.market",this._defaultMarket=(0,r.getDefaultMarketForLocale)(window.locale||"en"),this._market=c.default.getValue(this.settingsKey)||this._defaultMarket,this._$container=t.$body,this._bridgeSymbol=t.symbol,this._initMe(),this._initFeed(!0),this._createHeaderButtons()}u.prototype.lastData=null,u.prototype.resize=function(){var t=Math.max(0,this._$container.height()-this.$headerContent.outerHeight())
;this._$widget.height(t),this._scroll&&this._scroll.resize()},u.prototype._initMe=function(){this._$container.on("contextmenu",(function(t){return t.preventDefault()})),this.$headerContent=$("<div>").addClass("calendar-widget header").appendTo(this._$container),$("<div title = "+$.t("Symbol")+">"+$.t("Symbol")+"</div>").addClass("calendar-widget-w-20").appendTo(this.$headerContent),$("<div title = "+$.t("Company")+">"+$.t("Company")+"</div>").addClass("calendar-widget-w-60").appendTo(this.$headerContent),$("<div title = "+$.t("Estimate")+">"+$.t("Estimate")+"</div>").addClass("calendar-widget-w-20 i-align_right").appendTo(this.$headerContent),this._$widget=$('<div class="calendar-widget-scnt">').appendTo(this._$container),this._$data=$('<div class="calendar-widget-dcnt">').appendTo(this._$widget),this._bridgeSymbol.subscribe(function(t){if(t){var e=t.split(":");if(e[1]&&this._activeSymbol!==t&&(this._activeSymbol=t,null!==this.lastData)){this._dropActive();var i=this._currentSymbols[e[1]]||this._currentSymbols[t];i&&i[0].addClass("active")}}}.bind(this),{callWithLast:!0}),this._scroll=new o.SidebarCustomScroll(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this),{callWithLast:!0})},u.prototype._closeConfigPopup=function(){this._$popup&&(this._$popup.remove(),this._$popup=null)},u.prototype._createConfigPopup=function(){if(!this._$popup){var t=this._$configButton,e=$("<div>").addClass("tv-e-calendar-popup");this._$popup=e,e.on("mousedownoutside",function(e){$(e.target).parents().andSelf().is(t)||this._closeConfigPopup()}.bind(this)),t.addClass("active");var i=$("<div>").addClass("tv-e-calendar-config").appendTo(e);this._createConfigPopupMarkets().appendTo(i);var n=t.offset();n.width=t.outerWidth(),n.height=t.outerHeight(),t.parents().each((function(){var t=$(this);n.left-=t.scrollLeft()||0,n.top-=t.scrollTop()||0})),e.css({position:"fixed",left:0,top:n.top+n.height+1}),e.appendTo(document.body);var o=e.get(0).getBoundingClientRect();e.css({left:n.left+n.width-o.width,height:o.height-Math.abs(window.innerHeight-(o.top+o.height))-20})}},u.prototype._getMarketTitle=function(t){return t.title+" ("+t.stocks.join(", ")+")"},u.prototype._createConfigPopupMarkets=function(){var t=this,e=(0,r.getMarketsByScreenerType)("stocks"),i=$("<div>").addClass("tv-e-calendar-config__markets"),n=void 0,o=Object.keys(e).sort((function(t,e){return t<e?-1:t>e?1:0})),s=o.indexOf(this._defaultMarket);return~s&&o.splice(s,1),o.unshift(this._defaultMarket),o.forEach((function(o){n=e[o],$("<div>").addClass("tv-e-calendar-config__market-button js-e-calendar-choose-market").data("market",o).toggleClass("tv-e-calendar-config__market-button--active",o===t._market).append($((0,a.flagHtml)(n.flag))).append('<span class="tv-e-calendar-config__market-button-title">'+t._getMarketTitle(n)+"</span>").appendTo(i)})),i.on("click",".js-e-calendar-choose-market",(function(e){var i=t._market=$(e.currentTarget).data("market");i&&(c.default.setValue(t.settingsKey,i,{forceFlush:!0}),t._closeConfigPopup(),t._initFeed(!0),
t._createHeaderButtons())})),i},u.prototype._createHeaderButtons=function(){var t=(0,r.getMarketsByScreenerType)("stocks")[this._market];this._$configButton&&this._$configButton.remove(),this._$configButton=$("<a>").addClass("apply-common-tooltip tv-flag-country tv-flag-country--"+t.flag+" tv-e-calendarwidget-inline-select-wrapper").attr("title",this._getMarketTitle(t)).html((0,a.flagHtml)(t.flag)).appendTo(this._bridge.$headerspace).on("click",function(t){t.preventDefault(),this._$popup?this._closeConfigPopup():this._createConfigPopup()}.bind(this))},u.prototype.toggleDay=function(t){$(t.data.hider).toggleClass("hidden"),t.data.me.resize()},u.prototype._setSymbol=function(t,e){this._bridgeSymbol.setValue&&this._bridgeSymbol.setValue(t)},u.prototype._activeSymbol=null,u.prototype._dropActive=function(){this._$data.find("div.calendar-widget.active").removeClass("active")},u.prototype._currentSymbols={},u.prototype._renderMe=function(){var t=this;t._currentSymbols={};var i=this.lastData;if(i){for(var n=e().startOf("day").valueOf(),o=e().startOf("day").add(5,"days").valueOf(),s=0,r=i.length;s<r;s++)n<=1e3*i[s].d[3]&&1e3*i[s].d[3]<=o&&(i[s].d[1]=i[s].d[3],i[s].d[2]=i[s].d[4]);i=i.sort((function(t,e){var i=t.d[1],n=e.d[1];return i<n?-1:i>n?1:0})),this._$data.empty();var a=[$.t("January"),$.t("February"),$.t("March"),$.t("April"),$.t("May"),$.t("June"),$.t("July"),$.t("August"),$.t("September"),$.t("October"),$.t("November"),$.t("December")],l=t._activeSymbol;l&&(l=""+l.split(":")[1]);for(s=0,r=i.length;s<r;s++){var c=i[s],d=c.d,u=d[0];if(d&&u){var p,g=e(),m=a[g.month()]+" "+g.date(),v=e(1e3*d[1]),_=a[v.month()]+" "+v.date(),f=v.format("L").replace(" ","");this._currentDayname!==_&&(this._currentDayname=_,p=$("<div>").addClass("calendar-widget day hand "+f),_===m&&p.addClass("today"),p.html(_).appendTo(this._$data),p.on("click",{hider:".erc"+f,me:t},t.toggleDay));var w=c.s;if(w){var b,y=w.split(":")[1],C=y===l?"active":"";b=d[2]?(0,h.roundToFirstValuable)(d[2]):"&nbsp;",t._currentSymbols[w]||(t._currentSymbols[w]=[]);var S=$("<div>").addClass("calendar-widget erc"+f+" "+C).appendTo(this._$data);S.addClass("regular").on("click",{symbol:w,container:S,me:t},(function(t){var e=t.data;e.me._dropActive(),e.me._setSymbol(e.symbol,e.container)})),S.symbol=$('<div title="'+w+'">'+y+"</div>").addClass("calendar-widget-w-20 symbol").appendTo(S),S.title=$('<div title="'+u+'">'+u+"</div>").addClass("calendar-widget-w-60").appendTo(S),S.est=$('<div title="'+b+'">'+b+"</div>").addClass("calendar-widget-w-20 i-align_right").appendTo(S),t._currentSymbols[w].push(S)}}}delete this._currentDayname}},u.prototype.backendUrl=function(){return(window.EARNINGS_CALENDAR_URL||"")+"/"+this._market+"/"},u.prototype._initFeed=function(t){t&&(this._spinner=new s.Spinner("mini").spin(this._$widget.get(0)));var i=Date.now(),n=36e5;$.ajax(this.backendUrl()+"scan",{type:"POST",data:JSON.stringify({filter:[{left:"earnings_release_date,earnings_release_next_date",operation:"in_range",
right:[e().startOf("day").valueOf()/1e3,e().startOf("day").add(5,"days").valueOf()/1e3]}],columns:["description","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_date","earnings_per_share_forecast_fq"]}),dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e,o,s){var r=Date.now()-i;d.telemetry.sendReport("calendars","earnings_http_status",{value:s.status,additional:{source:"EarningsCalendarWidget"}}),d.telemetry.sendReport("calendars","earnings_response_time_frame",{value:r,additional:{source:"EarningsCalendarWidget"}}),e&&!e.error&&e.data?(t&&(this._spinner.stop(),delete this._spinner),n=e.expiration||n,this.lastData=e.data||this.lastData,this._renderMe.call(this),d.telemetry.sendReport("calendars","earnings_ok")):d.telemetry.sendReport("calendars","earnings_error"),window.setTimeout(function(){this._initFeed.call(this)}.bind(this),n)}.bind(this)).fail(function(t){var e=Date.now()-i;d.telemetry.sendReport("calendars","earnings_http_status",{value:t.status,additional:{source:"EarningsCalendarWidget"}}),d.telemetry.sendReport("calendars","earnings_response_time_frame",{value:e,additional:{source:"EarningsCalendarWidget"}}),window.setTimeout(function(){this._initFeed.call(this)}.bind(this),n)}.bind(this))},t.exports={Earnings:u}}).call(this,i("ldgD"))},"1Pr8":function(t,e,i){t.exports={button:"button-3SuA46Ww",hover:"hover-3AIQmXGb",hoverMask:"hoverMask-LMMGveQV",icon:"icon-ogPAaQZH",counterRow:"counterRow-S6Ya-jCg",counter:"counter-1TX_xqdT",isGrayed:"isGrayed-3O5VgbN4",isActive:"isActive-1D4aU96I",isTab:"isTab-1dbyVeUX"}},"1TxM":function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return d}));var n=i("q1tI"),o=i.n(n),s=i("17x9"),r=i.n(s),a=o.a.createContext({});function l(t,e){r.a.checkPropTypes(e,t,"context","RegistryContext")}function c(t){var e=t.validation,i=t.value;return l(i,e),o.a.createElement(a.Provider,{value:i},t.children)}function d(){return a}},"1WEt":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m18 18v-.5c0-1.2.6-2 1.5-2.7.8-.5 2-.8 3-.8s2.2.3 3 .8c.9.6 1.5 1.5 1.5 2.7a4 4 0 0 1-1.3 2.8l-2.3 2c-.3.3-.4.6-.4 1.2v.5h-1v-.5c0-.8.2-1.4.6-1.9l2.4-2c.6-.7 1-1.3 1-2.1a2 2 0 0 0-1-1.8c-.7-.5-1.6-.7-2.5-.7-1 0-1.8.2-2.5.7-.6.4-1 1-1 1.8v.5m3.5 8a1 1 0 0 0 0 5 1 1 0 0 0 0-5m0 1a1 1 0 0 1 0 3 1 1 0 0 1 0-3m0-17a1 1 0 0 0 0 25 1 1 0 0 0 0-25m0 1a1 1 0 0 1 0 23 1 1 0 0 1 0-23"/></svg>'},"4ekz":function(t,e,i){},"5AaZ":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("mrSG"),o=i("q1tI"),s=i.n(o),r=i("TSYQ"),a=i.n(r),l=i("cvc5"),c=i("Iivm"),d=i("//lZ"),h=i("9uLv"),u=i("uJ8n"),p=i("Vike"),g={isVisibleScrollbar:!0},m=function(t){function e(e){var i=t.call(this,e)||this;return i._scroll=null,i._handleScrollTop=function(){i.animateTo(Math.max(0,i.currentPosition()-(i.state.heightWrap-50)))},i._handleScrollBot=function(){
i.animateTo(Math.min((i.state.heightContent||0)-(i.state.heightWrap||0),i.currentPosition()+(i.state.heightWrap-50)))},i._handleResizeWrap=function(t){var e=t.height;i.setState({heightWrap:e})},i._handleResizeContent=function(t){var e=t.height;i.setState({heightContent:e})},i._handleScroll=function(){var t=i.props.onScroll;t&&t(i.currentPosition(),i.isAtTop(),i.isAtBot()),i._checkButtonsVisibility()},i._checkButtonsVisibility=function(){var t=i.state,e=t.isVisibleTopButton,n=t.isVisibleBotButton,o=i.isAtTop(),s=i.isAtBot();o||e?o&&e&&i.setState({isVisibleTopButton:!1}):i.setState({isVisibleTopButton:!0}),s||n?s&&n&&i.setState({isVisibleBotButton:!1}):i.setState({isVisibleBotButton:!0})},i.state={heightContent:0,heightWrap:0,isVisibleBotButton:!1,isVisibleTopButton:!1},i}return Object(n.__extends)(e,t),e.prototype.componentDidMount=function(){this._checkButtonsVisibility()},e.prototype.componentDidUpdate=function(t,e){e.heightWrap===this.state.heightWrap&&e.heightContent===this.state.heightContent||this._handleScroll()},e.prototype.currentPosition=function(){return this._scroll?this._scroll.scrollTop:0},e.prototype.isAtTop=function(){return this.currentPosition()<=1},e.prototype.isAtBot=function(){return this.currentPosition()+this.state.heightWrap>=this.state.heightContent-1},e.prototype.animateTo=function(t,e){void 0===e&&(e=h.dur);var i=this._scroll;i&&Object(d.doAnimate)({onStep:function(t,e){i.scrollTop=e},from:i.scrollTop,to:Math.round(t),easing:h.easingFunc.easeInOutCubic,duration:e})},e.prototype.render=function(){var t,e,i,n,o,r=this,d=this.props,h=d.children,g=d.isVisibleScrollbar,m=d.isVisibleFade,v=d.isVisibleButtons,_=d.onMouseOver,f=d.onMouseOut,w=this.state,b=w.heightContent,y=w.heightWrap,C=w.isVisibleBotButton,S=w.isVisibleTopButton;return s.a.createElement(l,{whitelist:["height"],onMeasure:this._handleResizeWrap},s.a.createElement("div",{className:u.wrap,onMouseOver:_,onMouseOut:f},s.a.createElement("div",{className:a()(u.scrollWrap,(t={},t[u.noScrollBar]=!g,t)),onScroll:this._handleScroll,ref:function(t){return r._scroll=t}},s.a.createElement(l,{onMeasure:this._handleResizeContent,whitelist:["height"]},s.a.createElement("div",{className:u.content},h))),m&&s.a.createElement("div",{className:a()(u.fadeTop,(e={},e[u.isVisible]=S&&b>y,e))}),m&&s.a.createElement("div",{className:a()(u.fadeBot,(i={},i[u.isVisible]=C&&b>y,i))}),v&&s.a.createElement("div",{className:a()(u.scrollTop,(n={},n[u.isVisible]=S&&b>y,n)),onClick:this._handleScrollTop},s.a.createElement("div",{className:u.iconWrap},s.a.createElement(c.Icon,{icon:p,className:u.icon}))),v&&s.a.createElement("div",{className:a()(u.scrollBot,(o={},o[u.isVisible]=C&&b>y,o)),onClick:this._handleScrollBot},s.a.createElement("div",{className:u.iconWrap},s.a.createElement(c.Icon,{icon:p,className:u.icon})))))},e.defaultProps=g,e}(s.a.PureComponent)},"5M8d":function(t,e,i){},"5qsH":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><g fill="none" stroke="currentColor"><path d="M14.5 27.5c0 4.97 3.03 8 8 8 4.97 0 8-3.03 8-8v-6a3 3 0 0 0-3-3h-10a3 3 0 0 0-3 3v6z"/><path stroke-linecap="square" d="M22.5 19v16"/><path d="M27.5 18.5a5 5 0 1 0-10 0m13 3h2a2 2 0 0 1 2 2V25m-4 2.5h2a2 2 0 0 1 2 2V31M29 32.5h1.5a2 2 0 0 1 2 2V36m-18-14.5h-2a2 2 0 0 0-2 2V25m4 2.5h-2a2 2 0 0 0-2 2V31m5.5 1.5h-1.5a2 2 0 0 0-2 2V36"/><g transform="translate(12 8)"><circle cx="2.5" cy="2.5" r="2"/><path d="M3.911 3.911L7 7"/></g><g transform="translate(26 8)"><circle cx="4.5" cy="2.5" r="2"/><path d="M3.115 3.885L0 7"/></g></g></svg>'},"6Qm0":function(t,e,i){"use strict";i.r(e),i.d(e,"uiDefaults",(function(){return o}));var n={de:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP","MXN","RUR","HKD","BRL","INR","CHF","TRL","SEK","ARS","PLZ","ATS"],fr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP"],it:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP"],tr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP","TRL"],kr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","MXN","RUR","HKD","BRL","INR","SGD","KRW","THB","TWD","VND"],in:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","RUR","HKD","BRL","INR","SGD","IDR","MYR","AED","QAR"],my:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","HKD","SGD","MYR"],ru:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","RUR","CHF","TRL"],uk:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","SEK","NOK","GRD"],en:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","ZAR"],tw:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","ZAR","TWD"],pl:["USD","EUR","JPY","AUD","DEM","GBP","CAD","CNY","ITL","NZD","SEK","NOK","PLZ"],es:["USD","EUR","JPY","AUD","DEM","GBP","CAD","ITL","ESP","MXN","CHF","ARS","CLP","COP"],cn:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","NZD","HKD","SGD"],br:["USD","EUR","JPY","AUD","DEM","GBP","FRF","CNY","MXN","RUR","BRL","INR"],id:["USD","EUR","JPY","AUD","DEM","GBP","FRF","RUR","HKD","BRL","INR","SGD","IDR"],ja:["USD","EUR","JPY","AUD","DEM","CAD","FRF","CNY","ITL","NZD","MXN","RUR","HKD","BRL","INR","SGD","KRW","ZAR"]},o=function(t){return(n[t]||n.en).slice()}},"7+KO":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 20" width="15" height="20"><g fill="none" stroke="currentColor"><path d="M11.499 13.246a7 7 0 1 0-8.003-.004l.003 3.753c0 .279.232.505.501.505h7c.276 0 .5-.229.5-.505l-.001-3.749z"/><path stroke-linecap="square" d="M5.5 18v.992c0 .28.215.508.49.508h3.02c.27 0 .49-.221.49-.508V18"/><path d="M3.5 13.5h8"/><path stroke-linecap="square" d="M7.5 8.5v4m-2-5h4"/><path d="M3.5 15.5h8"/></g></svg>'},"9Qhg":function(t,e,i){},AJki:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 17" width="24px" height="17px"><path fill-rule="evenodd" d="M1.826 16.913l4.088-6c.85-1.244 2.036-1.25 2.896-.018l2.718 3.897c1.698 2.436 4.46 2.235 5.79-.425l6.457-12.92-1.79-.894-6.456 12.92c-.65 1.302-1.53 1.366-2.363.175L10.45 9.75c-1.66-2.38-4.55-2.365-6.188.037l-4.088 6 1.652 1.126z"/></svg>'},AlSh:function(t,e,i){},Aml6:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 15" width="12px" height="15px"><path fill-rule="evenodd" d="M6.2 0c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zM6 14.3a7.2 7.2 0 0 1-6-3.22C.03 9.09 4 8 6 8c1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"/></svg>'},BARr:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m21.5 10a3.5 3.5 0 0 0-3.5 3.5v3h1v-3a2.5 2.5 0 0 1 2.5-2.5h9a2.5 2.5 0 0 1 2.5 2.5v3a2.5 2.5 0 0 1-2.5 2.5h-1v1h1a3.5 3.5 0 0 0 3.5-3.5v-3a3.5 3.5 0 0 0-3.5-3.5zm-7 6a4.5 4.5 0 0 0-4.5 4.5v13.2l4.7-4.7h10.8a4.5 4.5 0 0 0 4.5-4.5v-4a4.5 4.5 0 0 0-4.5-4.5zm0 1h11a3.5 3.5 0 0 1 3.5 3.5v4a3.5 3.5 0 0 1-3.5 3.5H14.3L11 31.3V20.5a3.5 3.5 0 0 1 3.5-3.5zm15 5v1h1a2.5 2.5 0 0 1 2.5 2.5v8.8L29.7 31h-8.2a2.5 2.5 0 0 1-2.5-2.5h-1a3.5 3.5 0 0 0 3.5 3.5h7.8l4.7 4.7V25.5a3.5 3.5 0 0 0-3.5-3.5z"/></svg>'},BH4H:function(t,e,i){"use strict";(function(e,n,o){i("9Qhg"),i("TdlR");var s=i("Eyy1").ensureNotNull,r=i("PiKd"),a=i("Q8Ag"),l=i("PT1i").linking,c=i("1AAW").combine,d=i("JWMC").trackEvent,h=i("e3/o"),u=i("/BH3"),p=i("TSYQ"),g=i("Fb/L").WidgetBarInternal,m=i("dkCg").RightToolbarRenderer,v=i("tBUM").WidgetBarTabButtonViewModel,_=i("jkvV").Hider,f=i("i8i4"),w=i("q1tI"),b=i("HySD"),y=i("N22A"),C=y.tradingService,S=y.waitTradingService,k=i("b5Gw").makeCancelable,T=i("ULlu").unwrap,x=i("+GxX").isFeatureEnabled;i("e9Yb");var I=i("xrkQ"),P=parseInt(I["css-value-widgets-margin"]);i("5M8d");var E=i("oOPW");const B={title:$.t("Details"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,widgetClass:I.widget,headerClass:I.widgetHeader,margin:P},O=Object.assign({},B,{emptyHeader:!0});function L(t){t||(t={}),this.options=t,this.resizerBridge=t.resizerBridge,this.adaptive=!!t.adaptive,this.tradingPanelAccessor=t.tradingPanelAccessor;var e=this.resizerBridge;this._visible=c((function(t,e,i){return Boolean(t&&e&&i)}),e.width,e.height,e.visible),this.widgetConfig=$.extend(!0,{},L.widgetConfig),t.widgetConfig&&(this.widgetConfig=$.extend(!0,this.widgetConfig,t.widgetConfig)),this.layout=new D({widgetBar:this}),this._customization=t.customization,t.chartWidgetCollection&&(this.chartWidgetCollection=t.chartWidgetCollection),t.state?this.layout.demarshal(t.state):t.settingsPrefix&&(this._settingsPrefix=t.settingsPrefix+"",this.loadFromTVSettings()),t.readonly&&(this.readonly=!0),t.fixedMode&&(this.fixedMode=!0),t.showCloseButton&&(this.showCloseButton=!0),this.$container=$(this.resizerBridge.container.value()),this._internal=new g(this),this.createHTML(),this.initLayout(),loginStateChange.subscribe(this,this.onLoginStateChange),
this.resizerBridge.width.subscribe(function(){this.layout.syncWidth()}.bind(this)),this.resizerBridge.height.subscribe(function(){this.layout.syncHeight()}.bind(this)),this.resizerBridge.visible.subscribe(function(t){this.layout.onVisibilityChange(t)}.bind(this)),this.resizerBridge.availWidth.subscribe(function(){this.layout.requestOptimalWidth(),this.layout.updateResponsiveness()}.bind(this)),this._tradingServiceCancelable=k(S()),this._tradingServiceCancelable.promise.then(function(t){this._tradingServiceCancelable=null,t.onConnectionStatusChange.subscribe(this,this._onBrokerConnectionStatusChanged)}.bind(this))}L.widgetConfig={reuters_calendar:{title:$.t("Economic Calendar"),ctor:null,lazyLoad:!0,icon:"economic-calendar",options:{widgetType:"widgetbar"}},earnings_calendar:{title:$.t("Earnings Calendar"),ctor:null,lazyLoad:!0,icon:"earnings-calendar"},watchlist:{title:$.t("Watchlist"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,emptyHeader:!0,widgetClass:I.widget,headerClass:I.widgetHeader,margin:P,preloadDelay:6e4},hotlist:{title:$.t("Hotlist"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,emptyHeader:!0,widgetClass:I.widget,headerClass:I.widgetHeader,margin:P},detail:O,news:{title:$.t("Headlines"),ctor:null,noHeaderSpace:!0,widgetClass:I.widget,headerClass:I.widgetHeader,titleClass:I.widgetTitle,margin:P},chat:{title:$.t("Talks"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0},messages:{title:$.t("Recent Chats"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0},messages_with_select:{title:$.t("Recent Chats"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0,options:{layoutWithSelect:!0},emptyHeader:!0},notifications_user:{title:$.t("Notifications"),ctor:null,options:{type:"user"},chartWidgetAllowed:!0},notifications_following:{title:$.t("Ideas Stream"),ctor:null,options:{type:"following"},chartWidgetAllowed:!0},datawindow:{title:$.t("Data Window"),ctor:null,chartWidgetAllowed:!0,chartWidgetRequired:!0},publicchats:{title:$.t("All Talks"),ctor:null,doNotClearNotifications:!0},publicchats_with_select:{title:$.t("All Talks"),ctor:null,doNotClearNotifications:!0,options:{layoutWithSelect:!0},emptyHeader:!0},notes:{title:$.t("My Ideas"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0},alerts_manage:{ctor:null,lazyLoad:!0,chartWidgetAllowed:!0,emptyHeader:!0,noHeaderSpace:!0,widgetClass:I.widget,headerClass:I.widgetHeader,margin:P},alerts_log:{ctor:null,chartWidgetAllowed:!0,emptyHeader:!0,noHeaderSpace:!0,widgetClass:I.widget,headerClass:I.widgetHeader,margin:P},market_summary:{title:$.t("Market Summary"),ctor:null},object_tree:{title:$.t("New Object tree. Multi-select drawings tools"),ctor:null,noHeader:!0,chartWidgetAllowed:!0,chartWidgetRequired:!0}},L.svgIcons={base:i("dECE"),"economic-calendar":i("nVo0"),"earnings-calendar":i("wvCj"),"alarm-clock":i("uDbD"),datawindow:i("GNw3"),hotlists:i("TZqb"),calendar:i("ohw9"),notes:i("PiG3"),chat:i("BARr"),messages:i("Yznx"),"ideas-stream":i("BpqW"),notifications:i("LBec"),news:i("Ui/w"),"object-tree":i("aE/C")},L._messageHandlers=[],
L.postMessage=function(t,e){L._messageHandlers.forEach((function(i){i.handler(t,e)}))},L.onMessage=function(t){"function"==typeof t&&L._messageHandlers.push({handler:t,widget:this})},L.prototype.destroy=function(){null!==this._tradingServiceCancelable?(this._tradingServiceCancelable.cancel(),this._tradingServiceCancelable=null):s(C()).onConnectionStatusChange.unsubscribe(this,this._onBrokerConnectionStatusChanged);this._internal.destroy(),this._internal=null},L.prototype.isVisible=function(){var t=this.resizerBridge;return t.visible.value()&&t.height.value()&&t.width.value()},L.prototype.visible=function(){return this._visible},L.prototype.initLayout=function(){var t=this;r.load("widgetbar",(function(){var e=$.Deferred();return a.loadWidgetBarModules((function(i){var n=t.widgetConfig;n.reuters_calendar.ctor=i.ReutersCalendarWidget,n.earnings_calendar.ctor=i.CalendarWidget&&i.CalendarWidget.Earnings,n.watchlist.ctor=i.Watchlist,n.hotlist.ctor=i.HotlistWidget,n.detail.ctor=i.Detail&&i.Detail.Widget,n.news.ctor=i.NewsWidget,n.chat.ctor=i.ChatWidget,n.messages.ctor=i.Messages&&i.Messages.Widget,n.messages_with_select.ctor=i.Messages&&i.Messages.Widget,n.notifications_following.ctor=i.NotificationsWidgets,n.notifications_user.ctor=i.NotificationsWidgets,n.publicchats.ctor=i.PublicChatsWidget,n.publicchats_with_select.ctor=i.PublicChatsWidget,n.notes.ctor=i.NotesWidget,n.alerts_manage.ctor=i.AlertsManageWidget,n.alerts_log.ctor=i.AlertsLogWidget,e.resolve(i)})),e.promise()}),this.options.instantLoad),r.onReady("widgetbar",(function(){t.layout.startWidgets()})),0===this.layout.pages.length&&(this.layout.setMinimizedState(!0),this.layout.$handle.addClass("js-hidden")),t.layout.requestOptimalWidth(),this.layout.syncWidth(),this.layout.syncHeight(),t.layout.onVisibilityChange(),t.layout.updateResponsiveness()},L.prototype.loadWidgets=function(){this._widgetsLoadRequested||(this._widgetsLoadRequested=!0,r.load("widgetbar",null,!0))},L.prototype.onLoginStateChange=function(t){t||window.is_authenticated&&(this.dropWidgetData(),this.refreshFromTVSettings())},L.prototype.dropWidgetData=function(){for(var t in this.widgetConfig)delete this.widgetConfig[t].data},L.prototype.refreshFromTVSettings=function(){this._settingsPrefix&&(this.layout&&this.layout.destroy(),this.layout=new D({widgetBar:this}),this.loadFromTVSettings(),this.layout.createHTML(),this.layout.$pages.appendTo(this.$wrap),this.layout.$tabs.appendTo(this.$wrap),this.layout.$hider&&this.layout.$hider.appendTo(this.$wrap),this.initLayout())},L.prototype.getWidgets=function(t){for(var e=[],i=0;i<this.layout.pages.length;++i)e=e.concat(this.layout.pages[i].getWidgets(t));return e},L.prototype.loadFromTVSettings=function(){if(this._settingsPrefix){try{this.migrateFromOld()}catch(s){console.error&&console.error(s)}var t=this.getLayoutState();t=this.mergeProperties(t),this.layout.demarshal(t,{settingsPrefix:this._settingsPrefix}),this.saveToTVSettings();var e=TVSettings.getJSON(this._settingsPrefix+"."+u.layoutKeyName,null);if(e){var i,n=[]
;for(i in e.widgets)n=n.concat(e.widgets[i].map((function(t){return t.id})));var o=TVSettings.keysMask(this._settingsPrefix+".widget.*.*");o&&o.forEach(function(t){var e=t.replace(this._settingsPrefix+".widget.","");-1===n.indexOf(e)&&0===t.indexOf(this._settingsPrefix+".widget.")&&(d("Settings debug","loadFromTVSettings: "+t,user.username),TVSettings.remove(t))}.bind(this))}}},L.prototype.mergeProperties=function(t){var e=TVSettings.getJSON(this._settingsPrefix+"."+u.layoutKeyName,null);if(!e)return t;e.settings&&$.extend(t,e.settings);for(var i={},n=0;n<t.pages.length;n++)for(var o=0;o<t.pages[n].widgets.length;o++){var s=t.pages[n].widgets[o],r=i[s.type]||0;e.widgets[s.type]&&e.widgets[s.type][r]&&$.extend(s,e.widgets[s.type][r]),i[s.type]=++r}return t},L.prototype.migrateFromOld=function(t){var e=TVSettings.getJSON(this._settingsPrefix+".layout-fixed",null);if(e){var i={settings:{}};"minimized"in e&&(i.settings.minimized=e.minimized),"width"in e&&(i.settings.width=e.width),"activeIndex"in e&&(i.settings.activeIndex=e.activeIndex),i.widgets={};for(var n=0;n<e.pages.length;n++)for(var o=e.pages[n].widgets||e.pages[n],s=0;s<o.length;s++){var r,a=o[s];a.id?(r=a.id.replace(/\..*/,""),/^news_.+/.test(r)&&(r=a.type="news",TVSettings.setJSON(this._settingsPrefix+".widget."+a.id.replace(/news_[^.]*/,"news"),TVSettings.getValue(this._settingsPrefix+".widget."+a.id)),a.id=a.id.replace(/news_[^.]*/,"news"))):(r=a.type,/^news_.+/.test(r)&&(a.properties=a.properties||{},a.properties.provider=a.type.replace(/news_([^.]*).*/,"$1"),r=a.type="news")),i.widgets[r]?i.widgets[r].push(a):i.widgets[r]=[a]}TVSettings.setJSON(this._settingsPrefix+"."+u.layoutKeyName,i)}else if(TVSettings.getJSON(this._settingsPrefix+".layout",null)){var l=this.getWidgetProperties("watchlist");if(l){i={settings:{},widgets:{watchlist:[l]}};TVSettings.setJSON(this._settingsPrefix+"."+u.layoutKeyName,i)}}e&&TVSettings.remove(this._settingsPrefix+".layout-fixed"),TVSettings.getJSON(this._settingsPrefix+".layout",null)&&TVSettings.remove(this._settingsPrefix+".layout")},L.prototype.saveToTVSettings=function(){if(this._settingsPrefix){var t=this.layout.marshal();TVSettings.setJSON(this._settingsPrefix+"."+u.layoutKeyName,t)}},L.prototype.getWidgetProperties=function(t,e){e=e||0;var i=this._settingsPrefix.replace(/\W/g,"\\$&")+".widget.",n=TVSettings.keysMask(i+t+".*");return!!(n&&n.length&&(n=n.sort())[e])&&{id:n[e].replace(i,"")}},L.prototype._onBrokerConnectionStatusChanged=function(t){this.layout.updateRightToolbar()};var M={type:"news"};function D(t){this.widgetBar=t.widgetBar,this.pages=[],this.activePageIndex=new n(this.activeIndex),this.isMinimized=new n(this.minimized),t&&t.widgetBar&&Object.defineProperty(this,"widgetBar",{value:t.widgetBar,configurable:!0})}function N(t){this.widgets=[],t&&t.widgetBarLayout&&Object.defineProperty(this,"widgetBarLayout",{value:t.widgetBarLayout,configurable:!0})}function A(t){t&&t.widgetBarPage&&Object.defineProperty(this,"widgetBarPage",{value:t.widgetBarPage,configurable:!0}),this._internalState={alive:new n(!0),
container:new n,width:new n,height:new n,detachable:new n(!1)},this._rdState=new b.ResizerDetacherState(this._internalState),this._rdState.owner.subscribe(function(t){t!==this._internalState&&$(this._internalState.container.value()).empty()}.bind(this)),this.widgetActive=new n,this.widgetMaximized=new n,this._widgetStarted=new o,this._preloadTimeout=null}function W(t){t&&t.settingsKey&&(this._settingsKey=t.settingsKey,this._value=TVSettings.getJSON(this._settingsKey,null)),t&&t.widgetBarWidget&&Object.defineProperty(this,"widgetBarWidget",{value:t.widgetBarWidget,configurable:!0})}function H(){return e.enabled("right_toolbar")}L.prototype.getGenericLayoutState=function(t){var i=u.getDefaultState(),n=window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE;n.default=n.en;for(var o=x("news_separate_tab_enabled"),s=[{_gaEvent:"General Widget",title:o?$.t("Watchlist and details"):$.t("Watchlist, details and news"),name:"base",icon:"base",widgets:[{type:"watchlist",properties:t&&t.length?{list:t}:void 0},{type:"detail"},Object.assign({},M,{isEnabled:!o})]},e.enabled("alerts")?{_gaEvent:"Alerts",title:$.t("Alerts"),name:"alerts",icon:"alarm-clock",widgets:[{type:"alerts_manage",properties:{}},{type:"alerts_log",properties:{}}]}:null,o?{_gaEvent:"News",title:$.t("News"),name:"news",icon:"news",widgets:[M]}:null,this.chartWidgetCollection&&!this.chartWidgetCollection.readOnly()?{_gaEvent:"Object tree",title:$.t("New Object tree. Multi-select drawings tools"),name:"object_tree",icon:"object-tree",onBottom:!0,widgets:[{type:"object_tree"}]}:null,{_gaEvent:"Data Window",title:$.t("Data Window"),name:"data-window",icon:"datawindow",widgets:[{type:"datawindow"}]},{_gaEvent:"Hotlists",title:$.t("Hotlists"),name:"hotlist",icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:n,groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:n,groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:n,groupByLocale:{default:"percent_change_loosers"}}}]},{_gaEvent:"Calendar",title:$.t("Calendar"),name:"calendar",icon:"calendar",widgets:[{type:"reuters_calendar",properties:{}},{type:"earnings_calendar",properties:{}}]},{_gaEvent:"My Ideas",title:$.t("My Ideas"),name:"notes",icon:"notes",spaceBottom:!0,spaceBottomText:$.t("Social"),widgets:[{type:"notes"}]},{_gaEvent:"Public Chats",title:$.t("Public Chats"),name:"chats",icon:"chat",widgets:[{type:"chat"},{type:"publicchats"}]},{_gaEvent:"Private Chats",title:$.t("Private Chats"),name:"pm_chats",icon:"messages",widgets:[{type:"messages"}]},{_gaEvent:"Ideas Stream",title:$.t("Ideas Stream"),name:"ideas_stream",icon:"ideas-stream",widgets:[{type:"notifications_following"}]},{_gaEvent:"Notifications",title:$.t("Notifications"),name:"notifications",icon:"notifications",widgets:[{type:"notifications_user"}]}],r=0;r<s.length;r++)s[r]&&i.pages.push(s[r]);return i},L.prototype.getChartingPlatformLayoutState=function(t,i){var n={version:2,width:267,pages:[]}
;if(this._customization.watchlist||this._customization.details||this._customization.news){var o="",s=[];this._customization.watchlist&&(o=$.t("Watchlist"),s.push({type:"watchlist",id:"watchlist."+i,properties:t&&t.length?{list:t}:void 0})),this._customization.details&&(this._customization.watchlist?o+=" "+$.t("and details"):o=$.t("Details"),s.push({type:"detail"})),this._customization.news&&(this._customization.watchlist||this._customization.details?o+=" and news":o="News",s.push({type:"news",id:"news."+i})),n.pages.push({name:"base",title:o,icon:"base",widgets:s})}return e.enabled("show_object_tree")&&this.chartWidgetCollection&&!this.chartWidgetCollection.readOnly()&&n.pages.push({title:$.t("Show Object tree"),name:"object_tree",icon:"object-tree",onBottom:!0,widgets:[{type:"object_tree"}]}),n},L.prototype.getLayoutState=function(){var t,i=this,n=TVSettings.getJSON("watchlist.list",[]);function o(t){return!(void 0!==t.isEnabled&&!t.isEnabled)&&(i.chartWidgetCollection||!L.widgetConfig[t.type].chartWidgetRequired)}for(var s=(t=e.enabled("cqg_terminal")?this.getChartingPlatformLayoutState(n,"cqg"):e.enabled("trading_terminal")?this.getChartingPlatformLayoutState(n,"terminal"):this.getGenericLayoutState(n)).pages.length-1;s>=0;s--){var r=t.pages[s];r.widgets=$.grep(r.widgets,o)}return t.pages=$.grep(t.pages,(function(t){return t.widgets&&t.widgets.length})),t},L.prototype.createWidgetId=function(t){return t+"."+h.randomHash()},L.prototype.setPage=function(t){this.layout.setMinimizedState(!1);var e=this.layout.activeIndex;return this.layout.pages.forEach((function(i,n){i.name===t&&(e=n)})),this.layout.switchPage(e),this.layout.getActivePage()},D.prototype.startWidgets=function(){this.pages.forEach((function(t){t.widgets.forEach((function(t){t.widgetObject||t.widgetStartDelayed||setTimeout((function(){t.startWidget()}),0)}))}));var t=this.getActivePage();t&&t.onActiveStateChange(!0)},D.prototype.syncHeight=function(){var t=this.widgetBar.resizerBridge.height.value();if(this.$pages.css("height",t+"px"),!this.minimized){var e=this.getActivePage();e&&e.updateWidgetsHeight()}},D.prototype.tabsWidth=function(){return H()?u.tabsWidth:this.minimized?u.hiderGapWidth:0},D.prototype.borderWidth=function(){return u.borderWidth},D.prototype.canOpen=function(){return this.MIN_WIDTH+this.tabsWidth()+this.borderWidth()<=this.widgetBar.resizerBridge.availWidth.value()},D.prototype.requestWidth=function(t){var e=this.widgetBar.resizerBridge;t>0&&(t+=this.borderWidth());var i=this.tabsWidth(),n=t+i;this.canOpen()?e.width.value()!==n&&e.negotiateWidth([{min:i,max:i},{min:this.MIN_WIDTH+i,max:n}]):e.negotiateWidth(0)},D.prototype.requestOptimalWidth=function(){this.changeWidgetsButtonTitle(),this.minimized?this.requestWidth(0):this.requestWidth(this.width)},D.prototype.updateResponsiveness=function(){var t=!this.canOpen();this.$tabs.toggleClass("js-hidden",t),this.$pages.toggleClass("js-hidden",t)},D.prototype.syncWidth=function(){
var t=this.widgetBar.resizerBridge,e=this.tabsWidth(),i=this.borderWidth(),n=t.width.value(),o=Math.max(n-e-i,0)||0;if(o<this.MINIMIZE_THRESHOLD?this.setMinimizedState(!0):this.setMinimizedState(!1),this.$pages.css("width",o+"px").toggleClass("hidden",!!this.minimized),!this.minimized){var s=this.getActivePage();s&&s.widgets.forEach((function(t){t.onWidthChange(o)})),this.widgetBar&&this.widgetBar.loadWidgets()}var r=!this.canOpen();this.$deviceButton&&this.$deviceButton.toggleClass("js-hidden",!r||!this.minimized)},D.prototype.setMinimizedState=function(t){t=!!t,!!this.minimized!==t&&(this.minimized=t,this.isMinimized.setValue(this.minimized),t&&this.widgetBar.resizerBridge.exitFullscreen(),this.requestOptimalWidth(),this.activeIndex>=0&&this.pages[this.activeIndex].onActiveStateChange(!this.minimized))},D.prototype.getWidgetsButtonTitle=function(){return this.minimized?window.t("Show Widgets"):window.t("Hide Widgets")},D.prototype.changeWidgetsButtonTitle=function(){this.widgetBar.$widgetBarBtn&&this.widgetBar.$widgetBarBtn.attr("title",this.getWidgetsButtonTitle())},D.prototype.switchPage=function(t){if(-1===t||0===this.pages.length)return this.activeIndex=-1,void this.activePageIndex.setValue(this.activeIndex);var e;if(t instanceof N){if(-1===(e=this.pages.indexOf(t)))return}else e=+t;var i=this.pages[this.activeIndex];this.activeIndex=Math.min(this.pages.length-1,Math.max(0,e)),this.activePageIndex.setValue(this.activeIndex);var n=this.pages[this.activeIndex];this.activeName=n.name,this.minimized||i&&i===n||(i&&i.onActiveStateChange(!1),n&&n.onActiveStateChange(!0))},D.prototype.getActivePage=function(){return this.minimized?null:this.pages[this.activeIndex]||null},D.prototype.onTabClick=function(t,e){if(!t.isDefaultPrevented()){var i=this.pages.indexOf(e);-1!==i&&(t.preventDefault(),i!==this.activeIndex||this.minimized?(e._gaEvent&&d("Platform Widgets",e._gaEvent),this.switchPage(i),this.minimized&&this.setMinimizedState(!1)):this.setMinimizedState(!0),this.widgetBar&&this.widgetBar.saveToTVSettings())}},L.prototype.ensureSupportTicketButtonViewModel=function(){return this._supportTicketButtonViewModel?this._supportTicketButtonViewModel:this._supportTicketButtonViewModel=new v({icon:i("5qsH"),hint:window.t("Help Center"),onClick:function(){e.enabled("charting_library_base")?window.showUserReportDialog():(r.onReady("widgetbar",(function(t){var e=t.showSupportDialog;e&&e()})),r.load("widgetbar",null,0))}})},L.prototype.ensureHelpButtonViewModel=function(){if(this._helpButtonViewModel)return this._helpButtonViewModel;var t=this.ensureSupportTicketButtonViewModel();return this._helpButtonViewModel=new v({icon:i("1WEt"),hint:$.t("Help Center"),onClick:t.onClick.value()})},D.prototype.onLayoutResizeHandleMousedown=function(t){if(!t.isDefaultPrevented()){t.preventDefault();var e,i=this,n=Math.max(this.widgetBar.resizerBridge.width.value()-this.tabsWidth()-this.borderWidth(),0);e=t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.pageX,
$(document.documentElement).on("mousemove touchmove",o).on("mouseup touchend",(function t(e){$(document.documentElement).off("mousemove touchmove",o).off("mouseup touchend",t),i.widgetBar&&i.widgetBar.saveToTVSettings(),i.changeWidgetsButtonTitle()}))}function o(t){var o;o=t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.pageX;var s=n-(o-e);s<i.MINIMIZE_THRESHOLD?s=0:s<i.MIN_WIDTH&&(s=i.MIN_WIDTH),s>0&&(i.width=s),i.requestWidth(s)}},D.prototype.removePage=function(t){var e=this.pages.indexOf(t);-1!==e&&(delete t.widgetBarLayout,this.pages.splice(e,1),t.$page.detach(),t.$page.detach(),t.$tab.detach(),this.activeIndex===e&&this.switchPage(e-1))},D.prototype.createPage=function(){var t=new N({widgetBarLayout:this});return this.pages.push(t),t.createHTML(),this.$pagescontent.append(t.$page),t},D.prototype.createWidget=function(t,e){if(e){if(-1===this.pages.indexOf(e))return null}else e=this.createPage();var i=new A({widgetBarPage:e});return i.demarshal({type:t}),i.createHTML(),e.attachWidget(i),i},D.prototype.widgetInsertionDisallowed=function(t){return"watchlist"===t&&((!window.user||!user.is_pro)&&(this.pages.some((function(e){return e.widgets.some((function(e){return e.type===t}))}))?(E({feature:"multipleWatchLists"}),!0):void 0))},D.prototype.onVisibilityChange=function(){var t=!(!this.widgetBar||!this.widgetBar.resizerBridge.visible.value());this.visible=t,this.pages.forEach((function(e){e.onVisibilityChange(t)}))},D.prototype.destroy=function(){if(this.widgetBar&&this.widgetBar.layout===this&&delete this.widgetBar.layout,this.tabRenderer&&(this.tabRenderer.destroy(),this.tabRenderer=null),this.$hider){var t=this.$hider.get(0);f.unmountComponentAtNode(t)}for(var e=this.pages.length;e--;)for(var i=this.pages[e],n=i.widgets.length;n--;)i.widgets[n].destroy();for(var o in this)this[o]instanceof $&&this[o].remove(),delete this[o]},D.prototype.getWidgetBarOption=function(){if(this.widgetBar&&name in this.widgetBar)return this.widgetBar[name]},D.prototype.MIN_WIDTH=200,D.prototype.MINIMIZE_THRESHOLD=50,D.prototype.width=290,D.prototype.minimized=!1,D.prototype.activeIndex=0,D.prototype.activeName="",D.prototype.visible=!0,N.prototype.onActiveStateChange=function(t){t=!!t,$(this.$page).toggleClass("active",!!t),this.tab.onActiveStateChange(t),t&&this.updateWidgetsHeight({skipIfHeightUnchanged:!0}),this.widgets.forEach((function(e){e.onActiveStateChange(t)}))},N.prototype.updateWidgetsHeight=function(t){if(this.$page&&this.widgetBarLayout&&this.widgetBarLayout.widgetBar)if(this.widgetBarLayout.getActivePage()===this){t=t||{};var e=this.widgetBarLayout.widgetBar.resizerBridge.height.value();if(this._pageHeight===e&&t.skipIfHeightUnchanged||(this._invalidated=!0,this._pageHeight=e),this._invalidated){for(var i,n=e,o=0,s=this.widgets,r=null,a=this.widgets.length;a--;)if(this.widgets[a].widgetMaximized.value()){r=this.widgets[a];break}if(r){for(a=this.widgets.length;a--;){(h=s[a])!==r&&h.setHeight(0)}s=[r]}for(a=s.length-1;a>0;a--){n-=(h=s[a]).widgetConfig&&h.widgetConfig.margin||1}for(a=s.length;a--;){
(h=s[a]).$widget&&(void 0===i&&(i=h.$header.outerHeight(!0)),n-=i,o+=h.heightRatio)}var l=n/o,c=s.length-1;for(a=0;a<=c;a++){var d,h=s[a];d=a===c?n:Math.round(l*h.heightRatio),h.setHeight(d),n-=d}}}else this._invalidated=!0},N.prototype.onWidgetResizeHandleMousedown=function(t,e){if(!t.isDefaultPrevented()){var i,n,o,s=this;t.preventDefault();for(var r=this.widgets.length-1;r>0;r--)this.widgets[r]===e&&(i=this.widgets[r],n=this.widgets[r-1]);o=t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY;var a=n._rdState.bridge().height.value(),l=n.heightRatio+i.heightRatio,c=a+i._rdState.bridge().height.value();if(0!==c){var d,h=function(t){s.$page.addClass("widget-resize-mode");var e=(t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY)-o,r=Math.max(0,Math.min(a+e,c));d!==r&&(d=r,n.heightRatio=r/c*l,i.heightRatio=l-n.heightRatio,n.setHeight(r),i.setHeight(c-r))},u=function(t){$(document.documentElement).off("mousemove touchmove",h).off("mouseup touchend",u),s.$page.removeClass("widget-resize-mode"),d!==a&&(s.normalizeRatios(),s.widgetBarLayout&&s.widgetBarLayout.widgetBar&&s.widgetBarLayout.widgetBar.saveToTVSettings())};$(document.documentElement).on("mousemove touchmove",h).one("mouseup touchend",u)}}},N.prototype.normalizeRatios=function(){for(var t=1/0,e=this.widgets.length;e--;){var i=this.widgets[e].heightRatio;i<=0||!isFinite(i)||i<t&&(t=i)}if(isFinite(t)){for(var n=1;t<1;)t*=2,n*=2;for(;t>=2;)t/=2,n/=2;for(e=this.widgets.length;e--;)this.widgets[e].heightRatio*=n}},N.prototype.attachWidget=function(t,e){e=+e;var i=this.widgets.indexOf(t);-1!==i?this.widgets.splice(i,1):t.widgetBarPage&&t.widgetBarPage!==this&&t.widgetBarPage.removeWidget(t),e<this.widgets.length?e<0&&(e=0):e=this.widgets.length,delete t.widgetBarPage,Object.defineProperty(t,"widgetBarPage",{value:this,configurable:!0}),this.widgets.splice(e,0,t);var n=this.widgets[e+1];n?t.$widget.insertBefore(n.$widget):t.$widget.appendTo(this.$page),this.widgetBarLayout&&this.widgetBarLayout.getActivePage(),this.updateWidgetsHeight(),t.updateVisibleWatchedValue()},N.prototype.removeWidget=function(t){var e=this.widgets.indexOf(t);-1!==e&&(delete t.widgetBarPage,this.widgets.splice(e,1),t.$widget&&t.$widget.detach(),this.updateWidgetsHeight())},N.prototype.remove=function(){this.widgetBarLayout&&this.widgetBarLayout.removePage(this)},N.prototype.destroy=function(){for(var t in this.remove(),this)this[t]instanceof $&&this[t].remove(),delete this[t]},N.prototype.isActiveAndVisible=function(){var t=this.widgetBarLayout;return!(!t||!t.visible)&&t.getActivePage()===this},N.prototype.onVisibilityChange=function(t){var e=t&&this.widgetBarLayout&&this.widgetBarLayout.getActivePage()===this;this.widgets.forEach((function(i){e&&i.clearNotifications(),i.onVisibilityChange(t)}))},N.prototype.notify=function(t,e){!0!==(e=e||{}).clear?e.stopHighlightTab||(this.notificationCounter=this.notificationCounter+(~~t||1),this.updateNotifications(e.notificationValue)):this.clearNotifications()},N.prototype.clearNotifications=function(){
this.notificationCounter=0,this.tab.updateNotifications(this.notificationCounter)},N.prototype.updateNotifications=function(t){var e="number"==typeof t?t:this.notificationCounter;this.tab.updateNotifications(e)},N.prototype.notificationCounter=0,N.prototype.getWidgets=function(t){for(var e=[],i=0;i<this.widgets.length;++i){var n=this.widgets[i];n.type===t&&e.push(n)}return e},A.prototype.setHeight=function(t){$(this._internalState.container.value())&&$(this._internalState.container.value()).height(t),this._internalState.height.setValue(t)},A.prototype.onWidthChange=function(t){this._internalState.width.setValue(t)},A.prototype.remove=function(){this.widgetBarPage&&this.widgetBarPage.removeWidget(this)},A.prototype.destroy=function(){for(var t in this.widgetObject&&"function"==typeof this.widgetObject.destroy&&this.widgetObject.destroy(),this.remove(),this.symbolLinking&&(this.symbolLinking.destroy(),this.symbolLinking=null),this.intervalLinking&&(this.intervalLinking.destroy(),this.intervalLinking=null),this.widgetVisible&&(this.widgetVisible.unsubscribe(),this.widgetVisible=null),this.widgetActive&&(this.widgetActive.unsubscribe(),this.widgetActive=null),this.watchedHeight&&(this.watchedHeight.unsubscribe(),this.watchedHeight=null),this.watchedWidth&&(this.watchedWidth.unsubscribe(),this.watchedWidth=null),this.widgetMaximized&&(this.widgetMaximized.unsubscribe(),this.widgetMaximized=null),this)this[t]instanceof $&&this[t].remove(),delete this[t];L._messageHandlers=L._messageHandlers.filter((function(t){return t.widget!==this}),this),clearTimeout(this._preloadTimeout)},A.prototype.onActiveStateChange=function(t){var e=(this.getWidgetBarOption("widgetConfig")||L.widgetConfig)[this.type];this.$icon&&this.$icon.toggleClass("active",!!t),t&&!e.doNotClearNotifications&&this.clearNotifications(),this.updateVisibleWatchedValue(),this.widgetActive.setValue(!!t)},A.prototype.toggleMaximize=function(t){if("boolean"!=typeof t)t=!this.widgetMaximized.value();else if(t===this.widgetMaximized.value())return;this.widgetMaximized.setValue(t),this.widgetBarPage&&this.widgetBarPage.widgetBarLayout&&this.widgetBarPage.widgetBarLayout.widgetBar&&this.widgetBarPage.widgetBarLayout.widgetBar.saveToTVSettings(),this.widgetBarPage&&this.widgetBarPage.updateWidgetsHeight()},A.prototype.startWidget=function(){if(!this.widgetObject&&!this.widgetStartDelayed){var t=(this.getWidgetBarOption("widgetConfig")||L.widgetConfig)[this.type];if(t){var e=t.ctor;if(e){var i=this;if(this.widgetVisible=this.widgetVisible||new n,this.updateVisibleWatchedValue(),t.lazyLoad&&!this.widgetVisible.value())return this.widgetStartDelayed=!0,this.widgetVisible.when((function(){delete i.widgetStartDelayed,i.startWidget(),clearTimeout(i._preloadTimeout)})),void(t.preloadDelay&&(this._preloadTimeout=setTimeout((function(){e.preload&&e.preload()}),t.preloadDelay)));this.symbolLinking=l.symbol.spawn(),this.intervalLinking=l.interval.spawn();var o=this._rdState.bridge(),s={$widget:this.$widget,$header:this.$header,$headerspace:this.$headerspace,
$body:$(o.container.value()),header:this.$header[0],widget:this.$widget[0],container:o.container.value(),properties:this.properties,notify:this.notify.bind(this),clearNotifications:this.clearNotifications.bind(this),visible:this.widgetVisible.readonly(),active:this.widgetActive.readonly(),symbol:this.symbolLinking,interval:this.intervalLinking,height:o.height,width:o.width,setTitle:this.setTitle.bind(this),setTitleHtml:this.setTitleHtml.bind(this),id:this.id,toggleMaximize:this.toggleMaximize.bind(this),maximized:this.widgetMaximized.readonly(),postMessage:L.postMessage.bind(this),onMessage:L.onMessage.bind(this),hideDetach:!1,unAuthEditable:this.unAuthEditable};if(t.chartWidgetAllowed){var r=function(){return i.widgetBarPage&&i.widgetBarPage.widgetBarLayout&&i.widgetBarPage.widgetBarLayout.widgetBar&&i.widgetBarPage.widgetBarLayout.widgetBar.chartWidgetCollection};s.getChartWidget=function(){var t=r();return t?t.activeChartWidget.value():null},s.getChartWidgetCollection=function(){return r()||null}}null!=this.readonly?this.readonly&&(s.readonly=!0):this.getWidgetBarOption("readonly")&&(s.readonly=!0),null!=t.options&&(s.options=t.options),null!=this.stateData?s.data=this.stateData:null!=t.data&&(s.data=t.data);var a=this.widgetObject=new e(s);a.hasLifecycle&&this.widgetActive.readonly().subscribe((function(t){t?a.mount():a.unmount()})),this._widgetStarted.fire(this)}}}},A.prototype.widgetStarted=function(){return this._widgetStarted},A.prototype.notify=function(t,e){if(e=e||{},this.widgetBarPage&&(!this.widgetBarPage.isActiveAndVisible()||e.force))return this.widgetBarPage.notify(t,e)},A.prototype.clearNotifications=function(){if(this.widgetBarPage)return this.widgetBarPage.clearNotifications()},N.prototype.isActiveAndVisible=function(){var t=this.widgetBarLayout;return!(!t||!t.visible)&&t.getActivePage()===this},A.prototype.onVisibilityChange=function(t){this.updateVisibleWatchedValue()},A.prototype.updateVisibleWatchedValue=function(){this.widgetVisible&&this.widgetVisible.setValue(!!this.widgetBarPage&&this.widgetBarPage.isActiveAndVisible())},A.prototype.setTitle=function(t){this.customTitle=t+"",this.$title&&this.$title.text(this.getTitle())},A.prototype.setTitleHtml=function(t){this.$title&&this.$title.html(t)},A.prototype.heightRatio=1,A.prototype.getWidgetBarOption=function(t){if(this.widgetBarPage&&this.widgetBarPage.widgetBarLayout&&this.widgetBarPage.widgetBarLayout.widgetBar&&t in this.widgetBarPage.widgetBarLayout.widgetBar)return this.widgetBarPage.widgetBarLayout.widgetBar[t]},W.prototype.value=function(t){return this._value},W.prototype.setValue=function(t,e){return this._value=t,this._settingsKey&&(null==t?(d("Settings debug","WigdetProperties.setValue: "+this._settingsKey,user.username),TVSettings.remove(this._settingsKey)):TVSettings.setJSON(this._settingsKey,t,e)),this._value},L.prototype.createHTML=function(){var t=this.$container;!t||t.size()<1||(t.empty(),this.layout.createHTML(),
this.$wrap=$(document.createElement("div")).attr("class","widgetbar-wrap unselectable js-right-boundary").appendTo(t),this.layout.$pages.appendTo(this.$wrap),H()&&this.layout.$tabs.appendTo(this.$wrap),this.layout.$deviceButton&&this.$wrap.append(this.layout.$deviceButton),this.layout.$hider&&this.layout.$hider.appendTo(this.$wrap))},D.prototype._tabRendererOptions=function(){var t=this.widgetBar._internal;return{tabs:this.pages,isDomButtonAvailable:t.isDomButtonAvailable(),isOrderPanelButtonAvailable:t.isOrderPanelButtonAvailable(),isSupportTicketButtonAvailable:t.isSupportTicketButtonAvailable(),isHelpButtonAvailable:t.isHelpButtonAvailable()}},D.prototype.updateRightToolbar=function(){this.tabRenderer.updateOptions(this._tabRendererOptions())},D.prototype.createHTML=function(){var t=this;if(t.$tabs=t.$tabscontent=$(),H()&&(t.$tabs=$('<div class="widgetbar-tabs">'),t.tabRenderer&&(t.tabRenderer.destroy(),t.tabRenderer=null),t.tabRenderer=new m(t.widgetBar,t.$tabs[0],t._tabRendererOptions()),this.widgetBar.adaptive&&(t.$deviceButton=$('<div class="tv-device-widgetbar-button js-hidden"><div class="tv-device-widgetbar-button__ripple js-ripple"></div>'+i("bC7V")+"</div>").on("click",(function(e){t.widgetBar.resizerBridge.requestFullscreen(),d("Mobile","Open right toolbar")})))),t.$pages=$(document.createElement("div")).attr("class","widgetbar-pages"),t.$pagescontent=$(document.createElement("div")).attr("class","widgetbar-pagescontent").appendTo(t.$pages),H()||t.$pages.css("right","-1px"),t.$handle=$(document.createElement("div")).attr("class","widgetbar-handle").appendTo(t.$pages),t.$handle.on("mousedown touchstart",t.onLayoutResizeHandleMousedown.bind(t)),t.$handle.on("contextmenu",(function(t){t.target.classList.contains("widgetbar-handle")&&t.preventDefault()})),this.widgetBar.showCloseButton){t.$hider=$(document.createElement("div")).addClass("widgetbar-hider");var e=function(){var e=t.$hider.get(0);e.classList.toggle("widgetbar-hider--closed",t.isMinimized.value()),e.classList.toggle("js-hidden",H()&&t.isMinimized.value()),f.render(w.createElement(_,{isMinimized:t.isMinimized.value(),onClick:function(){t.setMinimizedState(!t.minimized)}}),e)};t.isMinimized.subscribe(e),e()}t.pages.forEach((function(e){e.createHTML(),e.$page.appendTo(t.$pagescontent)}))},N.prototype.createHTML=function(){var t=this;t.$page=$(document.createElement("div")).attr("class","widgetbar-page"),t.widgets.forEach((function(e){e.createHTML(),e.$widget.appendTo(t.$page)}))},N.prototype.createTabButtonViewModel=function(){var t=this;t.tab=new v({icon:L.svgIcons[t.icon],hint:t.title,onClick:function(e){t.widgetBarLayout&&t.widgetBarLayout.onTabClick(e,t)}})},A.prototype.getTitle=function(t){var e,i,n,o=(e=this.type,i=this.getWidgetBarOption("widgetConfig"),!(n=((i=i||L.widgetConfig)[e]||0).title)&&e&&(n=(""+e).match(/[A-Z]{2,}|\d+(?:\.\d+)?|[A-Z]?[a-z]+/g).join(" ").replace(/^.|\s./g,(function(t){return t.toUpperCase()}))),n||void 0)
;return t&&this.customTitle&&o?this.customTitle.substr(0,o.length)===o?this.customTitle:o+": "+this.customTitle:this.customTitle||o||$.t("Widget")},A.prototype.createHTML=function(){var t=this,e=!!t.widgetConfig&&(!!t.widgetConfig.icon&&t.widgetConfig.icon),i=t.widgetConfig&&t.widgetConfig.emptyHeader,n=t.widgetConfig&&t.widgetConfig.noHeader,o=t.widgetConfig&&t.widgetConfig.noHeaderSpace,s=t.widgetConfig&&t.widgetConfig.widgetClass||"",r=t.widgetConfig&&t.widgetConfig.headerClass||"",a=t.widgetConfig&&t.widgetConfig.titleClass||"";t.$widget=$(document.createElement("div")).attr("class",p(s,"widgetbar-widget","widgetbar-widget-"+t.type)),t.$header=$(document.createElement("div")).attr("class",r||"widgetbar-widgetheader"),n||t.$header.appendTo(t.$widget),t.$header.on("contextmenu",(function(t){"input"!==t.target.tagName.toLowerCase()&&t.preventDefault()})),e&&(t.$headericon=$(document.createElement("div")).attr("class","widgetbar-widgetheader-icon widgetbar-widgetheader-icon-"+e).append($(L.svgIcons[e])).appendTo(t.$header)),o||(t.$headerspace=$(document.createElement("div")).attr("class","widgetbar-headerspace").appendTo(t.$header),t.$headerspace.on("click",(function(t){t.preventDefault()}))),i||(t.$title=$(document.createElement("div")).attr("class",p("widgetbar-widgettitle",a)).appendTo(t.$header),t.$title.text(this.getTitle()));var l=$(document.createElement("div")).attr("class","widgetbar-widgetbody").appendTo(t.$widget);l.on("contextmenu",(function(t){t.target.classList.contains("widgetbar-widgetbody")&&t.preventDefault()})),t._internalState.container.setValue(T(l)),t.$resizehandle=$(document.createElement("div")).attr("class","widgetbar-widgethandle").appendTo(t.$widget),t.$resizehandle.on("mousedown touchstart",(function(e){t.widgetBarPage&&t.widgetBarPage.onWidgetResizeHandleMousedown(e,t)})),t.$resizehandle.on("contextmenu",(function(t){t.target.classList.contains("widgetbar-widgethandle")&&t.preventDefault()})),!0===this.maximized&&(this.toggleMaximize(!0),delete this.maximized)},D.demarshal=function(t,e){return(new D).demarshal(t,e)},N.demarshal=function(t,e){return(new N).demarshal(t,e)},A.demarshal=function(t,e){return(new A).demarshal(t,e)},D.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(r){}if(!t||"object"!=typeof t)return null;this.width=+t.width,!isFinite(this.width)||this.width<=0?delete this.width:this.width<this.MIN_WIDTH&&(this.width=this.MIN_WIDTH),"minimized"in t?(this.minimized=!!t.minimized,this.isMinimized.setValue(this.minimized)):(delete this.minimized,this.isMinimized.setValue(this.minimized)),"version"in t&&(this.version=t.version);var i=+t.activeIndex,n=t.activeName,o=!1,s=this.pages;return s.splice(0,this.pages.length),Array.isArray(t.pages)&&t.pages.forEach((function(t,r){var a=new N({widgetBarLayout:this}).demarshal(t,e);n?t.name===n&&a&&(i=r,o=!0):a||r!==i||i--,a&&s.push(a)}),this),n&&!o&&(i=0),0===s.length?(this.activeIndex=-1,this.activePageIndex.setValue(this.activeIndex)):i>=0&&i<s.length&&(this.activeIndex=i,
this.activePageIndex.setValue(this.activeIndex)),this},N.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(n){}if(!t||!t.widgets||!Array.isArray(t.widgets))return null;var i=this.widgets;return i.splice(0,i.length),this._gaEvent=t._gaEvent,this.title=t.title,this.name=t.name,this.icon=t.icon,this.spaceBottom=t.spaceBottom,this.spaceBottomText=t.spaceBottomText,this.onBottom=t.onBottom,this.createTabButtonViewModel(),t.widgets.forEach((function(t){var n=new A({widgetBarPage:this}).demarshal(t,e);n&&i.push(n)}),this),0===i.length?null:this},A.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(s){}if(!t||"object"!=typeof t)return null;var i;if("id"in t?(this.id=t.id+"",this.type=this.id.replace(/\..*/,"")):"type"in t?(this.type=t.type+"",this.id=L.prototype.createWidgetId(this.type)):(delete this.type,delete this.id),null!=t.readonly?this.readonly=!!t.readonly:delete this.readonly,this.stateData=t.data,isFinite(+t.heightRatio)&&+t.heightRatio>=0?this.heightRatio=+t.heightRatio:delete this.heightRatio,!0===t.maximized&&(this.maximized=!0),!0===t.unAuthEditable&&(this.unAuthEditable=!0),t.settingsKey)i=t.settingsKey;else if(this.id){var n=this.getWidgetBarOption("_settingsPrefix");n&&(i=n+".widget."+this.id)}this.properties=new W({widgetBarWidget:this,settingsKey:i}),null==t.properties||i&&null!==this.properties.value()||this.properties.setValue(t.properties),"news"!==this.type&&"hotlist"!==this.type||!i||this.properties.setValue($.extend(!0,{},t.properties,this.properties.value())),"hotlist"===this.type&&!i&&t.properties&&this.properties.setValue(t.properties),this.widgetConfig=null;var o=this.getWidgetBarOption("widgetConfig");return o[this.type]&&(this.widgetConfig=o[this.type]),this},D.prototype.marshal=function(t){var e=[];this.pages.forEach((function(i){var n=i.marshal(t);n&&(e=e.concat(n))}));for(var i={},n=0;n<e.length;n++)if(e[n].type){var o=e[n].type;e[n].id&&delete e[n].type,i[o]?i[o].push(e[n]):i[o]=[e[n]]}var s={widgets:i,settings:{}};return["minimized","width","activeIndex","version","activeName"].forEach((function(t){this[t]!==D.prototype[t]&&(s.settings[t]=this[t])}),this),s},N.prototype.marshal=function(t){var e=[];return this.widgets.forEach((function(i){var n=i.marshal(t);n&&e.push(n)})),0===e.length?null:e},A.prototype.marshal=function(t){var e={};return this.id&&(e.id=this.id),this.type&&(e.type=this.type),["heightRatio"].forEach((function(t){this[t]!==A.prototype[t]&&(e[t]=this[t])}),this),this.widgetMaximized.value()&&(e.maximized=!0),t&&t.includeWidgetProperties&&this.properties&&(e.properties=TradingView.clone(this.properties.value())),e},t.exports.WidgetBar=L}).call(this,i("Kxc7"),i("hY0g"),i("aIyQ"))},BpqW:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><g fill="none" stroke="currentcolor"><path d="M19.5 33.5h6a2 2 0 0 0 2-2v-4c2.41-1.615 4-4.88 4-8a9 9 0 0 0-18 0c0 3.122 1.586 6.386 4 8v4a2 2 0 0 0 2 2zm-2-6h10m-10 3h10m-7 3v1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-1"/><path stroke-linecap="square" d="M22.5 27.5v-7m-2 0h4"/><path d="M11.86 13.945A11.948 11.948 0 0 0 10.5 19.5c0 2.009.494 3.902 1.366 5.566M9.203 12.552A14.935 14.935 0 0 0 7.5 19.5c0 2.508.615 4.872 1.703 6.95M33.14 13.945A11.946 11.946 0 0 1 34.5 19.5c0 2.009-.494 3.902-1.366 5.566m2.663-12.514A14.935 14.935 0 0 1 37.5 19.5c0 2.508-.615 4.872-1.703 6.95"/></g></svg>'},CNcW:function(t,e,i){"use strict";i.r(e),i.d(e,"HotlistRenderer",(function(){return l}));var n=i("mrSG"),o=i("q1tI"),s=i("i8i4"),r=i("ku9n"),a=i("J/x9"),l=function(t){function e(e){var i=t.call(this,e)||this;i._task=null;var n=e.properties;return i._properties=n,i.mount(),i}return Object(n.__extends)(e,t),e.prototype.mount=function(){var t=this,e=this._loadModulePromise=Promise.all([Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(18),i.e(16),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(45),i.e(94),i.e(122),i.e(123),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(365),i.e(7),i.e(28),i.e(33),i.e(43),i.e(44),i.e(41),i.e(48),i.e(67),i.e(65),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("hotlist-widget")]).then(i.bind(null,"/MKj")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(18),i.e(16),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(45),i.e(94),i.e(122),i.e(123),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(365),i.e(7),i.e(28),i.e(33),i.e(43),i.e(44),i.e(41),i.e(48),i.e(67),i.e(65),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("hotlist-widget")]).then(i.bind(null,"16wD")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(18),i.e(16),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(45),i.e(94),i.e(122),i.e(123),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(365),i.e(7),i.e(28),i.e(33),i.e(43),i.e(44),i.e(41),i.e(48),i.e(67),i.e(65),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("hotlist-widget")]).then(i.bind(null,"6ibq")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(18),i.e(16),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(45),i.e(94),i.e(122),i.e(123),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(365),i.e(7),i.e(28),i.e(33),i.e(43),i.e(44),i.e(41),i.e(48),i.e(67),i.e(65),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("hotlist-widget")]).then(i.bind(null,"u18y")),Object(a.a)()]).then((function(i){var n=i[0],r=i[1],a=i[2],l=i[3],c=i[4];if(t._loadModulePromise===e){var d=c.store,h=c.actions,u=c.runner,p=h.initWidget;t._task=u.run(l.hotlistsSaga,t._widgetId),d.dispatch(p(t._widgetId,["short_name","last_price","change","change_percent"],{isDeletable:!1,isSortable:!1,isMovable:!1,enableContextMenu:!1,enableAddSymbolsByAnon:!1,shouldDisplaySymbolSearch:!1,shouldDisplayPositions:!1,shouldDisplayColumnsMenu:!1})),s.render(o.createElement(n.Provider,{store:d},o.createElement(r.Hotlist,{
properties:t._properties,widgetId:t._widgetId})),t._container),s.render(o.createElement(n.Provider,{store:d},o.createElement(a.HotlistHeader,{properties:t._properties,widgetId:t._widgetId})),t._headerContainer)}}))},e.prototype.unmount=function(){t.prototype.unmount.call(this),this._cancelTask()},e.prototype.destroy=function(){this._cancelTask(),t.prototype.destroy.call(this)},e.prototype._cancelTask=function(){this._task&&(this._task.cancel(),this._task=null)},e}(r.a)},CiGC:function(t,e,i){"use strict";var n,o=function(){function t(t){this._coll=t}return t.prototype.getItemByIdx=function(t){return this._coll.item(t)},t.prototype.getItems=function(){return Array.from(this._coll)},t.prototype.getFirstItem=function(){return this.getItemByIdx(0)},t.prototype.getLastItem=function(){var t=this._coll.length;return this.getItemByIdx(t-1)},t.prototype.getItemIdx=function(t){return Array.prototype.findIndex.call(this._coll,(function(e){return e===t}))},t.prototype.getLength=function(){return this._coll.length},t.prototype.contains=function(t){return-1!==this.getItemIdx(t)},t}(),s=i("lxNp");i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),function(t){t[t.Prev=-1]="Prev",t[t.Next=1]="Next"}(n||(n={}));var r=function(){function t(t){var e=this;this._list=t.list,this._items=new o(this._list.getElementsByClassName(t.listItemClass)),this._focused=new o(this._list.getElementsByClassName(t.focusedListItemClass)),this._selected=new o(this._list.getElementsByClassName(t.selectedListItemClass)),this._cursor=new o(this._list.getElementsByClassName("cursor")),this._selectedListItemClass=t.selectedListItemClass,this._focusedListItemClass=t.focusedListItemClass,this._onSelect=t.onSelect,this._onNavigate=t.onNavigate,this._onConfirm=t.onConfirm,this._onDelete=t.onDelete,this._mouseActions=new Map,this.hotkeys=Object(s.createGroup)({desc:"Selectable list"}),t.modes&&t.modes.forEach((function(i){return new i({selection:e,localHotkeyElement:e._list,globalHotkeyElement:t.globalHotkeys?null:e._list})}))}return t.prototype.selectItem=function(t){t.classList.add(this._selectedListItemClass)},t.prototype.unselectItem=function(t){t.classList.remove(this._selectedListItemClass)},t.prototype.focusItem=function(t){this.removeFocus(),t.classList.add(this._focusedListItemClass),this.setCursor(t)},t.prototype.getFocusedItemIdx=function(){var t=this._focused.getFirstItem();return t?this._items.getItemIdx(t):-1},t.prototype.getFocusedItem=function(){return this._focused.getFirstItem()},t.prototype.isSelected=function(t){return this._selected.contains(t)},t.prototype.isFocused=function(t){return this._focused.contains(t)},t.prototype.isListItem=function(t){return this._items.contains(t)},t.prototype.removeSelections=function(){var t=this;this._selected.getItems().forEach((function(e){return e.classList.remove(t._selectedListItemClass)}))},t.prototype.removeFocus=function(){var t=this;this._focused.getItems().forEach((function(e){return e.classList.remove(t._focusedListItemClass)}))},t.prototype.move=function(t,e,i){
var n,o=t?this._items.getItemIdx(t):-1;(n="number"==typeof e?this._items.getItemByIdx(this._calcNextItemIdx(o,e)):e)&&(i(n,t),this._scrollIfNotVisible(n))},t.prototype.getSelectedItems=function(){return this._selected.getItems()},t.prototype.getList=function(){return this._list},t.prototype.getItemsCollection=function(){return this._items},t.prototype.getSelectedCollection=function(){return this._selected},t.prototype.setCursor=function(t){this.removeCursor(),t.classList.add("cursor")},t.prototype.removeCursor=function(){this._cursor.getItems().forEach((function(t){return t.classList.remove("cursor")}))},t.prototype.getCursorItem=function(){return this._cursor.getFirstItem()},t.prototype.getCursorItemIdx=function(){var t=this.getCursorItem();return t?this._items.getItemIdx(t):-1},t.prototype.onSelect=function(t,e){this._onSelect&&this._onSelect({cursor:e,items:this.getSelectedItems(),action:t})},t.prototype.onNavigate=function(t,e){this._onNavigate&&this._onNavigate({cursor:t,cursorIdx:this.getCursorItemIdx(),items:[t],action:e})},t.prototype.onConfirm=function(t,e){this._onConfirm&&this._onConfirm({cursor:t,items:[t],action:e})},t.prototype.onDelete=function(t,e,i){this._onDelete&&this._onDelete({cursor:i,items:t,action:e})},t.prototype.registerMouseAction=function(t,e){this._mouseActions.set(t,e)},t.prototype.dispatchMouseEvent=function(t,e){var i=this._mouseActions.get(t);i&&i(e)},t.prototype.delegateClick=function(t){var e=this;return function(i){if(!i.defaultPrevented)for(var n=e._list.contains(i.target),o=i.target;n&&o!==e._list;){if(o&&e.isListItem(o))return void t(o);o=o&&o.parentElement}}},t.prototype.clear=function(){this.removeSelections(),this.removeFocus(),this.removeCursor()},t.prototype.destroy=function(){this.hotkeys.destroy(),delete this._list,delete this._items,delete this._selected,delete this._focused,delete this._cursor,delete this._mouseActions},t.prototype._scrollIfNotVisible=function(t){var e=this._list.getBoundingClientRect(),i=t.getBoundingClientRect(),n=e.top,o=e.bottom,s=i.top,r=i.bottom;s<n?this._list.scrollTop-=n-s:r>o&&(this._list.scrollTop+=r-o)},t.prototype._calcNextItemIdx=function(t,e){var i=this._items.getLength()-1,n=t+e;return n<0&&(n=i),n>i&&(n=0),n},t}()},EvtC:function(t,e,i){t.exports={button:"button-2-lC3gh4"}},"Fb/L":function(t,e,i){"use strict";i.r(e),i.d(e,"WidgetBarInternal",(function(){return o}));var n=i("Kxc7"),o=function(){function t(){}return t.prototype.isHelpButtonAvailable=function(){return!n.enabled("widget")&&!n.enabled("charting_library_base")},t.prototype.isSupportTicketButtonAvailable=function(){return n.enabled("bugreport_button")},t.prototype.isDomButtonAvailable=function(){return n.enabled("dome_widget")},t.prototype.isOrderPanelButtonAvailable=function(){return n.enabled("order_panel")},t}()},Fty4:function(t,e,i){"use strict";i.r(e),i.d(e,"ActionCreators",(function(){return d}));i("bSeV"),i("YFKU");var n=i("7KDR"),o=i("JUY+"),s=i("bIzq"),r=i("+HSM"),a=i("MXV9"),l=i("K8V9"),c=i("PgQx"),d={stopAlert:function(t){return new n.Action({label:window.t("Stop",{
context:"alert"}),icon:r,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(e){return e.stopAlert(t)}))}})},restartAlert:function(t,e){return new n.Action({label:window.t("Restart"),icon:s,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(i){return i.restartAlert(t,{actionSource:e})}))}})},editAlert:function(t,e){return new n.Action({label:window.t("Edit..."),icon:a,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(i){return i.openEditDialog(t,{actionSource:e})}))}})},cloneAlert:function(t,e,i){return new n.Action({label:window.t("Clone"),icon:l,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(n){return n.cloneAlert(t,{actionSource:e,eventLabel:i})}))}})},deleteAlert:function(t){return new n.Action({label:window.t("Remove"),icon:c,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(e){return e.deleteAlert(t,{showConfirm:!0})}))}})},restartAllAlerts:function(t,e){var i=t||e?window.t("Restart as per filter"):window.t("Restart all inactive");return new n.Action({label:i,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(i){return i.restartAllAlerts({showConfirm:!0,symbol:t,resolution:e,active:!1})}))}})},stopAllAlerts:function(t,e){var i=t||e?window.t("Stop as per filter"):window.t("Stop all");return new n.Action({label:i,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(i){return i.stopAllAlerts({showConfirm:!0,symbol:t,resolution:e})}))}})},deleteAllInactiveAlerts:function(){return new n.Action({label:window.t("Remove all inactive"),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(t){return t.deleteAllAlerts({active:!1,showConfirm:!0,symbol:null,resolution:null})}))}})},deleteAllAlerts:function(t,e,i){var s=t||e||i?window.t("Remove as per filter"):window.t("Remove all");return new n.Action({label:s,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then((function(n){return n.deleteAllAlerts({showConfirm:!0,symbol:t,resolution:e,active:!!i||null})}))}})},deleteAllEvents:function(){return new n.Action({label:window.t("Clear Log"),onExecute:function(t){return Object(o.getPriceAlertsDispatcher)().then((function(t){return t.deleteEvents()}))}})}}},GA3W:function(t,e,i){},GNw3:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m5 12v-1h4v1zm5-6h1v4h-1zm0 7h1v4h-1zm2-1v-1h4v1zm7 0v-1h10.5a4.5 4.5 0 0 1 4.5 4.5v14a4.5 4.5 0 0 1-4.5 4.5h-15a4.5 4.5 0 0 1-4.5-4.5V20h1v9.5a3.5 3.5 0 0 0 3.5 3.5h15a3.5 3.5 0 0 0 3.5-3.5v-14a3.5 3.5 0 0 0-3.5-3.5H19zm-3 5a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2H16zm0-1h12a2 2 0 1 1 0 4H16a2 2 0 1 1 0-4zm-1 8v-1h8v1zm0 4v-1h8v1zm11-4v-1h3v1zm0 4v-1h3v1z"/></svg>'},GWvR:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M9.901 9.639c-.102-.797.218-1.775.77-2.356l1.438-1.527-2.07-.395c-.784-.142-1.615-.742-2.008-1.446L7.003 2.06 5.97 3.917c-.391.702-1.222 1.301-2 1.443l-2.08.396 1.44 1.526c.547.577.866 1.549.77 2.353l-.262 2.086 1.93-.897a2.95 2.95 0 0 1 1.233-.254c.44 0 .87.085 1.233.254l1.93.897-.263-2.082zm.992-.127l.458 3.624c.014.105-.006.16-.02.176-.028.03-.109.005-.182-.03L7.812 11.73a1.973 1.973 0 0 0-.811-.16c-.302 0-.59.057-.81.16l-3.338 1.552c-.118.056-.164.051-.182.03-.014-.016-.034-.07-.02-.178L3.11 9.51c.06-.503-.162-1.18-.505-1.54L.087 5.302c-.085-.091-.09-.148-.086-.158.003-.01.04-.053.16-.077l3.621-.689c.491-.09 1.069-.506 1.315-.948L7.004 0l1.902 3.43c.246.442.824.859 1.312.947l3.617.69c.123.024.162.068.164.077.003.01-.003.066-.089.157L11.4 7.97c-.348.367-.57 1.045-.506 1.543z"/></svg>'},"H+PN":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 16" width="24px" height="16px"><path clip-rule="evenodd" d="M12 0C4.07 0 0 8 0 8s3.072 8 12 8c8.087 0 12-7.97 12-7.97S20.057 0 12 0zm.02 13c-2.9 0-4.996-2.188-4.996-5 0-2.813 2.096-5 4.995-5s4.992 2.187 4.992 5c0 2.812-2.096 5-4.995 5zm0-8c-1.658 0-3 1.393-3 3 0 1.606 1.34 3 2.997 3 1.656 0 2.996-1.395 2.996-3 0-1.608-1.34-3.003-2.997-3z"/></svg>'},HRBU:function(t,e,i){"use strict";function n(t,e){return Promise.all([i.e(55),i.e(219),i.e("generate-alerts-events-csv-file-impl")]).then(i.bind(null,"YMRZ")).then((function(i){return i.generateAlertsEventsCSVFileImpl(t,e)}))}i.r(e),i.d(e,"generateAlertsEventsCSVFile",(function(){return n}))},HSWI:function(t,e,i){t.exports={filler:"filler-3UAoz6aE"}},HWhk:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fillRule="evenodd" clipRule="evenodd" d="M7.5 13a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM5 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM19 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"/></svg>'},Hpvy:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" d="M21 14.5a7.5 7.5 0 0 0-15 0v.5H5v-.5a8.5 8.5 0 1 1 8.5 8.5H13v-1h.5a7.5 7.5 0 0 0 7.5-7.5zm-8-.5V9h1v6h-4v-1h3zm-5.646 2.646l3.5 3.5.353.354-.353.354-3.5 3.5-.708-.708L9.293 21H3v-1h6.293l-2.647-2.646.708-.708z"/></svg>'},IMMp:function(t){
t.exports=JSON.parse('{"color-bg-primary":"color-cold-gray-850","color-bg-primary-hover":"color-cold-gray-800","color-bg-secondary":"color-cold-gray-900","color-bg-highlight":"color-cold-gray-900","color-bg-scroll-buttons":"color-cold-gray-800","color-legacy-bg-scroll-buttons":"color-cold-gray-550","color-legacy-bg-widget":"color-cold-gray-900","color-text-primary":"color-cold-gray-200","color-text-secondary":"color-cold-gray-500","color-text-tertiary":"color-cold-gray-400","color-text-disabled":"color-cold-gray-650","color-divider":"color-cold-gray-700","color-divider-hover":"color-cold-gray-800","color-box-shadow":"color-black","color-active-hover-text":"color-gull-gray","color-alert-text":"color-loblolly","color-border":"color-bright-gray","color-border-chat-fields":"color-bright-gray","color-border-hover":"color-trout-1","color-border-table":"color-cold-gray-800","color-brand":"color-tv-blue-700","color-brand-active":"color-tv-blue-600","color-brand-hover":"color-tv-blue-600","color-button-hover-bg":"color-mirage-3","color-chart-page-bg":"color-cold-gray-800","color-common-tooltip-bg":"color-cold-gray-650","color-danger":"color-ripe-red-600","color-depthrenderer-fill-style":"color-catskill-white","color-depthrenderer-stroke-style":"color-trout-1","color-disabled-border-and-color":"color-ebony-clay","color-disabled-input":"color-bright-gray","color-empty-container-message":"color-slate-gray","color-highlight-new":"color-dark-slate-blue","color-icons":"color-slate-gray","color-input-bg":"color-charade","color-input-textarea-readonly":"color-trout-1","color-input-placeholder-text":"color-cold-gray-700","color-input-publish-bg":"color-mirage-1","color-item-active-blue":"color-blue-dianne","color-item-hover-active-bg":"color-charade","color-item-hover-bg":"color-ebony-clay","color-item-hover-blue":"color-blue-dianne","color-item-selected-blue":"color-blue-dianne","color-item-active-text":"color-cold-gray-200","color-item-active-bg":"color-tv-blue-700","color-link":"color-tv-blue-700","color-link-hover":"color-tv-blue-600","color-link-active":"color-tv-blue-800","color-list-item":"color-slate-gray","color-list-nth-child-bg":"color-mirage-3","color-news-highlight":"color-charade","color-pane-bg":"color-mirage-1","color-pane-secondary-bg":"color-cold-gray-850","color-placeholder":"color-trout-2","color-popup-menu-item-hover-bg":"color-cold-gray-800","color-popup-menu-separator":"color-cold-gray-700","color-row-hover-active-bg":"color-ebony-clay","color-sb-scrollbar-body-bg":"color-trout-2","color-screener-description":"color-loblolly","color-section-separator-border":"color-bright-gray","color-separator-table-chat":"color-bright-gray","color-success":"color-minty-green-700","color-success-hover":"color-minty-green-600","color-success-active":"color-minty-green-500","color-tag-active-bg":"color-bright-gray","color-tag-hover-bg":"color-charade","color-text-regular":"color-loblolly","color-toolbar-button-text":"color-cold-gray-500","color-toolbar-button-text-hover":"color-cold-gray-450","color-toolbar-button-text-active":"color-tv-blue-700","color-toolbar-button-text-active-hover":"color-tv-blue-600","color-toolbar-button-background-hover":"color-cold-gray-800","color-toolbar-button-background-secondary-hover":"color-cold-gray-750","color-toolbar-toggle-button-background-active":"color-tv-blue-700","color-toolbar-toggle-button-background-active-hover":"color-tv-blue-600","color-toolbar-interactive-element-text-normal":"color-cold-gray-300","color-toolbar-interactive-element-text-hover":"color-cold-gray-250","color-toolbar-opened-element-bg":"color-cold-gray-800","color-tooltip-bg":"color-bright-gray","color-tv-button-checked":"color-slate-gray","color-tv-dialog-caption":"color-athens-gray-2","color-tv-dropdown-item-hover-bg":"color-charade","color-underlined-text":"color-gull-gray","color-widget-pages-bg":"color-cold-gray-900","color-warning":"color-tan-orange-700","color-forex-icon":"color-white","color-list-item-active-bg":"color-medium-blue","color-list-item-hover-bg":"color-ebony-clay","color-list-item-text":"color-loblolly","color-price-axis-label-back":"color-cold-gray-800","color-price-axis-label-text":"color-cold-gray-500","color-price-axis-gear":"color-cold-gray-500","color-price-axis-gear-hover":"color-cold-gray-400","color-price-axis-highlight":"color-cold-gray-800","color-bid":"color-tv-blue-700","color-scroll-bg":"color-cold-gray-750","color-scroll-border":"color-cold-gray-850","color-widget-border":"color-cold-gray-800","color-scroll-buttons-arrow":"color-white","color-control-intent-default":"color-cold-gray-650","color-control-intent-success":"color-minty-green-600","color-control-intent-primary":"color-tv-blue-700","color-control-intent-warning":"color-tan-orange-500","color-control-intent-danger":"color-ripe-red-700","color-growing":"color-minty-green-600","color-falling":"color-ripe-red-600","color-pre-market":"color-tan-orange-600","color-pre-market-bg":"color-tan-orange-400","color-post-market":"color-tv-blue-500","color-post-market-bg":"color-tv-blue-400","color-market-open":"color-minty-green-500","color-market-open-bg":"color-minty-green-400","color-market-closed":"color-cold-gray-400","color-market-holiday":"color-cold-gray-400","color-invalid-symbol":"color-ripe-red-400","color-invalid-symbol-hover":"color-ripe-red-500","color-replay-mode":"color-tv-blue-700","color-replay-mode-icon":"color-tv-blue-50","color-replay-mode-hover":"color-tv-blue-600","color-notaccurate-mode":"color-berry-pink-700","color-notaccurate-mode-bg":"color-berry-pink-400","color-delay-mode":"color-tan-orange-700","color-delay-mode-bg":"color-tan-orange-400","color-eod-mode":"color-grapes-purple-700","color-eod-mode-bg":"color-grapes-purple-400","color-data-problem":"color-ripe-red-600","color-data-problem-bg":"color-ripe-red-400","color-data-problem-hover":"color-ripe-red-500","color-list-item-bg-highlighted":"color-tv-blue-a900","color-list-item-bg-selected":"color-tv-blue-a800","color-list-item-bg-highlighted-hover":"color-tv-blue-a800","color-list-item-bg-selected-hover":"color-tv-blue-a700","color-screener-header-bg":"color-cold-gray-850","color-screener-header-bg-hover":"color-cold-gray-800"}')
},IS8I:function(t,e,i){},"If+W":function(t,e,i){t.exports={toolbar:"toolbar-1A0PjTA7",isGrayed:"isGrayed-1AzrEXYM"}},"J/x9":function(t,e,i){"use strict";var n=i("eqEH"),o={id:"SymbolListService"};function s(){return Promise.all([Promise.all([i.e("vendors_embed"),i.e(22),i.e(33),i.e(44),i.e(48),i.e(84),i.e(151),i.e("symbol-list-service")]).then(i.bind(null,"CqQ8")),Promise.all([i.e("vendors_embed"),i.e(22),i.e(33),i.e(44),i.e(48),i.e(84),i.e(151),i.e("symbol-list-service")]).then(i.bind(null,"NyG/")),Promise.all([i.e("vendors_embed"),i.e(22),i.e(33),i.e(44),i.e(48),i.e(84),i.e(151),i.e("symbol-list-service")]).then(i.bind(null,"aOxy"))]).then((function(t){var e=t[0],i=t[1],s=t[2];if(Object(n.a)(o))return Object(n.c)(o);var r=e.configureStore(),a=r.store,l=r.runner,c=l.run(i.symbolListRepositorySaga);return Object(n.b)(o,{store:a,runner:l,actions:s,task:c}),Object(n.c)(o)}))}i.d(e,"a",(function(){return s}))},JHPQ:function(t,e,i){t.exports={"news-item":"news-item-D8VfMio8","news-item--highlight":"news-item--highlight-E-7277Dj","news-item__title":"news-item__title-1R_SIsDb","news-item__title--external-link":"news-item__title--external-link-3_gkzz9u","news-item__description":"news-item__description-3IfausMn","news-item__footer":"news-item__footer-2YpTTFvi"}},JQQd:function(t,e,i){"use strict";i.r(e);var n=i("CiGC"),o=i("lfvH"),s=i("lxNp"),r=function(){function t(t){this._selection=t.selection,this._selection.hotkeys.add({hotkey:s.Modifiers.Alt+13,handler:this._onItemKeyDown.bind(this,"alt+return"),element:t.localHotkeyElement}),this._selection.hotkeys.add({hotkey:s.Modifiers.Alt+s.Modifiers.Shift+13,handler:this._onItemKeyDown.bind(this,"alt+return"),element:t.localHotkeyElement})}return t.prototype._onItemKeyDown=function(t,e){var i=this._selection.getCursorItem();i&&this._selection.onConfirm(i,t)},t}(),a=function(){function t(t){this._selection=t.selection,this._selection.registerMouseAction("shift+click",this._selection.delegateClick(this._onItemClick.bind(this,"shift+click"))),this._selection.hotkeys.add({desc:"Extend Selection Down",hotkey:s.Modifiers.Shift+40,handler:this._nextRangeItem.bind(this,"shift+down"),element:t.localHotkeyElement}),this._selection.hotkeys.add({desc:"Extend Selection Up",hotkey:s.Modifiers.Shift+38,handler:this._prevRangeItem.bind(this,"shift+up"),element:t.localHotkeyElement})}return t.prototype._nextRangeItem=function(t){var e=this._selection.getItemsCollection(),i=this._selection.getCursorItem();this._selection.getCursorItemIdx()!==e.getLength()-1&&this._selection.move(i,n.a.Next,this._addItemToRange(t,(function(t,e){return t<e})))},t.prototype._prevRangeItem=function(t){var e=this._selection.getCursorItem();0!==this._selection.getCursorItemIdx()&&this._selection.move(e,n.a.Prev,this._addItemToRange(t,(function(t,e){return t>e})))},t.prototype._onItemClick=function(t,e){var i=this._selection.getItemsCollection().getItems(),n=this._getRangeInfo(e);this._selection.removeSelections();for(var o=n.start;o<=n.end;o++)this._selection.isSelected(i[o])||this._selection.selectItem(i[o])
;this._selection.setCursor(e),this._selection.onSelect(t,e)},t.prototype._getRangeInfo=function(t){var e=this._selection.getItemsCollection().getItemIdx(t),i=this._selection.getFocusedItemIdx(),n=-1!==i?i:0;return e>n?{start:n,end:e}:{start:e,end:n}},t.prototype._addItemToRange=function(t,e){var i=this;return function(n,o){var s=i._selection.getItemsCollection().getItemIdx(n),r=i._selection.getFocusedItemIdx();0===i._selection.getSelectedCollection().getLength()&&o&&i._selection.selectItem(o),e(r,s)?i._selection.selectItem(n):o&&i._selection.unselectItem(o),i._selection.setCursor(n),i._selection.onSelect(t,n)}},t}(),l=function(){function t(t){this._selection=t.selection,this._selection.registerMouseAction("ctrl+click",this._selection.delegateClick(this._onItemClick.bind(this,"ctrl+click"))),this._selection.registerMouseAction("meta+click",this._selection.delegateClick(this._onItemClick.bind(this,"meta+click"))),this._selection.hotkeys.add({hotkey:s.Modifiers.Mod+65,handler:this._selectAll.bind(this,"ctrl+a"),element:t.localHotkeyElement}),this._selection.hotkeys.add({hotkey:27,handler:this._unselectAll.bind(this,"esc"),element:t.localHotkeyElement})}return t.prototype._onItemClick=function(t,e){var i=this._selection.getFocusedItem(),n=this._selection.getSelectedCollection().getLength();i&&0===n&&this._selection.selectItem(i),this._toggleSelection(e),this._selection.onSelect(t,e)},t.prototype._toggleSelection=function(t){this._selection.isSelected(t)?this._selection.unselectItem(t):this._selection.selectItem(t),this._selection.setCursor(t)},t.prototype._selectAll=function(t){var e=this;this._selection.getItemsCollection().getItems().forEach((function(t){return e._selection.selectItem(t)})),this._selection.onSelect(t)},t.prototype._unselectAll=function(t){this._selection.removeSelections();var e=this._selection.getFocusedItem();e&&this._selection.setCursor(e),this._selection.onSelect(t)},t}(),c=function(){function t(t){this._selection=t.selection,this._selection.hotkeys.add({desc:"Delete",hotkey:46,handler:this._delete.bind(this,"del"),element:t.globalHotkeyElement})}return t.prototype._delete=function(t){var e=this._selection.getSelectedItems(),i=this._selection.getCursorItem();i&&e.length>0?this._selection.onDelete(e,t,i):i&&this._selection.onDelete([i],t,i)},t}(),d=i("qFKp");i.d(e,"SelectableList",(function(){return h})),i.d(e,"createSelectableList",(function(){return u}));var h=function(){function t(t){var e=this;this._dispatchClick=function(t){t.ctrlKey&&!Object(d.isMac)()?e._selection.dispatchMouseEvent("ctrl+click",t):t.shiftKey?e._selection.dispatchMouseEvent("shift+click",t):t.metaKey&&Object(d.isMac)()?e._selection.dispatchMouseEvent("meta+click",t):e._selection.dispatchMouseEvent("click",t)},this._onSelect=function(t){e._collectKeys(),e._opts.onSelect&&e._opts.onSelect(t)},this._onNavigate=function(t){e._collectKeys(),e._opts.onNavigate&&e._opts.onNavigate(t)},this._disableSelection=function(){e._list.onselectstart=function(){return!1}},this._enableSelection=function(){e._list.onselectstart=function(){
return null}},this._opts=t,this._list=t.list,this._selection=new n.b({list:t.list,listItemClass:t.listItemClass,selectedListItemClass:t.selectedListItemClass,focusedListItemClass:t.focusedListItemClass,onSelect:this._onSelect,onNavigate:this._onNavigate,onConfirm:t.onConfirm,onDelete:t.onDelete,modes:t.modes,globalHotkeys:Boolean(t.globalHotkeys)}),this._selectedKeys=[],this._focusedKey=null,this._cursorKey=null,this.activate(),this._collectKeys()}return t.prototype.activate=function(){this._list.addEventListener("click",this._dispatchClick),this._list.addEventListener("keydown",this._disableSelection),this._list.addEventListener("keyup",this._enableSelection),this._selection.hotkeys.promote()},t.prototype.deactivate=function(){this._list.removeEventListener("click",this._dispatchClick),this._list.removeEventListener("keydown",this._disableSelection),this._list.removeEventListener("keyup",this._enableSelection)},t.prototype.focusItem=function(t){this._selection.isSelected(t)||this._selection.isFocused(t)||(this._selection.removeSelections(),this._selection.focusItem(t))},t.prototype.removeFocus=function(){this._selection.removeFocus()},t.prototype.restore=function(){var t=this;if(this._opts.getNodeKey){var e=this._selection.getItemsCollection().getItems(),i=this._opts.getNodeKey;e.forEach((function(e){var n=i(e);t._focusedKey===n&&t._selection.focusItem(e),t._cursorKey===n&&t._selection.setCursor(e),t._selectedKeys.includes(n)&&t._selection.selectItem(e)}))}},t.prototype.getSelectedKeys=function(){return this._collectKeys(),this._selectedKeys},t.prototype.getFocusedKey=function(){return this._collectKeys(),this._focusedKey||null},t.prototype.clear=function(){this._selection.clear()},t.prototype.destroy=function(){this.deactivate(),this._selection.destroy(),delete this._selection,delete this._list,delete this._opts},t.prototype._collectKeys=function(){if(this._opts.getNodeKey){var t=this._opts.getNodeKey,e=this._selection.getSelectedItems(),i=this._selection.getFocusedItem(),n=this._selection.getCursorItem();this._selectedKeys=e.map((function(e){return t(e)})),this._focusedKey=i?t(i):null,this._cursorKey=n?t(n):null}},t}();function u(t){return new h(Object.assign({},{modes:[o.Navigation,r,c,l,a]},t))}},K8V9:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M13.111 18.5H10.5a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-8.389z"/><path d="M18.5 20v1.5a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1H8"/></g></svg>'},LBec:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="M23.98 13.12c3.67 1.19 5.98 4.85 6.02 9.26v2.31c-.04 1.53.03 2.14.35 2.46l-.7.7c-.61-.6-.7-1.32-.66-3.18L29 24v-1.62c-.04-4.13-2.23-7.46-5.63-8.4a.5.5 0 0 1-.37-.48c0-1.04-.56-1.5-1.5-1.5s-1.5.46-1.5 1.5a.5.5 0 0 1-.37.48c-3.4.93-5.59 4.27-5.63 8.4V24l.01.67c.04 1.86-.05 2.58-.66 3.18l-.7-.7c.32-.32.4-.93.36-2.46L13 24v-1.62c.04-4.41 2.35-8.07 6.02-9.26.15-1.39 1.14-2.12 2.48-2.12s2.33.73 2.48 2.12zM13 28a1 1 0 0 0 0 2h17a1 1 0 0 0 0-2m0-1a1 1 0 0 1 0 4H13a1 1 0 0 1 0-4m6 3.5a1 1 0 0 0 5 0h1a1 1 0 0 1-7 0"/></svg>'},M1lL:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 24" width="23" height="24"><g fill="none"><g stroke="currentColor"><path d="M15.499 17.246a7 7 0 1 0-8.003-.004l.003 3.753c0 .279.232.505.501.505h7c.276 0 .5-.229.5-.505l-.001-3.749z"/><path stroke-linecap="square" d="M9.5 22v.992c0 .28.215.508.49.508h3.02c.27 0 .49-.221.49-.508V22"/><path d="M7.5 17.5h8"/><path stroke-linecap="square" d="M11.5 12.5v4m-2-5h4"/><path d="M7.5 19.5h8"/></g><path fill="currentColor" fill-rule="nonzero" d="M2 11H0v1h2zm15.864 7.571l1.414 1.414.707-.707-1.414-1.414zM23 11h-2v1h2zm-4.429-5.864l1.414-1.414-.707-.707-1.414 1.414zM4.429 17.864l-1.414 1.414.707.707 1.414-1.414zm.707-13.435L3.722 3.015l-.707.707 1.414 1.414zM12 2V0h-1v2z"/></g></svg>'},MVPm:function(t,e,i){"use strict";i.r(e),i.d(e,"configure",(function(){return d}));var n=i("mrSG"),o=i("Eyy1"),s=i("Z+Vr"),r=i("ku9n"),a=i("qFKp"),l=i("m2+w"),c=i("J/x9");function d(t){return Object(o.ensure)(t.chartApiInstance),function(e){function r(t){var i=e.call(this,t)||this;return i._addSymbolPromise=null,i._task=null,i._props=t,i.mount(),i}return Object(n.__extends)(r,e),r.prototype.mount=function(){var e=this,i=this._loadModulePromise=r.preload().then((function(n){var r=n[0],c=n[1],d=n[2],h=n[3],u=n[4],p=n[5],g=n[6],m=n[7];if(e._loadModulePromise===i){var v=r.store,_=r.runner,f=r.actions.initWidget,w=e._props,b=w.readonly,y=w.unAuthEditable;e._task=_.run(g.watchListSaga);var C=new l.a;if(v.dispatch(f(s.a,C.get(),{shouldDisplayColumnsMenu:!0,shouldDisplayPositions:!0,isSortable:!0,enableContextMenu:!0,isDeletable:!b,isMovable:!b,shouldDisplaySymbolSearch:y||!b&&!Object(a.onWidget)(),enableAddSymbolsByAnon:Boolean(y)||!1})),void 0!==m){var S=Object(o.ensure)(t.tradingViewApi);if(!S.watchlist()){var k=t.chartApiInstance,$=new m.WatchListApi(k,v);S.setWatchlistApi($)}}d.render(c.createElement(h.Provider,{store:v},c.createElement(u.WatchList,{widgetId:s.a})),e._container),d.render(c.createElement(h.Provider,{store:v},c.createElement(p.Header,{widgetId:s.a})),e._headerContainer)}}))},r.prototype.unmount=function(){e.prototype.unmount.call(this),this._cancelTask()},r.prototype.addSymbols=function(t){var e=this,n=window.widgetbar;if(n&&t.length){n.layout.setMinimizedState(!1),n.setPage("base")
;var o=this._addSymbolPromise=Promise.all([Object(c.a)(),Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(6),i.e(9),i.e(12),i.e(18),i.e(16),i.e(19),i.e(20),i.e(21),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(35),i.e(45),i.e(52),i.e(61),i.e(62),i.e(71),i.e(80),i.e(94),i.e(122),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(268),i.e(7),i.e(10),i.e(28),i.e(33),i.e(32),i.e(43),i.e(44),i.e(41),i.e(48),i.e(55),i.e(56),i.e(67),i.e(65),i.e(78),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("watchlist-widget")]).then(i.bind(null,"y5tV"))]).then((function(i){var n=i[0],r=i[1];if(e._addSymbolPromise===o){e._addSymbolPromise=null;var a=n.store,l=n.runner,c=n.actions.addSymbols,d=function(){a.dispatch(c(s.a,t))};if(e._task&&e._task.isRunning())d();else{var h=l.run(r.watchListSaga);d(),h.cancel()}}}))}},r.prototype.destroy=function(){this._cancelTask(),e.prototype.destroy.call(this)},r.preload=function(){
return Promise.all([Object(c.a)(),Promise.resolve().then(i.t.bind(null,"q1tI",7)),Promise.resolve().then(i.t.bind(null,"i8i4",7)),Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(6),i.e(9),i.e(12),i.e(18),i.e(16),i.e(19),i.e(20),i.e(21),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(35),i.e(45),i.e(52),i.e(61),i.e(62),i.e(71),i.e(80),i.e(94),i.e(122),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(268),i.e(7),i.e(10),i.e(28),i.e(33),i.e(32),i.e(43),i.e(44),i.e(41),i.e(48),i.e(55),i.e(56),i.e(67),i.e(65),i.e(78),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("watchlist-widget")]).then(i.bind(null,"/MKj")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(6),i.e(9),i.e(12),i.e(18),i.e(16),i.e(19),i.e(20),i.e(21),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(35),i.e(45),i.e(52),i.e(61),i.e(62),i.e(71),i.e(80),i.e(94),i.e(122),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(268),i.e(7),i.e(10),i.e(28),i.e(33),i.e(32),i.e(43),i.e(44),i.e(41),i.e(48),i.e(55),i.e(56),i.e(67),i.e(65),i.e(78),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("watchlist-widget")]).then(i.bind(null,"5oMM")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(6),i.e(9),i.e(12),i.e(18),i.e(16),i.e(19),i.e(20),i.e(21),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(35),i.e(45),i.e(52),i.e(61),i.e(62),i.e(71),i.e(80),i.e(94),i.e(122),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(268),i.e(7),i.e(10),i.e(28),i.e(33),i.e(32),i.e(43),i.e(44),i.e(41),i.e(48),i.e(55),i.e(56),i.e(67),i.e(65),i.e(78),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("watchlist-widget")]).then(i.bind(null,"3EM8")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(6),i.e(9),i.e(12),i.e(18),i.e(16),i.e(19),i.e(20),i.e(21),i.e(22),i.e(23),i.e(27),i.e(29),i.e(30),i.e(35),i.e(45),i.e(52),i.e(61),i.e(62),i.e(71),i.e(80),i.e(94),i.e(122),i.e(128),i.e(153),i.e(154),i.e(162),i.e(187),i.e(268),i.e(7),i.e(10),i.e(28),i.e(33),i.e(32),i.e(43),i.e(44),i.e(41),i.e(48),i.e(55),i.e(56),i.e(67),i.e(65),i.e(78),i.e(84),i.e(104),i.e(133),i.e(151),i.e(144),i.e(170),i.e("watchlist-widget")]).then(i.bind(null,"y5tV")),Promise.resolve(void 0)])},r.prototype._cancelTask=function(){this._task&&(this._task.cancel(),this._task=null)},r}(r.a)}},MXV9:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(4 4)"><path d="M.5 10.992c0 .287.226.508.505.508H2.65c.19.93.55 1.82 1.09 2.63L2.577 15.3a.5.5 0 0 0-.007.71l1.42 1.42a.5.5 0 0 0 .71-.007l1.17-1.163c.81.54 1.71.9 2.63 1.09v1.645c0 .284.227.505.508.505h1.984c.28 0 .508-.221.508-.505V17.35a7.46 7.46 0 0 0 2.63-1.09l1.17 1.163a.5.5 0 0 0 .71.007l1.42-1.42a.5.5 0 0 0-.007-.71l-1.163-1.17c.54-.81.9-1.7 1.09-2.63h1.645a.502.502 0 0 0 .505-.508V9.008a.503.503 0 0 0-.505-.508H17.35c-.19-.93-.55-1.82-1.09-2.63l1.163-1.17a.5.5 0 0 0 .007-.71l-1.42-1.42a.5.5 0 0 0-.71.007L14.13 3.74a7.46 7.46 0 0 0-2.63-1.09V1.005A.504.504 0 0 0 10.992.5H9.008a.504.504 0 0 0-.508.505V2.65c-.92.19-1.82.55-2.63 1.09L4.7 2.577a.5.5 0 0 0-.71-.007L2.57 3.99a.5.5 0 0 0 .007.71L3.74 5.87c-.54.81-.9 1.7-1.09 2.63H1.005a.503.503 0 0 0-.505.508v1.984z"/><circle cx="10" cy="10" r="2.5"/></g></svg>'},Maqz:function(t,e,i){"use strict";(function(e,n){i("Py6I");var o=i("L7u7").pushChartPage,s=i("TxTq"),r=i("sFgq").SidebarCustomScroll,a=i("bR4N").bindPopupMenu,l=i("oNDq").createConfirmDialog,c=i("c2JX").Spinner,d=i("oiRj"),h=i("brCa").showNoticeDialog,u=i("25b6").htmlEscape;function p(t){this.bridge=t,this.properties=t.properties,this.settings={},this.$container=t.$body,this.prepareLayout(this.$container),this.updateData(),t.onMessage&&t.onMessage(this.onBridgeMessage.bind(this)),t.symbol&&t.symbol.subscribe(this.update.bind(this)),t.interval&&t.interval.subscribe(this.updateInterval.bind(this)),s.on("ideas.channel",this.messageHandler.bind(this)),this.favorites=new p.Favorites(p.FAV_KEY)}function g(t){this.requestData=t,this.offset=0,this.itemsInRequest=5,this.requestsRunning=0}function m(t,e,i){return t.filter((function(){return $(this).data(e)===i}))}function v(t,e,i){this._bridge=t,this._handler=e,this._handler(this.getMenu(i))}p.SHOW_ONLY_PRIVATE_IDEAS="notes.show_only_private_ideas",p.SHOW_IDEAS_FOR_CURRENT_SYMBOL="notes.show_ideas_for_current_symbol",p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION="notes.show_ideas_for_current_resolution",p.SHOW_ONLY_FAVORITE_IDEAS="notes_widget.show_only_favorite_ideas",p.FAV_KEY="notesAndIdeas.favorites",p.prototype.onChart=function(){return null!=this.bridge.getChartWidget()},p.prototype.filterData=function(t){return(!this.showOnlyPrivateIdeas()||!t.is_public)&&((!this.showIdeasForCurrentSymbol()||t.symbol===this.bridge.symbol.value())&&((!this.showIdeasForCurrentResolution()||t.interval===this.bridge.interval.value())&&(!(this.showOnlyFavoriteIdeas()&&!this.favorites.isFavorite(t.id))&&!(this.listView.find(t.id).length>0&&"delete"!==t.action))))},p.prototype.messageHandler=function(t){if("delete"===t.action)this.listView.find(t.idea.id).remove(),this.notesCache.removeNote();else if(this.filterData(t.idea)){var e=new p.Idea(t.idea);this.listView.prepend(e),this.notesCache.addNote(),this.addListeners(e)}},p.prototype.update=function(){this.bridge&&this.bridge.symbol&&this.updateData()},p.prototype.updateInterval=function(){
this.bridge&&this.bridge.interval&&this.updateData()},p.prototype.updateData=function(){if(is_authenticated){var t=this;this.notesCache=new g(this.getRequestData()),this.notesCache.requestNext().then((function(e){t.onData(e.charts)}))}},p.prototype.appendData=function(){var t=this;this.listView.loading(!0),this.notesCache.requestNext().then((function(e){t.onData(e.charts,!0)})).always((function(){t.listView.loading(!1)}))},p.prototype.addListeners=function(t){var e=this;t.onClick((function(t,i){o({chartId:i.getImageUrl(),chartName:i.getName(),publishedUrl:i.getPublishedChartUrl(),chartWidgetCollection:e.bridge.getChartWidgetCollection()})})),t.onDelete((function(t,i){e.deletePublishedChart(i,{trigger:!0})})),t.onFavorite((function(t,i){e.favorites.toggleFavorite(i.getId()),i.setFavorite(e.favorites.isFavorite(i.getId()))})),t.setFavorite(e.favorites.isFavorite(t.getId()))},p.prototype.deletePublishedChart=function(t,e){var i=t.getImageUrl();l({type:"modal",content:u(e.isScript?$.t("Do you really want to delete Script '{0}' ?").format(t.getName()):$.t("Do you really want to delete Idea '{0}' ?").format(t.getName()))}).then((function(t){t.actionLoader("yes").on("action:yes",(function(t){t.actionLoader("yes","start"),$.ajax({type:"POST",url:"/idea-delete/",data:{image_url:i},success:function(e){t.actionLoader("yes","stop"),e.error?t.error(e.error):t.close()}})})).open()}))},p.prototype.onData=function(t,e){e||(this._scroll.scrollTo(0),this.listView.empty());for(var i=0;i<t.length;i++){var n=new p.Idea(t[i]);this.listView.add(n),this.addListeners(n)}this._scroll.atEnd()&&this._scroll.scrolltoend.fire()},p.prototype.showOnlyFavoriteIdeas=function(){return TVSettings.getBool(p.SHOW_ONLY_FAVORITE_IDEAS,!1)},p.prototype.showOnlyPrivateIdeas=function(){return TVSettings.getBool(p.SHOW_ONLY_PRIVATE_IDEAS,!1)},p.prototype.showIdeasForCurrentSymbol=function(){return TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL,!1)},p.prototype.showIdeasForCurrentResolution=function(){return TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION,!1)},p.prototype.toggleShowOnlyPrivateIdeas=function(){TVSettings.setValue(p.SHOW_ONLY_PRIVATE_IDEAS,!this.showOnlyPrivateIdeas()),this.updateData()},p.prototype.toggleShowOnlyFavoriteIdeas=function(){TVSettings.setValue(p.SHOW_ONLY_FAVORITE_IDEAS,!this.showOnlyFavoriteIdeas()),this.updateData()},p.prototype.toggleIdeasForCurrentSymbol=function(){TVSettings.setValue(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL,!this.showIdeasForCurrentSymbol()),this.updateData()},p.prototype.toggleIdeasForCurrentResolution=function(){TVSettings.setValue(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION,!this.showIdeasForCurrentResolution()),this.updateData()},p.prototype.onBridgeMessage=function(t,e){t===p.SHOW_ONLY_PRIVATE_IDEAS?this.toggleShowOnlyPrivateIdeas():t===p.SHOW_IDEAS_FOR_CURRENT_SYMBOL?this.toggleIdeasForCurrentSymbol():t===p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION?this.toggleIdeasForCurrentResolution():t===p.SHOW_ONLY_FAVORITE_IDEAS&&this.toggleShowOnlyFavoriteIdeas()},p.prototype.prepareLayout=function(t){
t.on("contextmenu",(function(t){t.preventDefault()})),this._$widget=$('<div class="tv-notes-widget">').appendTo(t),this.$data=$('<div class="tv-notes-widget__data">').appendTo(this._$widget),this.listView=new p.ListView(this.$data),this._scroll=new r(this._$widget,this.$data);var e=this;this._scroll.scrolltoend.subscribe(this,(function(t){this.notesCache.requestRunning()||this.notesCache.requestedAll()||e.appendData()})),this.$addButton=$(document.createElement("a")).addClass("button apply-common-tooltip").attr("title",$.t("Publish Private Idea")).append($(i("drLC")).attr({width:17,height:17})).appendTo(this.bridge.$headerspace),this.onChart()?this.$addButton.on("click",(function(){$(".publish-dropdown-container").children().removeClass("inprogress"),d.publishChart({isPrivate:!0,doNotSavePrivacySetting:!0})})):this.$addButton.on("click",(function(){var t=$.t("Publishing is possible only from the chart page. Please {link_start}open a chart{link_end} and then try again.").format({link_start:'<a target="_blank" href="/chart/">',link_end:"</a>"});h({title:$.t("Oops!"),content:t})})),this.$settingsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'"></a>').append($(i("jJ9P")).attr({width:17,height:17})).on("click",function(t){this._showSettingsDialog(t)}.bind(this)).appendTo(this.bridge.$headerspace),a(this.$settingsButton,null,{event:"show-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0})},p.prototype._showSettingsDialog=function(t){return $(t.delegateTarget).hasClass("open")?($(t.delegateTarget).trigger("hide-popup"),!1):(new v(this.bridge,(function(e,i){$(t.delegateTarget).trigger("show-popup",[e,i])}),this.onChart()),t.preventDefault(),!1)},g.prototype.requestRunning=function(){return this.requestsRunning>0},g.prototype.requestedAll=function(){return this.offset>=this.chartsCount},g.prototype.addNote=function(){this.offset++},g.prototype.removeNote=function(){this.offset--},g.prototype.requestNext=function(){var t=this;return this.requestData.offset=this.offset,this.requestData.count=this.itemsInRequest,this.requestsRunning++,$.get("/my-ideas/",this.requestData,(function(e){e&&(t.offset+=e.charts.length,t.chartsCount=e.count)})).always((function(){t.requestsRunning--}))},p.prototype.getRequestData=function(t){var e={start:t||0,onlyPrivate:this.showOnlyPrivateIdeas(),onlyFavorite:this.showOnlyFavoriteIdeas()};if(this.bridge.getChartWidget()){var i=this.bridge.symbol.value(),n=this.bridge.interval.value();i&&this.showIdeasForCurrentSymbol()&&(e.symbol=i),n&&this.showIdeasForCurrentResolution()&&(e.interval=n)}return e},p.Favorites=function(t){this.key=t,this._favs=TVSettings.getJSON(t,[])},p.Favorites.prototype.addFavorite=function(t){return!this.isFavorite(t)&&(this._favs.push(t),this.save(),!0)},p.Favorites.prototype.toggleFavorite=function(t){this.isFavorite(t)?this.removeFavorite(t):this.addFavorite(t)},p.Favorites.prototype.isFavorite=function(t){return-1!==this._favs.indexOf(t)},p.Favorites.prototype.save=function(){TVSettings.setJSON(this.key,this._favs)},
p.Favorites.prototype.removeFavorite=function(t){return!!this.isFavorite(t)&&(this._favs.splice(this._favs.indexOf(t),1),this.save(),!0)},p.Idea=function(t){var e=new p.IdeaViewRenderer;this.$view=e.render(t),this.$view.data("id",t.id),this.$view.data("imageUrl",t.image_url),this.$view.data("publishedChartUrl",t.published_chart_url)},p.Idea.prototype.jqueryObject=function(){return this.$view},p.Idea.prototype.getName=function(){return this.$view.find(".name").text()},p.Idea.prototype.getImageUrl=function(){return this.$view.data("imageUrl")},p.Idea.prototype.getId=function(){return this.$view.data("id")},p.Idea.prototype.getPublishedChartUrl=function(){return this.$view.data("publishedChartUrl")},p.Idea.prototype.setFavorite=function(t){this.$view.find(".favorite").toggleClass("active",t).html(i(t?"HHbT":"GWvR"))},p.Idea.prototype.onClick=function(t){this.$view.on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},p.Idea.prototype.onDelete=function(t){this.$view.find(".delete").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},p.Idea.prototype.onFavorite=function(t){this.$view.find(".favorite").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},p.IdeaViewRenderer=function(){},p.IdeaViewRenderer.prototype.render=function(t){var o={date:e.unix(t.date_timestamp).format("lll"),name:t.name,desc:t.desc,interval:t.interval,symbolStr:t.short_symbol+", "+$.t(t.interval),imageUrl:t.image_small,is_public:t.is_public,is_video:t.is_video,likes:t.likes,comments:t.comments,views:t.views},s=$(n.render('<div class="tv-notes-widget__note-block"><div class="header">{{^is_public}}<div class="private-icon">'+i("eKOu")+'</div>{{/is_public}}<div class="date">{{date}}</div><div class="separator"></div><div class="symbol">{{symbolStr}}</div><div class="separator"></div><div class="favorite"></div></div>{{^is_public}}<span class="delete">'+i("uo4K")+'</span>{{/is_public}}<div class="name">{{name}}</div><div class="desc">{{desc}}</div><div class="container clearfix"><img class="preview" src="{{imageUrl}}">{{#is_video}}<div class="play-icon">'+i("IRk6")+'</div>{{/is_video}}{{#is_public}}<div class="stats"><div class="likes"><span>{{likes}}</span></div><div class="comments"><span>{{comments}}</span></div><div class="views"><span>{{views}}</span></div></div>{{/is_public}}</div></div>',o));return s.find(".likes").prepend($(i("yr01")).attr({width:12,height:12})),s.find(".comments").prepend($(i("g996")).attr({width:12,height:12})),s.find(".views").prepend($(i("H+PN")).attr({width:12,height:12})),s},p.ListView=function(t){this.$list=t,this.showEmptyLabel()},p.ListView.prototype.empty=function(){this.$list.empty(),this.showEmptyLabel()},p.ListView.prototype.loading=function(t){if(this._spinner||(this._spinner=new c("mini")),t){var e=$('<div class="spinner-container"></div>');this._spinner.spin(e.get(0)),this.$list.append(e)}else this._spinner.stop(),this.$list.find(".spinner-container").remove();this.showEmptyLabel()},
p.ListView.prototype.showEmptyLabel=function(){if(is_authenticated)if(0===this.$list.children().length){var t=$('<div class="no-ideas">'+$.t("No ideas matched your criteria")+"</div>");this.$list.append(t)}else this.$list.find(".no-ideas").remove();else(t=$('<div class="ch-item-empty">'+$.t("No ideas.")+" <br/>"+$.t("If you want to use this service - please __signInLink__!",{signInLink:'<a href="#signin">'+$.t("sign in or register")+"</a>"})+"</div>")).find("a").on("click",(function(){return runOrSignIn((function(){}),{source:"My ideas widget placeholder",sourceMeta:"Chart"}),!1})),this.$list.append(t)},p.ListView.prototype.prepend=function(t){this.$list.prepend(t.jqueryObject()),this.showEmptyLabel()},p.ListView.prototype.add=function(t){this.$list.append(t.jqueryObject()),this.showEmptyLabel()},p.ListView.prototype.remove=function(t){m(this.$list.children(),"id",t.getId()).remove(),this.showEmptyLabel()},p.ListView.prototype.find=function(t){return m(this.$list.children(),"id",t)},v.prototype.getMenu=function(t){var e=[];return e.push({title:$.t("Favorite Ideas"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_ONLY_FAVORITE_IDEAS)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_ONLY_FAVORITE_IDEAS)}.bind(this)}),e.push({title:$.t("Only Private Ideas"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_ONLY_PRIVATE_IDEAS)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_ONLY_PRIVATE_IDEAS)}.bind(this)}),t&&(e.push({title:$.t("Ideas for the Current Symbol Only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_IDEAS_FOR_CURRENT_SYMBOL)}.bind(this)}),e.push({title:$.t("Ideas for the Current Resolution Only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(p.SHOW_IDEAS_FOR_CURRENT_RESOLUTION)}.bind(this)})),e},t.exports=p}).call(this,i("ldgD"),i("nbsC"))},MfiM:function(t,e,i){"use strict";(function(e,n){i("TdlR");var o=i("5VQP").ContextMenuManager,s=i("Fty4").ActionCreators,r=i("PT1i").linking,a=e.View.extend({initialize:function(){this.listenTo(this.model,"change:selected",this.updateSelectedClass.bind(this)),this.listenTo(this.model,"change:selected",this.updateSelectedSymbol.bind(this))},tagName:"tr",className:"alert-item",events:{click:"setSelected"},render:function(){return this.updateSelectedClass(),
this.$el.html(n.render('<td class="cell-overflow-hidden"><div class="content-wrapper"><div class="widget-row-title"><div class="apply-common-tooltip" title="{{titleTooltip}}"><div data-name="alert-log-item-title">{{title}}</div></div></div></div></td><td class="cell-overflow-hidden"><div class="content-wrapper"><div class="widget-row-title"><div class="description-inner apply-common-tooltip" data-name="alert-log-item-desc" title="{{description}}">{{description}}</div></div></div></td><td class="date" data-name="alert-log-item-date">{{fireTime}}</td>',{titleTooltip:this.model.title(!0),title:this.model.title(),description:this.model.get("description"),fireTime:this.model.fireTimeReadable()})),this._bindContextMenu(),this.undelegateEvents(),this.delegateEvents(),this},updateSelectedClass:function(t,e){e=void 0===e?this.model.get("selected"):e;this.$el.toggleClass("selected",!!e)},updateSelectedSymbol:function(t,e){e&&(r.symbol.setValue(this.model.get("symbol")),this.model.get("crossInterval")||r.interval.setValue(this.model.get("resolution")))},_bindContextMenu:function(){return this.$el.contextMenu((function(t){var e=[s.deleteAllEvents()];o.createMenu(e).then((function(e){e.show(t)}))})),this},setSelected:function(){this.model.set("selected",!0)},highlight:function(){this.$el.highlight(6)}});t.exports=a}).call(this,i("q1z7"),i("nbsC"))},NWKS:function(t){t.exports=JSON.parse('{"color-toolbar-button-text-active":"color-seeking-alpha-brand"}')},Opoj:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17"><path fill="none" stroke="currentColor" d="M1 1l15 15M1 16L16 1"/></svg>'},PW1O:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m17 30a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2m6 5a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4 1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2 1 1 0 0 0 0-2m10 5a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2m0-7a1 1 0 0 1 0 4h-4a1 1 0 0 1 0-4m0 1a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2"/></svg>'},PgQx:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M7.5 8.5h12v12a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3v-12z"/><path fill="currentColor" d="M17 6l-1-1h-5l-1 1H7v1h13V6z"/><path stroke="currentColor" stroke-linecap="square" d="M10.5 11.5v8m3-8v8m3-8v8"/></g></svg>'},PiG3:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m27 31.5a2.5 2.5 0 0 1-2.5 2.5h-6a2.5 2.5 0 0 1-2.5-2.5v-3.74c-2.41-1.74-4-5.04-4-8.26a9.5 9.5 0 0 1 19 0c0 3.21-1.6 6.52-4 8.26v3.74zM18.5 33h6a1.5 1.5 0 0 0 1.5-1.5v-4.27l.22-.14c2.25-1.51 3.78-4.6 3.78-7.59a8.5 8.5 0 1 0-17 0c0 3 1.53 6.08 3.78 7.58l.22.15v4.27a1.5 1.5 0 0 0 1.5 1.5zm-2-5v-1h10v1zm0 3v-1h10v1zm2.5 2.5h1v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1h1v1a1.5 1.5 0 0 1-1.5 1.5h-2a1.5 1.5 0 0 1-1.5-1.5v-1zm3-5.5h-1v-8h1zm-3-7v-1h5v1z"/></svg>'},PiKd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isExists=function(t){return!!r(t)},e.load=function(t,e,i){if(e){var o=r(t);o?o.cb=e:n.push({m:t,cb:e})}(void 0!==i||s)&&function(t,e){"number"==typeof e?setTimeout((function(){return a(t)}),e):(!0===e||s)&&a(t)}(t,i)},e.isLoaded=function(t){var e=r(t);return e&&"loaded"===e.state},e.onReady=function(t,e){var i=r(t);o[t]=o[t]||[],o[t].push(e),i&&"loaded"===i.state&&l(t)};var n=[],o={},s=!1;function r(t){return n.filter((function(e){return e.m===t}))[0]}function a(t){var e=r(t);e&&e.cb&&$.when(e.cb()).done((function(){e.state="loaded",e.args=Array.prototype.slice.call(arguments),delete e.cb,l(e.m)}))}function l(t){var e=r(t),i=o[t];i&&function t(i){i&&!i.length||(i.shift().apply(null,e.args),t(i))}(i)}setTimeout((function(){var t;for(s=!0,t=0;t<n.length;t+=1)a(n[t].m)}),5e3)},Py6I:function(t,e,i){},Q02a:function(t,e,i){"use strict";i.r(e),i.d(e,"getNewsDiffResolver",(function(){return s})),i.d(e,"getNewsItemDigest",(function(){return r}));var n=i("YJLw"),o=i.n(n);function s(t){return{getDiff:function(e){if(0===e.length)return[];var i=e.findIndex((function(e){return r(e)===t}));return t=r(e[0]),e.slice(0,-1===i?e.length:i)}}}function r(t){return o()(t.title+(null!==t.published?t.published.valueOf():""))}},Q8Ag:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={},t.exports=e.default},R5LG:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n="light"},RDia:function(t,e,i){"use strict";i.r(e);var n=i("mrSG"),o=i("q1tI"),s=i("i8i4"),r=i("mwqF"),a=i("aeVA");function l(t){return o.createElement("div",{className:a.container},o.createElement("div",{className:t.iconClass}),o.createElement("div",{className:a.text},t.text),t.action&&o.createElement("div",{className:a.action},t.action))}function c(t){var e=t.text,i=t.iconClass,n=t.button;return o.createElement(l,{text:e,iconClass:i,action:n&&o.createElement(r.Button,{appearance:"stroke",onClick:n.callback},n.text)})}function d(t,e){return s.render(o.createElement(c,Object(n.__assign)({},e)),t),function(){s.unmountComponentAtNode(t)}}i.d(e,"AlertWidgetEmptyState",(function(){return c})),i.d(e,"renderAlertWidgetEmptyState",(function(){return d}))},"RMt/":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 17" width="24" height="17"><g fill-rule="evenodd"><path d="M1.826 16.913l4.088-6c.85-1.244 2.036-1.25 2.896-.018l2.718 3.897c1.698 2.436 4.46 2.235 5.79-.425l6.457-12.92-1.79-.894-6.456 12.92c-.65 1.302-1.53 1.366-2.365.175L10.45 9.75c-1.66-2.38-4.55-2.365-6.188.037l-4.088 6 1.652 1.126zM7 .7v6.1h1V.2H7v.5z"/><path d="M7.146.346l-2.8 2.8-.353.354.707.707.354-.353 2.8-2.8L8.207.7 7.5-.007l-.354.353z"/><path d="M7.146 1.054l2.8 2.8.354.353.707-.707-.353-.354-2.8-2.8L7.5-.007 6.793.7l.353.354z"/></g></svg>'},RZx8:function(t,e,i){t.exports={icon:"icon-3hI8rHxg",alarmWithBarsDashed:"alarmWithBarsDashed-38gzV9RG icon-3hI8rHxg",signalWarning:"signalWarning-33i_c1Hl icon-3hI8rHxg",alarmWithGears:"alarmWithGears-3N7KPYec icon-3hI8rHxg"}},RrLr:function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i("TdlR");var s,r=i("YFKU"),a=i("8woN"),l=(s=a)&&s.__esModule?s:{default:s},c=i("sFgq"),d=i("qjxE"),h=i("IWXC"),u=i("WUrJ"),p=i("b5Gw"),g=i("Q02a"),m=i("txPx"),v=i("cSYm"),_=i("jEqg"),f=i("y8Ih");i("IS8I");var w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i("JHPQ"));var b=(0,m.getLogger)("News.Widget"),y=(0,r.t)("{title} for {symbol}"),C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._bridge=e,this.widgetName="widgetbar",this._$widgetTitle=this._bridge.$header.find(".widgetbar-widgettitle"),this._newsScrollIterator=null,this._newsDiffResolver=null,this._updateWhenVisible=null,this._pendingNewsRequest=null,this._updateIntervalHandle=null,this._needsFullUpdate=!0,this._$container=e.$body,this._resize=this.resize.bind(this),this._prepareLayout(this._$container);var i=(0,v.getWidgetBarProvider)();i&&(this._dataProvider=new i),this._onSymbolChange=this.onSymbolChange.bind(this),this._bridge.symbol.subscribe(this._onSymbolChange,{callWithLast:!0}),window.loginStateChange.subscribe(this,this._onLoginChange)}return o(t,[{key:"_prepareLayout",value:function(t){this._$container=t,this._$widget=$('<div class="tv-news">').appendTo(t),this._$widget.on("contextmenu",(function(t){"a"!==t.target.tagName.toLowerCase()&&t.preventDefault()})),this._$data=$('<div class="ns-data" data-name="news_list">').appendTo(this._$widget),this._scroll=new c.SidebarCustomScroll(this._$widget,this._$data),this._bridge.height.subscribe(this._resize),this._bridge.visible.subscribe(this._resize)}},{key:"setTitle",value:function(t){if(this._dataProvider){var e=this._dataProvider.title()
;this._dataProvider.needAppendSymbolToTitle()&&t&&(e=y.format({title:e,symbol:t})),this._$widgetTitle.text(e)}}},{key:"update",value:function(){var t=this;if(this._dataProvider)if(this._bridge.visible.value()){var e=this._quoteMetaInfo;if(!e)return this._clearListUI(),void this._stopLoading();var i=e.short_name;this._needsFullUpdate=i!==this._shortName,this._shortName=i,this._needsFullUpdate&&(this._startLoading(),clearInterval(this._updateIntervalHandle),this._setUpdateInterval()),this.setTitle(i),this._pendingNewsRequest&&this._pendingNewsRequest.cancel(),this._pendingNewsRequest=(0,p.makeCancelable)(this._dataProvider.getNews(this._quoteMetaInfo)),this._pendingNewsRequest.promise.then((function(e){t._pendingNewsRequest=null,t._stopLoading(),t.updateData(e)})).catch((function(e){if(!(0,p.isCancelled)(e))throw t._pendingNewsRequest=null,t._stopLoading(),e}))}else null===this._updateWhenVisible&&(this._updateWhenVisible=function(e){e&&(null!==t._updateIntervalHandle&&t._setUpdateInterval(),t._bridge.visible.unsubscribe(t._updateWhenVisible),t._updateWhenVisible=null,t.update())},this._bridge.visible.subscribe(this._updateWhenVisible),clearInterval(this._updateIntervalHandle))}},{key:"_setUpdateInterval",value:function(){if(this._dataProvider){var t=this._dataProvider.timeout();t&&(this._updateIntervalHandle=setInterval(this.update.bind(this),t))}}},{key:"updateData",value:function(t){if(t&&t.length)if(this._needsFullUpdate){this._clearListUI(),this._scroll.scrolltoend.unsubscribe(this,this._onScrollToEnd),this._scroll.scrollToStart(),this._scroll.scrolltoend.subscribe(this,this._onScrollToEnd),this._newsScrollIterator=(0,u.iterateInChunks)(t,20);var e=this._newsScrollIterator.next().value,i=(0,g.getNewsItemDigest)(e[0]);this._newsDiffResolver=(0,g.getNewsDiffResolver)(i),this._renderItems(e,!1)}else{if(!this._newsDiffResolver)return void b.logError("Attempt to perform partial update before full update was committed");var n=this._newsDiffResolver.getDiff(t);this._renderItems(n,!0)}}},{key:"_renderItems",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._dataProvider){var i=document.createDocumentFragment(),o=!0,s=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var c=a.value,h=this._dataProvider.renderItem(n({},c,{shortDescription:c.shortDescription&&(0,_.dottedDescriptionTruncate)(c.shortDescription,170)})),u=h.querySelector("time");c.published&&null!==u&&(0,d.jQueryCompatibleAgoDateFormatter)($(u),c.published),e&&this.highlight(h),i.appendChild(h)}}catch(p){s=!0,r=p}finally{try{!o&&l.return&&l.return()}finally{if(s)throw r}}e?this._$data.prepend(i):this._$data.append(i)}}},{key:"_onScrollToEnd",value:function(){this._newsScrollIterator&&this._renderItems(this._newsScrollIterator.next().value,!1)}},{key:"_onLoginChange",value:function(){window.is_authenticated||this.update()}},{key:"_startLoading",value:function(){this._$data.addClass("loading")}},{key:"_stopLoading",value:function(){this._$data.removeClass("loading")}},{key:"_clearListUI",
value:function(){(0,d.jQueryCompatibleDestroy)(this._$data),this._$data.empty()}},{key:"resize",value:function(){this._scroll.resize()}},{key:"highlight",value:function(t){t.classList.add(w["news-item--highlight"]),$(t).highlight(5)}},{key:"onSymbolChange",value:function(t){if(l.default.shortName(t)!==this._shortName){var e=(0,h.getQuoteSessionInstance)("full"),i=this;if(i._quoteSymbol&&e.unsubscribe(i._bridge.id,i._quoteSymbol),i._quoteMetaInfo=null,t){i._quoteSymbol=t,this._needsFullUpdate&&i.update(),this._bridge.clearNotifications();var n=!1;e.subscribe(i._bridge.id,t,(function(o){n||(0,f.isSfQuoteData)(o)||("permission_denied"===o.status&&o.values&&o.values.alternative?i.onSymbolChange(o.values.alternative):o.values&&o.values.short_name&&(i._quoteMetaInfo={pro_name:o.values.pro_name,short_name:o.values.short_name,type:o.values.type,exchange:o.values.exchange},i.update(),n=!0,setTimeout((function(){e.unsubscribe(i._bridge.id,t)}),0)))}))}else i._quoteSymbol=void 0}}},{key:"destroy",value:function(){this._quoteSymbol&&(0,h.getQuoteSessionInstance)("full").unsubscribe(this._bridge.id,this._quoteSymbol),(0,d.jQueryCompatibleDestroy)(this._$data),this._updateIntervalHandle&&clearInterval(this._updateIntervalHandle),this._scroll.scrolltoend.unsubscribe(this,this._onScrollToEnd),this._updateWhenVisible&&this._bridge.visible.unsubscribe(this._updateWhenVisible),this._bridge.height.unsubscribe(this._resize),this._bridge.visible.unsubscribe(this._resize),this._bridge.symbol.unsubscribe(this._onSymbolChange),window.loginStateChange.unsubscribe(this,this._onLoginChange)}}]),t}();t.exports=C},SoRE:function(t,e,i){},TZqb:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m28.5 16.92l.14-.8.65.47a9.8 9.8 0 0 1 1.87 2A10.12 10.12 0 0 1 33 24.5C33 30.28 28.28 35 22.5 35S12 30.28 12 24.5c0-4.4 1.71-6.67 6.46-10.3l.49-.36a30 30 0 0 0 3.2-2.7l.4-.39.34.44a12.57 12.57 0 0 1 1.05 1.64 7.95 7.95 0 0 1 .93 5.5 28.56 28.56 0 0 1-.71 3.64c2.46-.27 3.85-2.04 4.35-5.05zm-8.95-2.29l-.48.37C14.55 18.45 13 20.5 13 24.5c0 5.22 4.28 9.5 9.5 9.5s9.5-4.28 9.5-9.5c0-2.08-.62-3.86-1.66-5.34a8.91 8.91 0 0 0-1.02-1.22C28.55 21.13 26.66 23 23.5 23h-.66l.18-.64a35.38 35.38 0 0 0 .49-2.02c.16-.74.28-1.46.37-2.14a7 7 0 0 0-.82-4.9c-.2-.38-.41-.72-.63-1.04-.74.7-1.55 1.36-2.88 2.37z"/></svg>'},"Ui/w":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45" width="45" height="45" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M11.5 11c-.83 0-1.5.67-1.5 1.5v19a2.5 2.5 0 0 0 2.5 2.5H33.5c.59 0 1.06-.15 1.43-.4.37-.24.61-.57.77-.88a2.96 2.96 0 0 0 .3-1.18v-.04h-.5.5v-11c0-.83-.67-1.5-1.5-1.5H32v-6.5c0-.83-.67-1.5-1.5-1.5h-19zM32 20V31.55a1.97 1.97 0 0 0 .2.73c.1.19.23.36.42.5.2.12.47.22.88.22.41 0 .69-.1.88-.23.2-.13.33-.3.42-.5a1.96 1.96 0 0 0 .2-.76V20.5a.5.5 0 0 0-.5-.5H32zm-.7 12.72l.16.28H12.5a1.5 1.5 0 0 1-1.5-1.5v-19c0-.28.22-.5.5-.5h19c.28 0 .5.22.5.5v19h.5-.5v.04a2.08 2.08 0 0 0 .04.35c.03.22.1.53.26.83zM15.5 15c-.83 0-1.5.67-1.5 1.5v3c0 .83.67 1.5 1.5 1.5h3c.83 0 1.5-.67 1.5-1.5v-3c0-.83-.67-1.5-1.5-1.5h-3zm-.5 1.5c0-.28.22-.5.5-.5h3c.28 0 .5.22.5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3zM28 24H14v-1h14v1zm-6-8h6v-1h-6v1zm6 3h-6v-1h6v1zm-14 8h14v-1H14v1zm7 3h-7v-1h7v1z"/></svg>'},Uupk:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlError=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.controlError=function(t,e){return new a($(t),e)},i("GA3W");var o=i("29gu"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i("9uLv"));function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=e.ControlError=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.addFocusEvents,a=void 0===s||s,l=o.addErrorOnElement,c=void 0===l||l,d=o.leftMessageAlign,h=void 0!==d&&d,u=o.maxWidth,p=void 0===u?void 0:u,g=o.doNotShowIcon,m=void 0!==g&&g;function v(t,e){return t.some((function(t){return e.test(t)}))}r(this,t);var _=$(e),f=_.hasClass("tv-control-checkbox__input"),w=_.hasClass("tv-control-radio__input"),b=_.hasClass("tv-control-number-input"),y=v(_.attr("class").split(/\s+/),/^.+--size_small$/),C=v(_.attr("class").split(/\s+/),/^.+--size_large$/);this.options={smallMode:y,addErrorOnElement:c,maxWidth:p},f&&(_=_.closest(".tv-control-checkbox")),w&&(_=_.closest(".tv-control-radio-group")),this.errors={},this.$control=_;var S=_.get(0);_.data("tv-control-material")?this.$toWrap=_.data("tv-control-material").$el:"tvControlErrorWrap"in S.dataset?this.$toWrap=$(S.dataset.tvControlErrorWrap):_.data("tv-control-error-wrap")?this.$toWrap=_.data("tv-control-error-wrap"):this.$toWrap=_,this.$toWrap.parent().hasClass("tv-control-error")||this.$toWrap.wrap('<div class="tv-control-error '+(b?"tv-control-error--for-number-input":"")+'"></div>'),this.$el=this.$toWrap.parent(),f&&this.$el.addClass("tv-control-error--msg_left"),y&&this.$el.addClass("tv-control-error--size_small"),C&&this.$el.addClass("tv-control-error--size_large"),
f||m||(this.$icon=this.$el.find(".tv-control-error__icon"),this.$icon.length||(this.$icon=$('<span class="tv-control-error__icon">'+$("<div>").append($(i("qwmV")).attr("focusable","false")).html()+"</span>").appendTo(this.$el)),_.data("tv-control-material")&&this.$icon.addClass("tv-control-error__icon--material-input")),this.$widthControlWrapper=this.$el.find(".tv-control-error__width-control-wrapper"),this.$widthControlWrapper.length||(this.$widthControlWrapper=$('<div class="tv-control-error__width-control-wrapper">').appendTo(this.$el)),this.$widthControlWrapper.css("width",this.options.maxWidth),h&&this.$widthControlWrapper.addClass("tv-control-error__width-control-wrapper--from-left"),this.$messages=this.$el.find(".tv-control-error__messages"),this.$messages.length||(this.$messages=$('<span class="tv-control-error__messages"></span>').appendTo(this.$widthControlWrapper)),_.on("focus",(function(){n.$el.addClass("i-focus"),_.removeClass("i-error"),a&&_.on("keyup.tv-control-error",(function(t){9!==t.keyCode&&16!==t.keyCode&&(n.clear().render(),n.$el.removeClass("i-focus"),_.off("keyup.tv-control-error"))}))})),_.on("blur",(function(){n.$el.removeClass("i-focus"),n.hasErrors()&&_.addClass("i-error")}))}return n(t,[{key:"add",value:function(t){var e=t.id,i=t.message;return this.errors[e]=i,this}},{key:"remove",value:function(t){var e=t.id;return delete this.errors[e],this}},{key:"clear",value:function(){return this.errors={},this}},{key:"hasErrors",value:function(){return!!Object.keys(this.errors).length}},{key:"render",value:function(){var t=this;this.emptyTimeout&&clearTimeout(this.emptyTimeout);var e=Object.keys(this.errors);if(e.length){this.$messages.empty(),this.$el.addClass("i-error"),this.options.addErrorOnElement&&this.$control.addClass("i-error");for(var i=0;i<e.length;i++)this.errors[e[i]]&&$('<span class="tv-control-error__message">'+this.errors[e[i]]+"</span>").appendTo(this.$messages)}else this.$el.removeClass("i-error"),this.$control.removeClass("i-error"),this.emptyTimeout=setTimeout((function(){t.$messages.empty()}),s.dur);return this}}]),t}();$.fn.tvControlError=(0,o.createTvBlockWithInstance)("tv-control-error",(function(t,e){return new a(t,e)}))},Vike:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'},WUrJ:function(t,e,i){"use strict";function n(t,e){if(!Number.isInteger(e))throw new TypeError("Chunks size must be an integer");if(e<=0)throw new RangeError("Chunk size must be a positive number");var i=t.slice();return{next:function(){var t=i.splice(0,e);return{value:t,done:!t.length}}}}i.r(e),i.d(e,"iterateInChunks",(function(){return n}))},WoKq:function(t,e,i){},Wz44:function(t,e,i){t.exports={container:"container-3_8ayT2Q",mirror:"mirror-crJbq8d0",background:"background-Q1Fcmxly",arrow:"arrow-WcYWFXUn"}},WzmK:function(t,e,i){"use strict";(function(e){i("4ekz")
;var n=i("i8i4"),o=i("q1tI"),s=i("sFgq").SidebarCustomScroll,r=i("c2JX").Spinner,a=i("JUY+").getPriceAlertsDispatcher,l=i("delL").AlertWidgetEmptyStateReason,c=i("RDia").renderAlertWidgetEmptyState,d=i("JQQd").createSelectableList,h=i("lfvH").Navigation,u=i("b5Gw").makeCancelable,p=i("PT1i").linking,g=i("txPx").getLogger("Alerts.BasicWidget");function m(t){this._bridge=t,this._headerView=null,this._alertsDispatcherCancelable=u(a()),this._alertsDispatcherCancelable.promise.then(function(t){this._alertsDispatcher=t,this._initWithAlertsDispatcher()}.bind(this))}m.prototype._initWithAlertsDispatcher=function(){var t=this,i=this._bridge;function n(){t.currentResolutionOnly.value()&&t.reloadList()}this._cache={},this._$container=i.$body,this._needToReloadList=!0,this._fullListLoaded=!1,this._eventsToHighlight=[],this.currentSymbolOnly=new e(TVSettings.getBool("alerts.widget.show_for_curren_symbol_only",!1)),this.currentResolutionOnly=new e(TVSettings.getBool("alerts.widget.show_for_curren_resolution_only",!1)),this.hideInactiveAlerts=new e(TVSettings.getBool("alerts.widget.hide_inactive",!1)),this._initLayout(),this._notifications=new Set,i.active.subscribe((function(e){e&&(t._needToReloadList?t.reloadList(t._highlightNewEvents.bind(t)):t._highlightNewEvents(),t._clearNotifications())})),i.active.when((function(){i.interval.subscribe(n),t._subscribeToSymbolChanges()})),this._onEventFired=function(e){t._eventsToHighlight.push(e.id),i.active.value()?t._highlightNewEvents():t._notify(e)},this._alertsDispatcher.events.on("fired",this._onEventFired),this._onEventPopupClosed=function(e){e&&t._hideNotification(e)},this._alertsDispatcher.events.on("popupClosed",this._onEventPopupClosed),this._notifyOfflineEvents(),this._list=this._initList(this._alertsDispatcher),this._toggleSelectableList=this._toggleSelectableList.bind(this),this._bridge.visible.subscribe(this._toggleSelectableList,{callWithLast:!0})},m.prototype._subscribeToSymbolChanges=function(){var t=function(t){t&&this.currentSymbolOnly.value()&&this.reloadList()}.bind(this);this.isOnChart()?(p.proSymbol.subscribe(t),this._unsubscribeFromSymbolChanges=function(){p.proSymbol.unsubscribe(t)}):(this._bridge.symbol.subscribe(t),this._unsubscribeFromSymbolChanges=function(){this._bridge.symbol.unsubscribe(t)}.bind(this))},m.prototype._initHeader=function(t){var i,n,o=(i=this._list,n=new e(i.isEmpty()),i.on("add remove reset",(function(){n.setValue(i.isEmpty())})),n.readonly()),s=this._renderHeader.bind(this);this._headerView=t,this._bridge.active.subscribe(function(t){t?(s(),o.subscribe(s)):(this._unmountHeader(),o.unsubscribe(s))}.bind(this),{callWithLast:!0})},m.prototype._renderHeader=function(){n.render(o.createElement(this._headerView,this._getHeaderProps()),this._bridge.header)},m.prototype._unmountHeader=function(){n.unmountComponentAtNode(this._bridge.header)},m.prototype._getHeaderProps=function(){},m.prototype._initLayout=function(){this._$container.addClass("alerts-widget"),this._showLoadingWheel(),
this._$inner=$('<div class="widget-inner" tabindex="0"></div>').appendTo(this._$container),this._scroll=new s(this._$container,this._$inner),this._scroll.scrolltoend.subscribe(this,this._onScrollToEnd),this._bridge.height.subscribe(this._scroll.resize.bind(this._scroll)),this._destroyEmptyStateEl=null},m.prototype._onScrollToEnd=function(){var t=this;if(!t._loading&&!t._fullListLoaded){t._showLoadingFade(),t._loading=!0;var e=$.extend({},t._requestListOptions(),t._requestListOffset(),{success:function(e){e.length||(t._fullListLoaded=!0),t._onListLoaded(),t._list.syncCollections()},error:function(e){t._list.reset(),"maintenance"===e&&t._showEmptyState(l.Maintenance)},complete:function(){t._hideLoading(),t._loading=!1}});t._requestList(e)}},m.prototype.reloadList=function(t){var e=function(){this._needToReloadList=!1,"function"==typeof t&&t(),this._scroll.scrollToStart()}.bind(this);this._bridge.active.value()?is_authenticated?(this._fullListLoaded=!1,this.requestList(e)):(this._list.reset(),this._renderTable(),this._hideLoading(),e()):this._needToReloadList=!0},m.prototype._renderTable=function(t){(t=t||this._list).length?(this._$table&&this._$table.remove(),null!==this._destroyEmptyStateEl&&(this._destroyEmptyStateEl(),this._$container.removeClass("empty-state"),this._scroll.scrolltoend.subscribe(this,this._onScrollToEnd),this._destroyEmptyStateEl=null),this._$inner.empty(),this._$table=$(this._tableTemplate),this._$table.appendTo(this._$inner),this._$table.find("thead").on("contextmenu",(function(t){t.preventDefault()})),t&&t.length&&t.forEach(this._appendViewItem.bind(this)),this._onTableRendered(this._$inner)):this._showEmptyState(l.NoAlerts)},m.prototype._addViewItem=function(t,e){var i=t.id,n=this._cache[i];n&&n.model===t||(n&&n.remove(),n=new this._itemViewCtor({model:t,parentWidget:this}),this._cache[i]=n),this._$table||this._renderTable(),this._$table&&("append"===e?this._$table.find("tbody").append(n.render().$el):this._$table.find("tbody").prepend(n.render().$el))},m.prototype._onTableRendered=function(t){this._selectableList&&this._selectableList.destroy();var e=this;this._selectableList=d({modes:[h],list:t.get(0),listItemClass:"alert-item",focusedListItemClass:"focused",onNavigate:function(t){var i=e._list.at(t.cursorIdx);i.get("selected")||(i.set("selected",!0),e._onNavigate(i),e._scroll.scrollTo($(t.cursor)))}})},m.prototype._appendViewItem=function(t){return this._addViewItem(t,"append")},m.prototype._prependViewItem=function(t){return this._addViewItem(t,"prepend")},m.prototype._getViewItem=function(t){return t?this._cache[t.id]:null},m.prototype._removeViewItem=function(t){var e=t.id,i=this._cache[e];i&&(i.remove(),delete this._cache[e]),this._list.length||this._renderTable()},m.prototype._showEmptyState=function(t){null===this._destroyEmptyStateEl&&(this._$table=null,this._$inner.empty(),this._$container.addClass("empty-state"),this._scroll.scrolltoend.unsubscribe(this,this._onScrollToEnd)),this._destroyEmptyStateEl=c(this._$inner[0],this._getEmptyStateProps(t))},
m.prototype._getEmptyStateProps=function(t){},m.prototype._onNavigate=function(t){},m.prototype.requestList=function(t,e,i){var n,o=this;e=e||0;!o._bridge.active.value()||o._loading||o._fullListLoaded||(o._showLoadingFade(),o._loading=!0,n=$.extend({noCache:!!i,success:function(){o._list.syncCollections(),o._scroll.scrollTo(0),"function"==typeof t&&t(),o._onListLoaded()},error:function(i){"maintenance"===i?(o._list.reset(),o._showEmptyState(l.Maintenance)):"server_url_unavailable"===i&&e<2?(e+=1,setTimeout((function(){o._loading=!1,o.requestList(t,e,!0)}),1e3*e)):(o._list.reset(),g.logError(i+(e?". Retries: "+e:"")),o._showEmptyState(l.NoConnection))},complete:function(){o._hideLoading(),o._loading=!1}},o._requestListOptions()),o._requestList(n))},m.prototype._requestList=function(t){},m.prototype._requestListOffset=function(){},m.prototype._onListLoaded=function(){},m.prototype._highlightNewEvents=function(){},m.prototype._notifyOfflineEvents=function(){var t=this;this._bridge.active.value()||this._alertsDispatcher.events.each((function(e){t._notify(e)}))},m.prototype._notify=function(t){this._bridge.active.value()||this._notifications.has(t.id)||(this._notifications.add(t.id),this._updateNotifications())},m.prototype._hideNotification=function(t){!this._bridge.active.value()&&this._notifications.has(t.id)&&(this._notifications.delete(t.id),this._updateNotifications())},m.prototype._updateNotifications=function(){var t=this._notifications.size;t>0?this._bridge.notify(1,{notificationValue:t}):this._clearNotifications()},m.prototype._clearNotifications=function(){this._notifications.clear(),this._bridge.notify(1,{clear:!0})},m.prototype._showLoadingWheel=function(){this._$container.children().addClass("js-hidden"),this._spinner||(this._spinner=new r("mini").spin(this._$container.get(0))),this._hideLoadingTimeout=setTimeout(this._hideLoading.bind(this),2e4)},m.prototype._showLoadingFade=function(t){this._$loadingFaded||(this._$loadingFaded=$('<div class="alert-loading-indicator loading-indicator-faded"></div>').appendTo(this._$container)),this._$loadingFaded.removeClass("js-hidden"),this._hideLoadingTimeout=setTimeout(this._hideLoading.bind(this),2e4)},m.prototype._hideLoading=function(){this._hideLoadingTimeout&&clearTimeout(this._hideLoadingTimeout),this._$inner.removeClass("js-hidden"),this._spinner&&(this._spinner.stop(),delete this._spinner),this._$loadingFaded&&this._$loadingFaded.addClass("js-hidden")},m.prototype.symbol=function(){var t=this._bridge.getChartWidget();return t&&t.model()&&t.model().mainSeries().actualSymbol()?t.model().mainSeries().actualSymbol():this._bridge.symbol.value()||TVSettings.getValue("editchart.model.symbol",void 0)},m.prototype.resolution=function(){return this._bridge.interval.value()||TVSettings.getValue("editchart.model.interval",void 0)||"1"},m.prototype.getFiltersState=function(){return window.is_authenticated?{active:this.hideInactiveAlerts.value()||null,symbol:this.currentSymbolOnly.value()?this.symbol():null,
resolution:this.currentResolutionOnly.value()?this.currentResolutionOnly.value():null}:{active:null,symbol:null,resolution:null}},m.prototype.getDataSourceHub=function(){var t=this._bridge.getChartWidget();return t&&t.model()&&t.model().model()},m.prototype.isOnChart=function(){return Boolean(this._bridge.getChartWidgetCollection())},m.prototype._toggleSelectableList=function(t){this._selectableList&&(t?this._selectableList.activate():this._selectableList.deactivate())},m.prototype.destroy=function(){this._alertsDispatcherCancelable.cancel(),this._list&&(this._list.destroy(),delete this._list),this._destroyEmptyStateEl&&this._destroyEmptyStateEl(),this._unsubscribeFromSymbolChanges&&this._unsubscribeFromSymbolChanges(),this._alertsDispatcher&&this._onEventFired&&this._alertsDispatcher.events.off("fired",this._onEventFired),this._alertsDispatcher&&this._onEventPopupClosed&&this._alertsDispatcher.events.off("fired",this._onEventPopupClosed),this._unmountHeader()},t.exports=m}).call(this,i("hY0g"))},X19y:function(t,e,i){"use strict";i.r(e),i.d(e,"flagUrl",(function(){return o})),i.d(e,"flagHtml",(function(){return s}));var n=i("eF8V");function o(t){return Object(n.a)(t)}function s(t){return'<img alt="'+t+'" src="'+o(t)+'" class="tv-flag-country tv-flag-country--'+t+'">'}},XJ8t:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!/(?:[\u0370-\u1FFF\u2E80-\uD7FF\uE000-\uFDFF\uFE20-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g.test(t)},t.exports=e.default},YJLw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e&=e;return e},t.exports=e.default},YvYu:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45" width="45" height="45"><path fill="currentcolor" d="M16.5 21.5l8.146 8.146a.914.914 0 0 1-1.292 1.293L16.5 24.086l-6.854 6.853a.914.914 0 0 1-1.292-1.293L16.5 21.5zm0 4l6.146 6.146a1.914 1.914 0 0 0 2.708-2.707L16.5 20.086l-8.854 8.853a1.914 1.914 0 1 0 2.708 2.707L16.5 25.5zm13 0l8.146-8.146a.914.914 0 0 0-1.292-1.293L29.5 22.914l-6.854-6.853a.914.914 0 0 0-1.292 1.293L29.5 25.5zm0-4l6.146-6.146a1.914 1.914 0 0 1 2.708 2.707L29.5 26.914l-8.854-8.853a1.914 1.914 0 1 1 2.708-2.707L29.5 21.5z"/></svg>'},Yznx:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m14.5 10a4.5 4.5 0 0 0-4.5 4.5v17.2l4.7-4.7h10.8a4.5 4.5 0 0 0 4.5-4.5v-8a4.5 4.5 0 0 0-4.5-4.5zm0 1h11a3.5 3.5 0 0 1 3.5 3.5v8a3.5 3.5 0 0 1-3.5 3.5H14.3L11 29.3V14.5a3.5 3.5 0 0 1 3.5-3.5zm15 5v1h1a2.5 2.5 0 0 1 2.5 2.5v12.8L29.7 29h-8.2a2.5 2.5 0 0 1-2.5-2.5h-1a3.5 3.5 0 0 0 3.5 3.5h7.8l4.7 4.7V19.5a3.5 3.5 0 0 0-3.5-3.5z"/></svg>'},"Z+Vr":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n="watchlist-widget"},"aE/C":function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M22.308 8.606a.5.5 0 0 0-.616 0l-11.5 9a.5.5 0 0 0 0 .788l11.5 9a.5.5 0 0 0 .616 0l11.5-9a.5.5 0 0 0 0-.788l-11.5-9zM22 26.366L11.311 18 22 9.635 32.689 18 22 26.365zm0 4l-11.192-8.76-.616.788 11.5 9a.5.5 0 0 0 .616 0l11.5-9-.616-.788L22 30.366zm0 4l-11.192-8.76-.616.788 11.5 9a.5.5 0 0 0 .616 0l11.5-9-.616-.788L22 34.366z"/></svg>'},aeVA:function(t,e,i){t.exports={container:"container-NNlg3-R1",text:"text-2sjfsYrV",action:"action-3X5xkgxe"}},ai7J:function(t,e,i){t.exports={separator:"separator-3EpY15lj"}},at9Y:function(t,e,i){},bC7V:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" width="25" height="25"><path d="M15 15v10l-2-2h10l-2 2v-10l2 2h-10l2-2zm-2 0h10v10h-10v-10zm-13 8h10l-2 2v-10l2 2h-10l2-2v10l-2-2zm0 2v-10h10v10h-10zm2-23v10l-2-2h10l-2 2v-10l2 2h-10l2-2zm-2 0h10v10h-10v-10zm19.414-.657l-7.071 7.071v-2.828l7.071 7.071h-2.828l7.071-7.071v2.828l-7.071-7.071h2.828zm-1.414-1.414l7.071 7.071-7.071 7.071-7.071-7.071 7.071-7.071z"/></svg>'},bIzq:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M23 14.5a9.5 9.5 0 1 1-19 0 9.5 9.5 0 0 1 19 0zm1 0a10.5 10.5 0 1 1-21 0 10.5 10.5 0 0 1 21 0zM11.3 9.6l-.8-.6v11l.8-.6 6-4.5.53-.4-.53-.4-6-4.5zm4.87 4.9L11.5 18v-7l4.67 3.5z"/></svg>'},bMzf:function(t,e,i){"use strict";function n(t,e){void 0===e&&(e=window);for(var i="theme-"+t,n=e.document.documentElement.classList,o=0,s=Array.from(n);o<s.length;o++){var r=s[o];r.startsWith("theme-")&&r!==i&&n.remove(r)}n.add(i)}i.r(e),i.d(e,"applyTheme",(function(){return n}))},bQ7Y:function(t,e,i){t.exports={button:"button-2ioYhFEY",hover:"hover-yHQNmTbI",isInteractive:"isInteractive-20uLObIc",isGrouped:"isGrouped-2BBXQnbO",isActive:"isActive-22S-lGpa",isOpened:"isOpened-p-Ume5l9",isDisabled:"isDisabled-1_tmrLfP",text:"text-1sK7vbvh",icon:"icon-beK_KS0k"}},cSYm:function(t,e,i){"use strict";i.r(e);i("Kxc7");var n=i("mrSG"),o=i("YFKU"),s=i("xlbu"),r=i("JWMC"),a=i("BHQF"),l=i("24R9"),c=i("wyNs"),d=i("dp/D"),h=i("txPx"),u=i("0UyP");function p(t){return Promise.all([i.e("vendors_embed"),i.e(3),i.e(31),i.e(39),i.e(228),i.e(284),i.e(182),i.e("news-description-dialog-impl")]).then(i.bind(null,"b+lp")).then((function(e){return e.openNewsDescriptionDialogImpl(t)}))}var g=i("JHPQ"),m=Object(o.t)("at {source}");var v=function(){function t(){}return t.prototype.timeout=function(){return 3e5},t.prototype.getNews=function(t){return this._fetch(t)},t.prototype.renderItem=function(t){var e=this,i=function(t){var e=t.title,i=t.shortDescription,n=t.link,o=t.source,s=document.createElement("div");s.classList.add(g["news-item__title"]),s.textContent=e,s.classList.toggle(g["news-item__title--external-link"],Boolean(n));var r=document.createElement("div");r.classList.add(g["news-item__description"]),r.textContent=i||"";var a=document.createElement("div")
;a.classList.add(g["news-item__footer"]),a.textContent=m.format({source:o});var l=document.createElement("time");a.appendChild(l);var c=document.createElement(n?"a":"div");return c.classList.add(g["news-item"]),n&&(c.href=n,c.target="_blank",c.classList.add("js-ga-track-news-escape")),c.appendChild(s),c.appendChild(r),c.appendChild(a),c}(t);return t.fullDescription&&i.addEventListener("click",(function(i){i.preventDefault(),e.showPopup(t)})),i},t.prototype.showPopup=function(t){var e=t.fullDescription;e&&p({title:t.title,description:e,source:t.source,published:t.published})},t}(),_=i("eYFQ"),f=i("25b6"),w=i("8woN");function b(t){var e,i;return t.includes(":")?(i=Object(w.shortName)(Object(f.htmlEscape)(t)),e=Object(f.htmlEscape)(t)):i=Object(f.htmlEscape)(t),{proName:e,shortName:i}}function y(t){return window.is_authenticated?t.shortDescription:S(t)?void 0:t.shortDescription}function C(t){return window.is_authenticated?t.fullDescription:S(t)?void 0:function(t){return Boolean(t.permission&&"preview"===t.permission)}(t)?t.shortDescription:t.fullDescription}function S(t){return Boolean(t.permission&&"headline"===t.permission)}function k(t){return t.trim().replace(/^<pre>|<\/pre>$/g,"").replace(/<Origin Href="(\w+)">(.*?)<\/Origin>/gi,(function(t,e,i){switch(e){case"Link":return'<a href="'+(((o=i).includes("://")?o:"http://"+o)+'" rel="noopener" target="_blank">')+(function(t){return t.split(/[?#]/)[0].replace(/http(s)?:\/\//i,"").replace(/\/$/i,"")}(i)||i)+"</a>";case"QuoteRef":var n=function(t){if(t.includes("|")){var e=t.split("|"),i=e[0],n=e[1],o=b(i);return{proName:o.proName,shortName:o.shortName,interval:n}}var s=b(t);return{proName:s.proName,shortName:s.shortName,interval:void 0}}(i);return'<a href="'+Object(_.makeSymbolPageUrl)(n)+'" target="_blank">'+n.shortName+"</a>";case"StoryRef":case"NewsSearchID":return"";case"NewsSearch":default:return i}var o})).split(/\n {2,5}|\n\n[\n ]*/).filter(Boolean).map((function(t){return"<p>"+t+"</p>"})).join("").replace(/(&lt;)?[\^.\-=]{10,}(&gt;)?\n?/g,"<hr>")}var $={stock:"stock",forex:"forex",futures:"futures",crypto:"bitcoin",bitcoin:"bitcoin",index:"index",cfd:"cfd"};var T=i("KqNG"),x=Object(h.getLogger)("NewsProvider"),I=Object(o.t)("Headlines"),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._baseUrl=window.NEWS_SERVICE_URL+"/headlines/?",e}return Object(n.__extends)(e,t),e.prototype.title=function(){return I},e.prototype.getNews=function(t){if("spread"===t.type){var e=Object(T.b)(t.pro_name).filter((function(t){return"symbol"===t.type})).map((function(t){return t.value}));return this._fetch(Object(n.__assign)(Object(n.__assign)({},t),{pro_name:e[0]}))}return this._fetch(t)},e.prototype.renderItem=function(e){var i=this,n=t.prototype.renderItem.call(this,e);if(e.link){var o=n.querySelector(".js-ga-track-news-escape");o&&o.addEventListener("click",(function(t){var e=t.target;i._trackEvent(e.hostname,e.pathname)}))}return n},e.prototype.showPopup=function(e){var i=this;this._trackEvent(e.source,null);var n=function(){
return t.prototype.showPopup.call(i,e)};window.is_authenticated?n():p({title:e.title,description:C(e),source:e.source,published:e.published,onShowFullDescriptionClick:n})},e.prototype.needAppendSymbolToTitle=function(){return"ja"!==window.locale},e.prototype._fetch=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e,i,o,r,l,c;return Object(n.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),e=this._getURL(t),i=Date.now(),[4,Object(a.fetch)(e)];case 1:return o=d.sent(),r=Date.now()-i,s.telemetry.sendReport("news","api_time_frame",{value:r}),s.telemetry.sendReport("news","api_http_status",{value:o.status}),o.ok?[3,3]:[4,o.text()];case 2:throw l=d.sent(),Error("Error while fetch "+o.url+". Response status "+o.status+" "+o.statusText+". Response text: '"+l+"'");case 3:return[4,o.json()];case 4:return[2,d.sent().map((function(t){return function(t){return Object(n.__assign)(Object(n.__assign)({},t),{shortDescription:y(t),fullDescription:t.fullDescription&&k(t.fullDescription),published:1e3*t.published})}(t)}))];case 5:throw c=d.sent(),x.logError(c.message),c;case 6:return[2]}}))}))},e.prototype._getURL=function(t){return this._baseUrl+Object(l.createUrlParams)({proSymbol:t.pro_name||null,locale:t.locale||window.locale,category:t.category||(e=t.type||"base",$[e]||"base"),country:t.country||Object(c.a)(window.locale),lang:t.lang||Object(d.a)(window.language),client:"web"});var e},e.prototype._trackEvent=function(t,e){return Object(n.__awaiter)(this,void 0,void 0,(function(){var i;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return Object(r.trackEvent)("News","click",t),[4,Object(u.getTracker)()];case 1:return(i=n.sent())&&i.trackNewsClick(t,e),[2]}}))}))},e}(v);function E(){return P}i.d(e,"getWidgetBarProvider",(function(){return E}))},clWw:function(t,e,i){"use strict";(function(e,n){i("TdlR"),i("AlSh");var o=i("9tJu"),s=o.getUserProfilePath,r=o.ProfilePages,a=i("hp/T"),l=i("TxTq"),c=i("sFgq").SidebarCustomScroll,d=i("L7u7").pushChartPage,h=i("bR4N").bindPopupMenu,u=i("PQvG"),p=i("OqB+").ChatLikesHandler,g=i("VPmY"),m=i("c2JX").Spinner,v=i("qjxE"),_=i("FBuY").TVXWindowEvents,f=i("eYFQ").getSymbolPagePath,w=i("0gOL").template,b=i("hPwr").PublishedChartsFilter,y=i("IhIr").Size,C=i("6RdN").renderBadgeAccountWithoutFeaturedBroker,S=i("EhHS").getBadgeAccountTitle,k=i("HKz3").getBadgeAccountLink,T=i("e1ZQ").dateFormatFunctions,x=i("7+KO"),I=i("M1lL"),P=0,E=1,B=2,O=3,L={};L[b.None]=0,L[b.Following]=1,L[b.Private]=2;function M(t){this._bridge=t;var i=(t.options||{}).type;if("following"!==i&&"user"!==i)throw new Error("NotificationsWidgets: invalid widget type");this._widgetType=i,this._pushStreamChannel="notification:"+i,this._xEventsChannel="notifications-read:"+i,this._markNotificationsSettingsKey="notifications-mark:"+i,this._onMessage=new e,this._$container=t.$body,this._prepareLayout(this._$container),this._getTemplate(),window.is_authenticated?(this.init(),this._state=E,this._bridge.visible.value()&&this.load()):(this._state=P,
this.showSignInMessage()),TradingView.notificationsChanged.subscribe(null,function(){this.updateSettings()}.bind(this))}function D(t,e){if(t.length<e)return t.trim();t+=" ";for(var i,n=/\s+/g,o="",s=0;null!=(i=n.exec(t));){if(i.index>=e){o=t.substring(0,s).trim()+"...";break}s=i.index}return o||t.substring(0,e)+"..."}M.prototype.updateSettings=function(){this.getWidgetData().done(function(t){if(this._settings=t.settings,"user"===this._widgetType){var e=new g;e.ready.then((function(){e.data.notification_popup=t.settings.notification_popup,e.data.notification_sound=t.settings.notification_sound})),TVSettings.setValue("messages.show_onsite_notifications",0!=(1&t.settings.notification_mention_in_chat)),TVSettings.setValue("publicchats.send_email_notifications",0!=(2&t.settings.notification_mention_in_chat))}}.bind(this))},M.prototype._getTemplate=function(){
this._itemTemplate='<div class="js-notifications-event-block tv-notifications-widget-item" data-id="{{id}}"><div class="tv-notifications-widget-item__wrap"><div class="tv-notifications-widget-item__icon-time-wrap tv-notifications-widget-item__icon-time-wrap--event-type_{{eventType}}"><div class="js-icon-place"></div></div><div class="tv-notifications-widget-item__header"><a class="js-userlink-popup tv-notifications-widget-item__user-avatar" href="{{profileUrl}}" target="_blank" data-username="{{username}}"><img src="{{avatar}}" alt=""/></a><div class="tv-notifications-widget-item__user-info"><div class="tv-notifications-widget-item__user-name"><a class="js-userlink-popup tv-notifications-widget-item__user-name-link" href="{{profileUrl}}" target="_blank" data-username="{{username}}">{{username}}</a><span class="js-badge-wrapper"></span></div><time class="js-ago-timer"></time><div>{{event}}</div></div></div>{{^templateOptions.noBody}}<div class="tv-notifications-widget-item__body">{{#templateOptions.title}}<span class="tv-notifications-widget-item__chart-title"><span>{{chartTitle}}</span> {{^templateOptions.noSymbol}}<a href="{{ symbolPageUrl }}" target="_blank" class="tv-notifications-widget-item__chart-symbol">{{chartSymbol}}</a>{{/templateOptions.noSymbol}}</span>{{/templateOptions.title}}{{#templateOptions.chartPreview}}<div class="tv-notifications-widget-item__chart-preview-wrap">{{^templateOptions.noLikes}}'+w+'{{/templateOptions.noLikes}}<a class="js-chart-preview tv-notifications-widget-item__chart-preview" href="{{chartURL}}"><img src="{{chartPreview}}"/>{{#isVideo}}<div class="tv-notifications-widget-item__play-icon">'+i("IRk6")+'</div>{{/isVideo}}{{#videoCam}}<div class="tv-notifications-widget-item__video-cam">'+i("n5P/")+'</div>{{/videoCam}}</a></div>{{/templateOptions.chartPreview}}{{#templateOptions.description}}<div class="tv-notifications-widget-item__description {{#shortDescription}}tv-notifications-widget-item__description--short {{/shortDescription}} tv-notifications__description--ellipsis">{{description}}</div>{{/templateOptions.description}}{{#templateOptions.descriptionLink}}<div class="tv-notifications-widget-item__entity-link"><a href="{{descriptionLink}}" target="_blank">'+window.t("Link")+"</a></div>{{/templateOptions.descriptionLink}}</div>{{/templateOptions.noBody}}</div></div>"},M.prototype.showSignInMessage=function(){this._$data.append('<div class="ch-item-empty">'+window.t("If you want to use this service - please __signInLink__!",{signInLink:'<a class="js-notifications-widgets-sign-in" href="#signin">'+window.t("sign in or register")+"</a>"})+"</div>"),this._$data.find("a.js-notifications-widgets-sign-in").on("click",(function(){return runOrSignIn((function(){}),{source:"Notifications widget placeholder",sourceMeta:"Chart"}),!1}))},M.prototype.showEmptyMessage=function(){this._$data.append('<div class="ch-item-empty js-empty-message">'+window.t("You have no notifications yet.")+"</div>"),this._onMessage.subscribe(this,function(){this._$data.find(".js-empty-message").remove()
}.bind(this),!0)},M.prototype.load=function(t){var e=new m("mini").spin(this._$widget.get(0));this._state=B,this.getWidgetData().done(function(i){e.stop(),this.onData(i),this.highlightUnread(),this.read(),t&&t()}.bind(this))},M.prototype.onData=function(t){var e=this,i=$.map(this._events,(function(t,e){return"notification_"+e}));this._settings=t.settings,i.forEach((function(t){if(!(t in e._settings))throw new Error("NotificationsWidgets: missing notification settings")})),t.notifications.length?this.renderItems(t.notifications):this.showEmptyMessage(),t.notifications.length<20&&(this._history_loaded=!0),this.initLoadMore(),this._state=O},M.prototype.init=function(){var t=this;l.on(this._pushStreamChannel,$.proxy(this,"onMessage")),_.on(this._xEventsChannel,this.onRead.bind(this)),this._likesHandler=p.getChartsHandler(),this._$container.parent().on("click",this.onFocus.bind(this)),this._getEvents(),this._count=window.user.notification_count?window.user.notification_count[this._widgetType]:0,this._count&&this._bridge.notify(this._count),this._settings={};var e=new g;e.ready.then((function(){for(var i in e.data)e.data.hasOwnProperty(i)&&(t._settings[i]=e.data[i])})),this._bridge.visible.subscribe(this.visibilityChange.bind(this)),this._bridge.active.subscribe(this.activeStateChange.bind(this))},M.prototype.destroy=function(){this._likesHandler&&this._likesHandler.destroy(),this._publishedChartsWatchedProps&&(this._publishedChartsWatchedProps.visible.unsubscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps.filter.unsubscribe(this,this._publishedChartsUpdateControls)),this._publishedChartsActiveChangedBound&&this._bridge.getChartWidgetCollection().activeChartWidget.unsubscribe(this._publishedChartsActiveChangedBound),l.off(this._pushStreamChannel),_.off(this._xEventsChannel)},M.prototype.getWidgetData=function(){return $.get("/notifications-data/",{widget_type:this._widgetType},"json")},M.prototype.visibilityChange=function(t){t&&this._state===E?this.load(this.visibilityChange.bind(this,t)):(t&&this.updateLayout(),t||this.read())},M.prototype.activeStateChange=function(t){t&&this._state!==B&&(this.highlightUnread(),this.read())},M.prototype.onFocus=function(){this.stopHighlight(),this.read()},M.prototype.markAsRead=function(){var t=this._$data.find(".js-notifications-event-block.js-notifications-unread").removeClass("js-notifications-unread").addClass("js-notifications-new");if(t.length){setTimeout((function(){t.removeClass(".js-notifications-new")}),36e5);var e=t.map((function(){return $(this).data("id")})),i=TVSettings.getJSON(this._markNotificationsSettingsKey,{},!0);i[(new Date).getTime()]=[Math.min.apply(null,e),Math.max.apply(null,e)],TVSettings.setJSON(this._markNotificationsSettingsKey,i)}},M.prototype.markNew=function(){var t,e=(new Date).getTime(),i=TVSettings.getJSON(this._markNotificationsSettingsKey,{},!0),n=!1;for(t in i)e-parseInt(t,10)>36e5&&(delete i[t],n=!0);n&&TVSettings.setJSON(this._markNotificationsSettingsKey,i),
this._$data.find(".js-notifications-event-block:not(.js-notifications-new)").each((function(){var n=$(this),o=n.data("id");function s(){n.removeClass("js-notifications-new")}for(t in i){var r=i[t];if(o>=r[0]&&o<=r[1]){n.addClass("js-notifications-new");var a=parseInt(t,10)+36e5-e;setTimeout(s,a)}}})).slice(0,this._count||0).addClass("js-notifications-unread")},M.prototype.highlightUnread=function(){this._$data.find(".js-notifications-event-block.js-notifications-unread").highlight(3)},M.prototype.stopHighlight=function(){this._$data.find(".js-notifications-event-block.js-notifications-unread").filter(":animated").stop(!0,!1).highlight(!1)},M.prototype.read=function(){this._count&&($.post("/notifications-reset-counter/",{widget_type:this._widgetType},(function(){})),this.onRead(),_.emit(this._xEventsChannel))},M.prototype.onRead=function(){this.markAsRead(),this._count=0,setTimeout(function(){this._bridge.clearNotifications()}.bind(this),0)},M.prototype.onMessage=function(t){t&&"stream_start"===t.type&&t.user_id===window.user.id||!t||"user"!==this._widgetType&&t.lang!==window.locale&&"publish_pine"!==t.type&&"pubscript_updates"!==t.type||(this._state!==E&&(this.addNewNotification(t),this._onMessage.fire()),this.incrementCounter(),this._bridge.visible.value()||this.showDesktopNotification(t),this.playSound())},M.prototype.incrementCounter=function(){this._count++,this._bridge.notify(1)},M.prototype.addNewNotification=function(t){var e=this.renderItem(t);this._$data.prepend(e),e.addClass("js-notifications-unread"),this._bridge.active.value()&&this.updateLayout(),this._bridge.visible.value()&&e.highlight(3)},M.prototype.showDesktopNotification=function(t){var e=this,i=new g;i.ready.then((function(){if(i.data.notification_popup&&l.ownPushStream()){var n=e._events[t.type],o=n.desktopNotification.messageTitle,s="function"==typeof o?o.call(e,t):o.format(t.user.username,t.chart_title||"",t.chart_symbol||""),r="";r=(r=n.desktopNotification.noDescription?window.t("Click here to open widget..."):n.desktopNotification.useChartTitle?t.chart_title:n.desktopNotification.description?"function"==typeof n.desktopNotification.description?n.desktopNotification.description.call(e,t):n.desktopNotification.description:t.description.trim()).slice(0,256),u.show(s,r,t.user.mid_picture_url)}}))},M.prototype._prepareLayout=function(t){if(this._$widget=$('<div class="tv-notifications">').appendTo(t),this._$data=$('<div class="nf-data">').appendTo(this._$widget),this._scroll=new c(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this)),this._bridge.visible.subscribe(this.resize.bind(this)),"following"===this._widgetType&&this._bridge.getChartWidgetCollection()&&this._initPublishedCharts(),window.is_authenticated){this._$settings=this._addHeaderButton({classes:"button apply-common-tooltip",title:window.t("Settings"),icon:i("jJ9P"),iconWidth:17,iconHeight:17});var e=this;this._$settings.on("click",(function(t){$(this).hasClass("open")?$(this).trigger("hide-popup"):e._settingsMenu(t)})),h(this._$settings,null,{
event:"show-popup",hideEvent:"hide-popup",addClass:"nf-popup nf-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0})}this._$widget.on("contextmenu",(function(t){t.target.classList.contains("tv-notifications")&&t.preventDefault()}))},M.prototype._addHeaderButton=function(t){var e=$('<a class="'+t.classes+'" title="'+t.title+'"></a>'),i=$(t.icon).attr({width:t.iconWidth,height:t.iconHeight});return e.append(i).appendTo(this._bridge.$headerspace)},M.prototype._initPublishedCharts=function(){var t={classes:"apply-common-tooltip button",title:window.t("Ideas for this symbol will appear as different color dots on the chart. Red for short ideas, yellow for neutral and green for long. The dot appears on the day when they were published."),icon:x},e={classes:"apply-common-tooltip button button-half button-nomarginleft",title:window.t("Published ideas settings"),icon:i("SmzL"),iconWidth:8,iconHeight:4};this._publishedChartsFilterPopupItems=[{title:window.t("Show All Ideas"),action:this._signInOrRunFilterHandler(b.None)},{title:window.t("Show Ideas of Followed Users"),action:this._signInOrRunFilterHandler(b.Following)},{title:window.t("Show My Ideas Only"),action:this._signInOrRunFilterHandler(b.Private)}],this._$publishedChartsToggle=this._addHeaderButton(t),this._$publishedChartsFilter=this._addHeaderButton(e),this._$publishedChartsToggle.on("click",this._handlePublishedChartsToggle.bind(this,void 0)),h(this._$publishedChartsFilter,this._publishedChartsFilterPopupItems,{direction:"down",reverse:!0}),this._publishedChartsActiveChangedBound=this._publishedChartsActiveChanged.bind(this),this._bridge.getChartWidgetCollection().activeChartWidget.subscribe(this._publishedChartsActiveChangedBound,{callWithLast:!0})},M.prototype._publishedChartsActiveChanged=function(t){if(this._bridge.getChartWidget()===t){var e=t.model();if(e){var i=e.publishedChartsTimelineSource().properties().visible,n=e.publishedChartsTimelineSource().properties().filter;i.subscribe(this,this._publishedChartsUpdateControls),n.subscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps?(this._publishedChartsWatchedProps.visible.unsubscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps.filter.unsubscribe(this,this._publishedChartsUpdateControls),this._publishedChartsWatchedProps.visible=i,this._publishedChartsWatchedProps.filter=n):this._publishedChartsWatchedProps={visible:i,filter:n},this._publishedChartsUpdateControls()}else t.modelCreated().subscribe(this,(function(){this._publishedChartsActiveChanged(t)}),!0)}},M.prototype._publishedChartsUpdateControls=function(){var t=this._publishedChartsWatchedProps,e=t.visible.value(),i=t.filter.value();this._publishedChartsFilterPopupItems.forEach((function(t,e){t.addClass=L[i]===e?"active-item-backlight":void 0})),this._$publishedChartsToggle.toggleClass("active",e);var n=$(e?I:x).css("margin-top",e?-4:0);this._$publishedChartsToggle.find("svg").replaceWith(n)},M.prototype._handlePublishedChartsToggle=function(t){
if(this._publishedChartsWatchedProps){var e=window.t("Show Published Charts Timeline"),i=window.t("Hide Published Charts Timeline"),n=this._publishedChartsWatchedProps.visible,o=!n.value();void 0!==t&&t!==o||n.setValue(o,o?e:i)}},M.prototype._signInOrRunFilterHandler=function(t){return window.runOrSignIn.bind(null,this._handlePublishedChartsFilter.bind(this,t),{source:"Published charts timeline in widgetbar",sourceMeta:"Chart",feature:"publish"})},M.prototype._handlePublishedChartsFilter=function(t){if(this._publishedChartsWatchedProps){var e=window.t("Change Ideas filter");this._publishedChartsWatchedProps.filter.setValue(t,e),this._handlePublishedChartsToggle(!0)}},M.prototype._getEvents=function(){"following"===this._widgetType&&(this._events={publish:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("Published new idea"),iconSvgCode:i("AJki"),settingName:window.t("Ideas"),desktopNotification:{messageTitle:window.t("New idea by {0}"),useChartTitle:!0}},publish_pine:{templateOptions:{title:!0,description:!0,chartPreview:!0,noSymbol:!0},eventName:window.t("Published new script"),iconSvgCode:i("AJki"),settingName:window.t("Ideas"),desktopNotification:{messageTitle:window.t("New script by {0}"),useChartTitle:!0}},chart_updates:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("Updated idea"),iconSvgCode:i("RMt/"),settingName:window.t("Updates"),desktopNotification:{messageTitle:window.t("{0} updated the {1} idea")}},pubscript_updates:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("New script version"),iconSvgCode:i("RMt/"),settingName:window.t("Scripts Updates"),desktopNotification:{messageTitle:window.t("{0} updated the {1} script")}},change_status:{templateOptions:{description:!0},eventName:window.t("Updated status"),iconSvgCode:i("pM3Z"),settingName:window.t("Status Updates"),desktopNotification:{messageTitle:window.t("{0} has a new status")}},follow_symbol:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:window.t("Published new idea"),iconSvgCode:i("AJki"),settingName:window.t("Ideas"),desktopNotification:{messageTitle:window.t("New idea by {0} on symbol {2}"),useChartTitle:!0}}},this._settingsGroups=[{title:window.t("Authors Followed"),items:["publish","change_status"]},{title:window.t("Ideas Followed"),items:["chart_updates"]},{title:window.t("Symbols Followed"),items:["follow_symbol"]}]),"user"===this._widgetType&&(this._events={follow_user:{templateOptions:{noBody:!0},eventName:window.t("Follows you"),iconSvgCode:i("Aml6"),settingName:window.t("New Follower"),desktopNotification:{messageTitle:window.t("User {0} now follows you"),noDescription:!0}},stream_start:{templateOptions:{descriptionLink:!0},eventName:window.t("Started a new live stream"),iconSvgCode:i("yTtm"),settingName:window.t("New Stream"),desktopNotification:{messageTitle:window.t("User {0} just started a new live stream")}},comment:{templateOptions:{title:!0,description:!0,descriptionLink:!0,chartPreview:!0},
eventName:window.t("Commented on your idea"),iconSvgCode:i("ioEH"),settingName:window.t("Comments"),desktopNotification:{messageTitle:window.t("{0} commented on your idea {1}")}},comment_pine:{templateOptions:{title:!0,description:!0,descriptionLink:!0,chartPreview:!0,noSymbol:!0},eventName:window.t("Commented your script"),iconSvgCode:i("ioEH"),settingName:window.t("Comments"),desktopNotification:{messageTitle:window.t("{0} commented your script {1}")}},vote:{templateOptions:{title:!0,chartPreview:!0},eventName:window.t("Agreed with your idea"),iconSvgCode:i("w68K"),settingName:window.t("Likes"),desktopNotification:{messageTitle:window.t("{0} agreed with your idea"),useChartTitle:!0}},vote_pine:{templateOptions:{title:!0,chartPreview:!0,noSymbol:!0},eventName:window.t("Liked your script"),iconSvgCode:i("w68K"),settingName:window.t("Likes"),desktopNotification:{messageTitle:window.t("{0} liked your script {1}"),useChartTitle:!0}},mention_in_ideas_comment:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Mentioned you in idea comment"),iconSvgCode:i("ioEH"),settingName:window.t("Mentions in Idea Comment"),desktopNotification:{messageTitle:window.t("{0} mentioned you in idea comment")}},mention_in_script_comment:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Mentioned you in script comment"),iconSvgCode:i("ioEH"),settingName:window.t("Mentions in Script Comment"),desktopNotification:{messageTitle:window.t("{0} mentioned you in script comment")}},mention_in_chat:{templateOptions:{description:!0,descriptionLink:!0},eventName:function(t){return window.t("Mentioned you in{chatRoom}chat").format({chatRoom:t.chat_room?" "+t.chat_room+" ":" "})},iconSvgCode:i("ioEH"),settingName:window.t("Mentions in Chat"),desktopNotification:{messageTitle:window.t("{0} mentioned you in chat")}},access_to_script:{templateOptions:{title:!0,description:!0,chartPreview:!0,noSymbol:!0,noLikes:!0},eventName:function(t){return t.expiration?window.t("Granted you access to a script that expires on {expiration}").format({expiration:T["dd MMM 'yy"](new Date(t.expiration),!1)}):window.t("Granted you access to a script")},iconSvgCode:i("AJki"),desktopNotification:{messageTitle:window.t("Granted access to a script"),description:function(t){return t.script_name}},processViewData:function(t,e){t.chartTitle=e.script_name,t.description=window.t("Refresh your page to see it in the Indicators window.")}},broker_review:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Left you a review"),iconSvgCode:i("pM3Z"),desktopNotification:{messageTitle:window.t("{0} left you a review")}},broker_review_update:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Updated a review"),iconSvgCode:i("pM3Z"),desktopNotification:{messageTitle:window.t("{0} updated a review")}},broker_reply:{templateOptions:{description:!0,descriptionLink:!0},eventName:window.t("Replied to your review"),iconSvgCode:i("pM3Z"),desktopNotification:{messageTitle:window.t("{0} replied to your review")}}},
this._settingsGroups=[{title:window.t("You"),items:["follow_user","mention_in_ideas_comment","mention_in_chat"]},{title:window.t("Your Ideas"),items:["comment","vote"]}])},M.prototype._settingsMenu=function(t){var e=this;if(this._settings){var n=[];e._settingsGroups.forEach((function(o){var s=h.Group({title:o.title.toUpperCase()});o.items.forEach((function(n){var o=e._settings,r="notification_"+n;s.push({title:e._events[n].settingName,action:function(){o[r]^=1;var i={widget_type:e._widgetType};i[r]=o[r];var n=$('input[name="'+r+'_onsite"]');$.post("/notifications-settings/",i,(function(t){if(t&&t.success){if(n[0]){1&o[r]?n.attr("checked","checked"):n.removeAttr("checked")}}else o[r]^=1}),"json"),setTimeout((function(){e._settingsMenu(t)}),0)},icon:{image:"url('"+i("4AmR")+"')",offset:1&o[r]?"0 -16px":void 0}})})),n.push(s)})),n.push({separator:!0}),n.push({title:window.t("Additional Notifications Settings..."),action:function(){window.open(s(window.user,{page:r.Notifications}),"_blank")},addClass:"with-indent"}),$(t.target).trigger("show-popup",[n])}t.stopPropagation()},M.prototype.updateLayout=function(t){this.resize()},M.prototype.resize=function(t){this._scroll.resize()},M.prototype.renderItems=function(t){for(var e=0;e<t.length;e++)this._$data.append(this.renderItem(t[e]));this.markNew(),this.updateLayout()},M.prototype.openChartPopup=function(t,e,i,n){return d({chartId:t,chartName:e,publishedUrl:i,shortSymbol:n,chartWidgetCollection:this._bridge.getChartWidgetCollection()}),!1},M.prototype.renderItem=function(t){var e=this._events[t.type],i=window.t("Like",{context:"like_button"}),o=window.t("Likes",{context:"like_button_amount_of_likes"}),r={eventType:t.type.replace("_","-"),templateOptions:e.templateOptions,id:t.id,username:t.user.username,profileUrl:s(t.user),avatar:t.user.picture_url,event:"function"==typeof e.eventName?e.eventName(t):e.eventName,chartURL:t.published_chart_url,chartTitle:t.chart_title,chartSymbol:t.chart_symbol,symbolPageUrl:t.chart_pro_symbol?f({proName:t.chart_pro_symbol}):"",chartPreview:t.chart_preview,description:t.description&&D(t.description,254),shortDescription:e.templateOptions.description&&!(e.templateOptions.chartPreview&&e.templateOptions.title),descriptionLink:t.entity_url,isVideo:t.is_video,videoCam:t.video_cam,typeClass:"js-chart-like",titleTooltip:t.chart_user_id===window.user.id?o:i};e.processViewData&&e.processViewData.call(this,r,t);var a=$(n.render(this._itemTemplate,r));a.find(".js-icon-place").append($(e.iconSvgCode));var l=a[0].querySelector(".js-badge-wrapper");return null!==l&&C(l,{badges:t.user.badges,size:y.Small,getTitle:S,getLink:k}),e.templateOptions.chartPreview&&!e.templateOptions.noLikes&&(this._likesHandler.addIdea(a.find(".js-chart-like")[0],t.image_url,t.chart_likes,"user"===this._widgetType?-1:t.chart_voted),a.find(".js-chart-preview").on("click",this.openChartPopup.bind(this,t.image_url,t.chart_title,t.published_chart_url,t.chart_symbol))),v.jQueryCompatibleAgoDateFormatter(a.find(".js-ago-timer"),new Date(1e3*t.timestamp)),a},
M.prototype.playSound=function(){this._settings.notification_sound&&l.ownPushStream()&&a.play(a.DEFAULT_SOUNDS.sound)},M.prototype.initLoadMore=function(){this._history_loaded||this._scroll.scrolltoend.subscribe(this,this.loadMore.bind(this))},M.prototype.loadMore=function(t){if(!this._history_loading&&!this._history_loaded){this._history_loading=!0,this._$data.addClass("js-notifications-loading");var e=this._$data.find(".js-notifications-event-block:last").data("id");$.get("/notifications-history/",{widget_type:this._widgetType,last:e,limit:20},function(t){t.length<20&&(this._history_loaded=!0),t.length&&this.renderItems(t)}.bind(this),"json").always(function(){t||this._scroll.updateScrollBar(),this._history_loading=!1,this._$data.removeClass("js-notifications-loading")}.bind(this))}},t.exports=M}).call(this,i("aIyQ"),i("nbsC"))},dCE3:function(t,e,i){t.exports={button:"button-ef8Q4JWf",icon:"icon-1i5UojWG"}},dECE:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m29.5 11a4.5 4.5 0 0 1 4.5 4.5v14a4.5 4.5 0 0 1-4.5 4.5h-15a4.5 4.5 0 0 1-4.5-4.5v-14a4.5 4.5 0 0 1 4.5-4.5m0 1a3.5 3.5 0 0 0-3.5 3.5v14a3.5 3.5 0 0 0 3.5 3.5h15a3.5 3.5 0 0 0 3.5-3.5v-14a3.5 3.5 0 0 0-3.5-3.5M15 17v-1h14v1zm0 4v-1h14v1zm0 4v-1h14v1zm0 4v-1h14v1z"/></svg>'},delL:function(t,e,i){"use strict";var n;i.r(e),i.d(e,"AlertWidgetEmptyStateReason",(function(){return n})),function(t){t[t.NoAlerts=0]="NoAlerts",t[t.NoConnection=1]="NoConnection",t[t.Maintenance=2]="Maintenance",t[t.Unknown=3]="Unknown"}(n||(n={}))},dkCg:function(t,e,i){"use strict";i.r(e);var n=i("q1tI"),o=i("i8i4"),s=(i("EsMY"),i("mrSG")),r=i("17x9"),a=i("TSYQ"),l=i("Iivm"),c=i("dCE3"),d=i("Opoj");function h(t){var e=a(t.className,c.button,t.isGrayed&&c.isGrayed);return n.createElement("div",{className:e,onClick:t.onClick,"data-role":"button","data-name":t.name},n.createElement(l.Icon,{className:c.icon,icon:d}))}var u,p=i("5AaZ"),g=i("1Pr8");function m(t){t=Object(s.__assign)({isTab:!0,theme:g},t);var e=a(t.className,t.theme.button,t.isTab&&t.theme.isTab,t.isActive&&t.theme.isActive,t.isGrayed&&t.theme.isGrayed,t.hint&&"apply-common-tooltip common-tooltip-vertical");return n.createElement("div",{className:e,title:t.hint,onClick:t.onClick,ref:t.reference,"data-role":"button","data-name":t.name},n.createElement("div",{className:t.theme.hoverMask}),n.createElement(l.Icon,{icon:t.icon}),n.createElement("div",{className:t.theme.counterRow},n.createElement("span",{className:t.theme.counter,"data-name":"counter"},t.count)))}!function(t){t.DomPanel="domPanel",t.OrderPanel="orderPanel"}(u||(u={}));var v=i("Eyy1"),_=i("1TxM"),f=i("PW1O"),w=window.t("DOM"),b=Object(_.b)(),y=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._handleClick=function(){(0,Object(v.ensure)(n.context.widgetBar.tradingPanelAccessor).setDomPanelVisibility)(!n.state.isActive)},n._handleIsOpenedChange=function(){n.setState({isActive:n._tradingPanel.isPageOpened(u.DomPanel)})},n._handleActivePageChange=function(t){
n._tradingPanel.isOpened.value()&&n.setState({isActive:t===u.DomPanel})},Object(_.c)(i,{widgetBar:r.any.isRequired}),n._tradingPanel=Object(v.ensure)(n.context.widgetBar.tradingPanelAccessor).tradingPanel,n.state={isActive:n._tradingPanel.isPageOpened(u.DomPanel)},n}return Object(s.__extends)(e,t),e.prototype.componentDidMount=function(){this._tradingPanel.isOpened.subscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.subscribe(this._handleActivePageChange)},e.prototype.componentWillUnmount=function(){this._tradingPanel.isOpened.unsubscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.unsubscribe(this._handleActivePageChange)},e.prototype.render=function(){return n.createElement(m,Object(s.__assign)({},this.props,{icon:f,hint:w,isActive:this.state.isActive,onClick:this._handleClick}))},e.contextType=b,e}(n.PureComponent),C=i("JWMC"),S=i("YvYu"),k=window.t("Order Panel"),$=Object(_.b)(),T=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._handleClick=function(){var t=Object(v.ensure)(n.context.widgetBar.tradingPanelAccessor).setOrderPanelVisibility,e=!n.state.isActive;t(e),e&&Object(C.trackEvent)("GUI","Open Order Panel")},n._handleIsOpenedChange=function(){n.setState({isActive:n._tradingPanel.isPageOpened(u.OrderPanel)})},n._handleActivePageChange=function(t){n._tradingPanel.isOpened.value()&&n.setState({isActive:t===u.OrderPanel})},Object(_.c)(i,{widgetBar:r.any.isRequired}),n._tradingPanel=Object(v.ensure)(n.context.widgetBar.tradingPanelAccessor).tradingPanel,n.state={isActive:n._tradingPanel.isPageOpened(u.OrderPanel)},n}return Object(s.__extends)(e,t),e.prototype.componentDidMount=function(){this._tradingPanel.isOpened.subscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.subscribe(this._handleActivePageChange)},e.prototype.componentWillUnmount=function(){this._tradingPanel.isOpened.unsubscribe(this._handleIsOpenedChange),this._tradingPanel.activePage.unsubscribe(this._handleActivePageChange)},e.prototype.render=function(){return n.createElement(m,Object(s.__assign)({},this.props,{icon:S,hint:k,isActive:this.state.isActive,onClick:this._handleClick}))},e.contextType=$,e}(n.PureComponent),x=i("ai7J");function I(t){return n.createElement("div",{className:a(t.className,x.separator)})}var P=i("HSWI");function E(t){return n.createElement("div",{className:a(P.filler,t.className)})}function B(t,e){return function(i){function o(t){var n=i.call(this,t)||this;return n._bindedForceUpdate=function(){return n.forceUpdate()},n.state={viewModel:e},n}return Object(s.__extends)(o,i),o.prototype.componentDidMount=function(){var t=this.state.viewModel;t.notificationsCount.subscribe(this._bindedForceUpdate),t.isActive.subscribe(this._bindedForceUpdate)},o.prototype.componentWillUnmount=function(){var t=this.state.viewModel;t.notificationsCount.unsubscribe(this._bindedForceUpdate),t.isActive.unsubscribe(this._bindedForceUpdate)},o.prototype.render=function(){var e=this.state.viewModel,i=e.notificationsCount.value();return n.createElement(t,Object(s.__assign)({},this.props,{
icon:e.icon.value(),isActive:e.isActive.value(),onClick:e.onClick.value(),hint:e.hint.value(),count:0!==i?i.toString():void 0}))},o}(n.PureComponent)}var O=i("XAms"),L=i("txPx"),M=i("8d0Q"),D=i("+GxX");var N=n.lazy((function(){return Promise.all([i.e(4),i.e(16),i.e(46),i.e(114),i.e(348),i.e(42),i.e("news-tab-hint")]).then(i.bind(null,"NYeT")).then((function(t){return{default:t.NewsTabHint}}))})),A=i("If+W"),W=Object(L.getLogger)("Platform.GUI.RightToolbar"),H=Object(_.b)(),R=function(t){function e(e,i){var n,o=t.call(this,e,i)||this;o._pages={},o._isTradingPanelCanBeShown=null,o._tradingActivePage=null,o._isTradingPanelOpened=null,o._handleMouseOver=function(t){Object(M.a)(t)&&o.setState({isHovered:!0})},o._handleMouseOut=function(t){Object(M.a)(t)&&o.setState({isHovered:!1})},o._handleFullscreenChange=function(t){o.setState({isFullscreen:t})},o._handleCloseClick=function(){o.context.widgetBar.layout.setMinimizedState(!0)},o._handleGrayedChange=function(){o.setState({isGrayed:o._isGrayed()})},o._handleDomButtonVisibilityChange=function(t){o.setState({isTradingButtonsVisible:t})},o._handleActivePageChange=function(){var t;o.setState({activePageName:null===(t=o.context.widgetBar.layout.getActivePage())||void 0===t?void 0:t.name})},o._isGrayed=function(){var t=o._isMinimized.value();return null!==o._isTradingPanelOpened&&(t=t&&!o._isTradingPanelOpened.value()),!t},Object(_.c)(i,{widgetBar:r.any.isRequired});var a=o.context.widgetBar;if(o._isMinimized=a.layout.isMinimized.spawn(),o._isFullscreen=a.resizerBridge.fullscreen.spawn(),o._activePageIndex=a.layout.activePageIndex.spawn(),a.tradingPanelAccessor){var l=a.tradingPanelAccessor.tradingPanel;o._isTradingPanelCanBeShown=l.isAvailable.spawn(),o._tradingActivePage=l.activePage.spawn(),o._isTradingPanelOpened=l.isOpened.spawn()}return o.state={isHovered:!1,isGrayed:o._isGrayed(),isFullscreen:o._isFullscreen.value(),isTradingButtonsVisible:!1,activePageName:null===(n=a.layout.getActivePage())||void 0===n?void 0:n.name},o._isTradingPanelCanBeShown&&(o.state=Object(s.__assign)(Object(s.__assign)({},o.state),{isTradingButtonsVisible:o._isTradingPanelCanBeShown.value()})),a.layout.pages.forEach((function(t){void 0===t.name&&W.logWarn('Page does not provide required field "name"'),o._pages[t.name]=B(m,t.tab)})),o._toolset=o._createToolset(),o}return Object(s.__extends)(e,t),e.prototype.componentDidMount=function(){this._isFullscreen.subscribe(this._handleFullscreenChange),this._isMinimized.subscribe(this._handleGrayedChange),this._activePageIndex.subscribe(this._handleActivePageChange),null!==this._isTradingPanelCanBeShown&&this._isTradingPanelCanBeShown.subscribe(this._handleDomButtonVisibilityChange),null!==this._isTradingPanelOpened&&this._isTradingPanelOpened.subscribe(this._handleGrayedChange)},e.prototype.componentWillUnmount=function(){this._isFullscreen.destroy(),this._isMinimized.destroy(),this._activePageIndex.destroy(),null!==this._isTradingPanelCanBeShown&&this._isTradingPanelCanBeShown.destroy(),null!==this._tradingActivePage&&this._tradingActivePage.destroy(),
null!==this._isTradingPanelOpened&&this._isTradingPanelOpened.destroy()},e.prototype.render=function(){var t=this.props,e=t.className,i=t.isDomButtonAvailable,o=t.isOrderPanelButtonAvailable,s=this.state,r=s.isHovered,l=s.isGrayed,c=s.isFullscreen,d=s.isTradingButtonsVisible,u=s.activePageName,g=this.context.widgetBar,m=this._toolset,v=o&&d,_=i&&d,f="base"===u,w=Boolean(Object(D.isFeatureEnabled)("news_separate_tab_enabled")&&l&&f&&this._pages.news);return n.createElement(p.a,{isVisibleFade:Modernizr.mobiletouch,isVisibleButtons:!Modernizr.mobiletouch&&r,isVisibleScrollbar:!1,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut},n.createElement("div",{className:a(e,A.toolbar,l&&A.isGrayed),"data-name":"right-toolbar",onContextMenu:O.a},g.adaptive&&c&&n.createElement(h,{name:"close-button",onClick:this._handleCloseClick}),this._renderPages(),w&&n.createElement(n.Suspense,{fallback:null},n.createElement(N,{isMobile:g.adaptive&&c})),(v||_)&&n.createElement(I,null),v&&n.createElement(T,{name:"order-panel-button",isGrayed:l}),_&&n.createElement(y,{name:"dom-button",isGrayed:l}),n.createElement(E,null),this._renderPages(!0),m.SupportTicketButton&&n.createElement(m.SupportTicketButton,{name:"bug-report-button",isGrayed:l,isTab:!1}),m.HelpButton&&n.createElement(m.HelpButton,{name:"help-button",isGrayed:l,isTab:!1})))},e.prototype._renderPages=function(t){var e=this,i=[],o=this.state.isGrayed;return this.context.widgetBar.layout.pages.forEach((function(s){if(s.name in e._pages&&Boolean(s.onBottom)===Boolean(t)){var r=e._pages[s.name];i.push(n.createElement(r,{name:s.name,isGrayed:o,key:s.name})),s.spaceBottom&&i.push(n.createElement(I,{key:s.spaceBottomText}))}})),i},e.prototype._createToolset=function(){var t=this.context.widgetBar;return{SupportTicketButton:this.props.isSupportTicketButtonAvailable?B(m,t.ensureSupportTicketButtonViewModel()):void 0,HelpButton:this.props.isHelpButtonAvailable?B(m,t.ensureHelpButtonViewModel()):void 0}},e.contextType=H,e}(n.PureComponent),z={widgetBar:r.any},V=function(t){function e(e){var i=t.call(this,e)||this;return i._registry={widgetBar:i.props.widgetBar},i}return Object(s.__extends)(e,t),e.prototype.render=function(){return n.createElement(_.a,{validation:z,value:this._registry},this.props.children)},e}(n.PureComponent);i.d(e,"RightToolbarRenderer",(function(){return F}));var F=function(){function t(t,e,i){this._widgetBar=t,this._container=e,this._options=i,this._render()}return t.prototype.updateOptions=function(t){this._options=t,this._render()},t.prototype.destroy=function(){o.unmountComponentAtNode(this._container)},t.prototype._render=function(){o.render(n.createElement(V,{widgetBar:this._widgetBar},n.createElement(R,{isDomButtonAvailable:this._options.isDomButtonAvailable,isOrderPanelButtonAvailable:this._options.isOrderPanelButtonAvailable,isHelpButtonAvailable:this._options.isHelpButtonAvailable,isSupportTicketButtonAvailable:this._options.isSupportTicketButtonAvailable})),this._container)},t}()},dlie:function(t,e,i){"use strict";i.r(e),
i.d(e,"importanceSwitcherValues",(function(){return n}));var n={true:[0,1],false:[-1,0,1]}},e9Yb:function(t,e,i){},e9uC:function(t,e,i){"use strict";i.r(e),i.d(e,"getWidgetButtonHTML",(function(){return s}));i("YFKU");var n=i("kTIc"),o=window.t("Get Widget");function s(t,e){var i="tv-get-widget-button apply-common-tooltip";return e&&(i+=" "+e),'<a class="'+i+'" href="'+("/widget/"+t+"/")+'" target="_blank" title="'+o+'">'+n+"</a>"}},eKOu:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 12"><path d="M4 0C2.347 0 1 1.347 1 3v2H.3c-.165 0-.3.135-.3.3v6.4c0 .165.135.3.3.3h8.4c.165 0 .3-.135.3-.3V5.3c0-.165-.135-.3-.3-.3H8V3c0-1.653-1.347-3-3-3H4zm0 1h1c1.117 0 2 .883 2 2v2H2V3c0-1.117.883-2 2-2z"/></svg>'},fadt:function(t,e,i){"use strict";(function(n,o){Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i("YFKU"),i("TdlR"),i("udDf"),i("b6p+"),i("1oAu");var r,a=i("c2JX"),l=i("sFgq"),c=i("dlie"),d=i("0h28"),h=(r=d)&&r.__esModule?r:{default:r},u=i("X19y"),p=i("e9uC"),g=i("6Qm0");var m=i("txPx").getLogger("ReutersCalendar"),v=i("wy57"),_=i("Hpvy"),f=i("R4+T"),w=i("yLMQ"),b=function(t,e,i,n){return null==t?"—":(e&&(t+=e),i&&i!==n&&("%"===i?t+=i:"USD"===i?t="$"+t:t+=" "+i),t)},y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._bridge=e,this._bridge.options=e.options||{},this._$container=e.$body,this._chartEvents=new h.default,this._dateBlocks=[],this._templates=this._createTemplates(),this._collapsedDateBlocksDict={},this.onLayoutUpdated=new n,this._init()}return s(t,[{key:"_init",value:function(){var t=this;this._addUtmInfoToHeader(),this._updateFilter(!0),this._refDate=new Date,this._$container.addClass("tv-reuters-calendar").empty(),this._$container.on("contextmenu",(function(t){return t.preventDefault()}));var e=this._bridge.options,i=e.isTransparent,n=e.hideImportanceIndicator,s=e.noScroll,r=e.showHeaderIcons,a=e.showGetWidgetBtn;n&&this._$container.addClass("tv-reuters-calendar--hide-importance-indicator"),i&&this._$container.addClass("tv-reuters-calendar--transparent");var l=$(o.render(this._templates.calendarContent,{showHeaderIcons:r,showGetWidgetBtn:a}));l.appendTo(this._$container),this._$header=l.filter(".js-calendar-header"),this._$widget=l.filter(".js-calendar-widget"),this._$data=l.find(".js-calendar-data"),s||this.initScroll(),this._bridge.width.subscribe(this.resize.bind(this)),this._bridge.height.subscribe(this.resize.bind(this)),this.resize(),this._initialRequest(),this._chartEvents.changed.subscribe(null,(function(e){t._pendingRequestPromise||t._updateLayout(e)})),this._createHeaderButtons()}},{key:"_initialRequest",value:function(){var t=this,e=void 0;if(this.currencyFilterState.length){
if(this._bridge.options.rewind&&null==this._bridge.options.maxHistoryInHours)return m.logError("cannot rewind events history: maxHistoryInHours is not set"),Promise.reject();this._historyEnd=!1,e=new Promise((function(e,i){!function n(o){var s=t._chartEvents.items();o?e({added:s}):t._chartEvents.requestMore().done(n).fail((function(t){i(t)}))}(null)}))}else this._historyEnd=!0,e=Promise.resolve({noResults:!0});t._pendingRequestPromise=e,e.catch((function(){return null})).then((function(i){t._pendingRequestPromise===e&&(t._pendingRequestPromise=void 0,i&&(t._updateLayout(i),t._scrollToUpcoming()||t._scroll&&t._scroll.scrollToEnd()))}));var i=new a.Spinner("mini").spin(t._$container.get(0));return e.catch((function(){})).then((function(){i.stop()})),e}},{key:"_onSettingsChanged",value:function(){this._updateFilter(!1),this._$data.empty(),this._dateBlocks.length=0,this._initialRequest(),this._scroll&&this._scroll.resize()}},{key:"_updateFilter",value:function(t){var e=this.currencyFilterState,i=this.importanceFilterState;if(t){var n=!1;e.length||(e=(0,g.uiDefaults)(window.locale),n=!0),i=-1!==this.importanceFilterState.indexOf(-1)?c.importanceSwitcherValues.false:c.importanceSwitcherValues.true,(n=n||JSON.stringify(this.importanceFilterState)!==JSON.stringify(i))&&this._bridge.properties.setValue({currencyFilter:e,importanceFilter:i})}var o=i[0],s={minImportance:o,currencyFilter:this.currencyFilterState,to:Date.now()+12096e5};"number"==typeof this._bridge.options.maxHistoryInHours&&(s.historyLimit=s.from=Date.now()-36e5*this._bridge.options.maxHistoryInHours),this._bridge.options.maxItems>0&&(s.maxItems=this._bridge.options.maxItems),this._chartEvents.reset(s),this._minImportance=o}},{key:"_getProperty",value:function(t){return(this._bridge.properties.value()||{})[t]}},{key:"_addUtmInfoToHeader",value:function(){this._bridge.options.utmInfo&&$(".js-embed-widget-head a").prop("search",$.param(this._bridge.options.utmInfo))}},{key:"_createHeaderButtons",value:function(){var t=this,e=function(e){return e===t._bridge.options.widgetType};e("widgetbar")&&$(o.render(this._templates.closestEventButton,{})).appendTo(this._bridge.$headerspace).addClass("apply-common-tooltip").attr("title",window.t("Closest Event")).on("click",(function(e){e.preventDefault(),t._scrollToUpcoming(),t._highlightUpcoming()}));if(!this._bridge.readonly){var i,n,s=void 0;s=e("widgetbar")?this._templates.importanceSwitcher_widgetbar:e("full_page")?this._templates.importanceSwitcher_page:this._templates.importanceSwitcher_widget,e("external_widget")||e("full_page")?(this._importanceSwitcher=this._$header.find(".js-embed-widget-calendar-importance"),this._importanceSwitcher.removeClass("i-hidden")):(this._importanceSwitcher=$(o.render(s,{})),this._importanceSwitcher.appendTo(this._bridge.$headerspace)),this._importanceSwitcher.toggleClass("i-active active",this.importanceFilterState.toString()===c.importanceSwitcherValues.true.toString()).addClass("apply-common-tooltip").attr("title",window.t("Only High Importance")).on("click",(function(){
var e=t.importanceFilterState.toString()===c.importanceSwitcherValues.true.toString();t._importanceSwitcher.toggleClass("i-active active",!e),e?t.saveFilter("importanceFilter",c.importanceSwitcherValues.false):t.saveFilter("importanceFilter",c.importanceSwitcherValues.true)})),e("widgetbar")?(n="fixed",i=this._templates.configButton_widgetbar):i=e("full_page")?this._templates.configButton_page:this._templates.configButton_widget,e("external_widget")||e("full_page")?(this._$configButton=this._$header.find(".js-embed-widget-calendar-config"),this._$configButton.removeClass("i-hidden")):(this._$configButton=$(o.render(i,{})),this._$configButton.appendTo(this._bridge.$headerspace)),this._$configButton.addClass("apply-common-tooltip").attr("title",window.t("Filter")).on("click",(function(e){e.preventDefault(),t._popup?t._closeConfigPopup():t._createConfigPopup(n||"absolute")}))}}},{key:"_createConfigPopup",value:function(t){var e=this;if(!this._popup){var n=this.getAnchorPoint(t),o={left:n.left,top:n.top,onCurrencyFilterChange:this.saveFilter.bind(this,"currencyFilter"),chartEventsInstance:this._chartEvents,positioning:t,state:{currencyFilter:this.currencyFilterState},defaultCurrencyFilterState:this._bridge.options.defaultCurrencyFilterState||(0,g.uiDefaults)(window.locale)};Promise.all([i.e(119),i.e(296),i.e(110),i.e(209),i.e(248)]).then(function(){if(!e._popup){var t=i("AQM8").CalendarConfig;e._popup=new t(o),e._$configButton.addClass("active i-active"),e._$configButton.toggleClass("i-active",!0),$(e._popup.el).on("mousedownoutside",function(t){$(t.target).parents().andSelf().is(this._$configButton)||this._closeConfigPopup()}.bind(e))}}.bind(null,i)).catch(i.oe)}}},{key:"_closeConfigPopup",value:function(){this._popup&&(this._popup.destroy(),this._popup=null,this._$configButton.removeClass("active"),this._$configButton.toggleClass("i-active",!1))}},{key:"saveFilter",value:function(t,e){var i=this;if(Array.isArray(e)){var n=Object.assign({},this._bridge.properties.value());0===e.length?delete n[t]:n[t]=e,this._bridge.properties.setValue(n),setTimeout((function(){return i._onSettingsChanged()}),0)}else m.logError("Wow! {0} state you've tried to set isn't an array for some reason".format(t))}},{key:"getAnchorPoint",value:function(t){var e,i=0,n=this._$configButton.offset();return n.width=this._$configButton.outerWidth(),n.height=this._$configButton.outerHeight(),this._$configButton.parents().each((function(){var t=$(this);n.left-=t.scrollLeft()||0,n.top-=t.scrollTop()||0})),i=n.top+n.height+1,e=n.left+n.width,"fixed"!==t&&(i+=$(document).scrollTop()),{left:e,top:i}}},{key:"initScroll",value:function(){if(!this._scroll){var t=this;this._$data.addClass("tv-reuters-calendar__dcnt--scroll-inited"),this._scroll=new l.SidebarCustomScroll(this._$widget,this._$data,{vAlignBottom:!0,showBottomShadow:!1,bubbleScrollEvent:function(){return!!t._scroll&&(!!t._scroll.atEnd()||t._historyEnd&&t._scroll.atStart())}}),this._initInfiniteScroll()}}},{key:"destroyScroll",value:function(){
this._$data.removeClass("tv-reuters-calendar__dcnt--scroll-inited"),this._scroll&&(this._scroll.destroy(),delete this._scroll,this.resize())}},{key:"updateScroll",value:function(){this._scroll&&(this._scroll.updateScrollBar(),this._scroll.atEnd()&&this._scroll.scrollToEnd(),this._scroll.updateScrollBar())}},{key:"_scrollToUpcoming",value:function(){if(!this._scroll)return!1;var t=this._$data.find(".tv-reuters-calendar__item--upcoming").eq(0);if(!t.length)return!1;var e=t.closest(".tv-reuters-calendar__day-content").position().top+t.position().top;return this._scroll.scrollTo(e,{position:"top"}),this._scroll.atStart()&&this._scroll.scrollToEnd(),!0}},{key:"scrollToLastVisibleItem",value:function(){if(this._scroll){var t,e=this._$widget.outerHeight();this._$data.children().each((function(){t||$(this).position().top+$(this).height()>e&&(t=$(this).position().top)})),this._scroll.animateTo(t-15)}}},{key:"_initInfiniteScroll",value:function(){this._scroll.scrolltostart.subscribe(this,this._onScrollToStart),this._onScrollToStart()}},{key:"_onScrollToStart",value:function(){var t=this;this._scroll&&this.currencyFilterState.length&&(t._historyLoading||t._historyEnd||t._bridge.visible.value()&&this._scroll.atStart()&&(t._historyLoading=!0,t._$data.addClass("tv-reuters-calendar__scnt--loading"),t._chartEvents.requestMore().always((function(e){t._historyLoading=!1,t._$data.removeClass("tv-reuters-calendar__scnt--loading")}))))}},{key:"getScrollElements",value:function(){return{$scrollWrapper:this._$widget,$scrollInner:this._$data}}},{key:"_updateHighlight",value:function(){this._updateHighlightTimeoutId&&(clearTimeout(this._updateHighlightTimeoutId),delete this._updateHighlightTimeoutId);var t,e=this._dateBlocks,i=+new Date;this._$data.find(".tv-reuters-calendar__item--future").removeClass("tv-reuters-calendar__item--future"),this._$data.find(".tv-reuters-calendar__item--upcoming").removeClass("tv-reuters-calendar__item--upcoming");var n=null;t:for(var o=e.length;o--;)for(var s=e[o].items,r=s.length;r--;){var a=(c=s[r]).$element;if(!(c.timestamp>i))break t;t=r,n=e[o],a.addClass("tv-reuters-calendar__item--future")}if(n){var l=n.items[t].timestamp;for(o=t;o<n.items.length;o++){var c;if((c=n.items[o]).timestamp!==l)break;c.$element.addClass("tv-reuters-calendar__item--upcoming")}this._updateHighlightTimeoutId=setTimeout(this._updateHighlight.bind(this),l-i)}}},{key:"_highlightUpcoming",value:function(){this._$data.find(".tv-reuters-calendar__item--upcoming").highlight(4)}},{key:"_markToday",value:function(){var t=new Date,e=this._localDateHash(t),i=new Date;i.setHours(0,0,0,0),i.setDate(i.getDate()+1),this._markTodayTimeoutId&&clearTimeout(this._markTodayTimeoutId),this._markTodayTimeoutId=setTimeout(this._markToday.bind(this),i-t);for(var n=null,o=this._dateBlocks.length;o-- >0;)if(this._dateBlocks[o].localDateHash===e){n=this._dateBlocks[o].$element;break}var s=this._$data.find(".tv-reuters-calendar__date-block--today");1===s.size()&&s.is(n)||(s.removeClass("tv-reuters-calendar__date-block--today"),
n&&n.addClass("tv-reuters-calendar__date-block--today"))}},{key:"resize",value:function(){var t,e=this._bridge.options.layout;if((t="wide"===e||"narrow"!==e&&this._bridge.width.value()>500)!==this._$container.hasClass("tv-reuters-calendar--wide-layout")){var i=this._topmostVisibleItem();this._$container.toggleClass("tv-reuters-calendar--wide-layout",t),this._scroll&&i&&(this._scroll.resize(),this._scroll.scrollTo(i.$element.position().top+i.offsetDelta,{position:"top"}))}if(this._scroll){var n=Math.max(0,this._bridge.height.value()-this._$header.outerHeight());this._$widget.height(n),this._scroll.resize()}else this._$widget.attr("style","")}},{key:"setLayout",value:function(t){this._bridge.options.layout!==t&&(this._bridge.options.layout=t,this.resize())}},{key:"_addNoContentStub",value:function(){this._$noContentStub||(this._$noContentStub=$(this._templates.noContent));var t=window.t("There are no events in the next 7 days");this.currencyFilterState.length||(t=window.t("No country has been selected. Please select at least 1 country to view the events")),this._$noContentStub.text(t).insertBefore(this._$data),this._scroll&&this._scroll.updateScroll()}},{key:"_updateLayout",value:function(t){t.noResults&&(this._historyEnd=!0),this._chartEvents.items().length?$(this._$noContentStub).detach():this._addNoContentStub();var e=t.added||[],i=t.changed||[];(e.length||i.length)&&(this._scroll&&this._scroll.save(),this._$data.css("display","none"),this._createItems(e),this._changeItems(i),this._updateHighlight(),this._markToday(),this._$data.css("display","block"),this._scroll&&(this._scroll.restore(),this._scroll.atEnd()&&this._scroll.scrollToEnd()),this.onLayoutUpdated.fire()),this._scroll&&this._onScrollToStart(!0)}},{key:"_topmostVisibleItem",value:function(){if(!this._scroll)return null;var t=-this._scroll.currentPosition(),e=this._dateBlocks;if(!e.length)return null;var i=null;if(1===e.length)i=e[0];else if(t>=e[e.length-1].$element.position().top)i=e[e.length-1];else if(t<=0)i=e[0];else{for(var n=0,o=e.length-1;o-n>1;)t>=e[a=n+o>>1].$element.position().top?n=a:o=a;i=e[n]}var s=i.items,r=s[n=0].$element.position().top;if(t>r){var a;for(o=s.length-1;o-n>1;){var l=s[a=n+o>>1].$element.position().top;t>=l?(r=l,n=a):o=a}}return{$element:s[n].$element,offsetDelta:t-r}}},{key:"_createDateBlock",value:function(t,e,i){var n=this,s=$(o.render(this._templates.dateBlock,{dateBlocks:[{localDateHash:t,collapsed:this._collapsedDateBlocksDict[t],localDateStr:e}]},this._templates)),r={localDateHash:t,items:[],$element:s,$contents:s.find(".js-expand__body.js-calendar-day")};s.tvExpand().tvExpand("setOpened",!this._collapsedDateBlocksDict[t]).on("beforeOpen",(function(){n._collapsedDateBlocksDict[t]=!0})).on("afterOpen",(function(){n.updateScroll()})).on("afterClose",(function(){delete n._collapsedDateBlocksDict[t],n.updateScroll()}));var a=this._dateBlocks,l=a[i];return l?(a.splice(i,0,r),s.insertBefore(l.$element)):(a.push(r),s.appendTo(this._$data)),r}},{key:"_localDateHash",value:function(t){
return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}},{key:"_createItems",value:function(t){var e=this;if(t.length){var i,n={},s={},r=this._dateBlocks.map((function(t){return t.localDateHash})),a=this._dateBlocks[0]?this._dateBlocks[0].items[0]:void 0,l=this._dateBlocks[this._dateBlocks.length-1],c=l?l.items[l.items.length-1]:void 0;if(!a||t[0].timestamp>=c.timestamp)i="future";else{if(!(t[t.length-1].timestamp<=a.timestamp))return void m.logError("Don't know where to put events");i="past"}for(var d=t.length-1;d>=0;d--){var h=t[d];if(h.indicator=window.t(h.indicator),this._addDataToItem(h),-1!==r.indexOf(h.localDateHash)){var u=n[h.localDateHash];u?u.items.push(h):n[h.localDateHash]={items:[h]}}else s[h.localDateHash]?s[h.localDateHash].items.push(h):s[h.localDateHash]={localDateHash:h.localDateHash,localDateStr:h.localDateStr,items:[h]}}Object.keys(n).forEach((function(t){var s=r.indexOf(t),a=$(o.render(e._templates.items,{items:n[t].items},e._templates));"past"===i?a.prependTo(e._dateBlocks[s].$contents):a.appendTo(e._dateBlocks[s].$contents),n[t].items=n[t].items.map((function(t){return e._prependItemToStorage(t,e._dateBlocks[s].$contents)})),e._dateBlocks[s].items="past"===i?n[t].items.concat(e._dateBlocks[s].items):e._dateBlocks[s].items.concat(n[t].items)}));var p=[];Object.keys(s).sort().forEach((function(t){p.push(s[t])}));var g=$(o.render(this._templates.dateBlock,{dateBlocks:p},this._templates));"past"===i?g.prependTo(this._$data):g.appendTo(this._$data),p.forEach((function(t){t.$element=e._$data.find('[data-hash="'+t.localDateHash+'"]'),t.$contents=t.$element.find(".js-expand__body.js-calendar-day"),t.$element.tvExpand().tvExpand("setOpened",!e._collapsedDateBlocksDict[t.localDateHash]).on("beforeOpen",(function(){e._collapsedDateBlocksDict[t.localDateHash]=!0})).on("afterOpen",(function(){e.updateScroll()})).on("afterClose",(function(){delete e._collapsedDateBlocksDict[t.localDateHash],e.updateScroll()})),t.items=t.items.map((function(i){return e._prependItemToStorage(i,t.$contents)}))})),this._dateBlocks="past"===i?p.concat(this._dateBlocks):this._dateBlocks.concat(p)}}},{key:"_prependItemToStorage",value:function(t,e){var i=this;return t.$element=e.find('[data-item-id="'+t.id+'"]'),t.comment&&t.$element.tvExpand().on("beforeOpen",(function(){t.$element.addClass("tv-reuters-calendar__item--expanded"),setTimeout((function(){i._scroll&&i._scroll.animateTo(t.$element.position().top+t.$element.parent().position().top-4)}),20)})).on("afterOpen",(function(){return i.updateScroll()})).on("afterClose",(function(){t.$element.removeClass("tv-reuters-calendar__item--expanded"),i.updateScroll()})),{timestamp:t.timestamp,id:t.id,$element:t.$element}}},{key:"_addDataToItem",value:function(t){t.formattedActual=b(t.actual,t.scale,t.unit,t.currency),t.formattedForecast=b(t.forecast,t.scale,t.unit,t.currency),t.formattedPrevious=b(t.previous,t.scale,t.unit,t.currency);var e=new Date(t.timestamp),i="";if(e.getTimezoneOffset){var n=-e.getTimezoneOffset()/60;i="UTC",i+=n<0?n:"+"+n}
t.localTimeStr=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),t.localDateStr=window.t(this.months[e.getMonth()])+" "+e.getDate();var o=e.getFullYear(),s=t.localDateStr+", "+o;t.fullLocalDateTimeStr=s+" "+t.localTimeStr+" "+i,o!==this._refDate.getFullYear()&&(t.localDateStr=s),t.localDateHash=this._localDateHash(e);var r="";t.importance>0?r="tv-reuters-calendar__importance-indicator--high":0===t.importance&&(r="tv-reuters-calendar__importance-indicator--normal"),t.importanceModifier=r,t.flagSrc=(0,u.flagUrl)(t.country&&t.country.toLowerCase())}},{key:"_changeItems",value:function(t){var e=this;t.forEach((function(t){e._addDataToItem(t);var i=e._$data.find('[data-item-id="'+t.id+'"]');i.toggleClass("tv-reuters-calendar__item--expandable",!!t.comment),i.html(o.render(e._templates.itemContent,t)),i.tvExpand("delegateEvents")}))}},{key:"_createTemplates",value:function(){var t=$("<a>").html(f);t.find("svg").attr("class","tv-reuters-calendar__drop-arrow");var e=t.html();return{calendarContent:'<div class="tv-reuters-calendar__header js-calendar-header"><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--time js-calendar-header-time">'+window.t("Time")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--icons">{{#showHeaderIcons}}<span class="apply-common-tooltip tv-reuters-calendar__header-icon tv-reuters-calendar__importance-button js-embed-widget-calendar-importance i-hidden">'+w+'</span><span class="tv-reuters-calendar__header-icon tv-reuters-calendar__config-button js-embed-widget-calendar-config i-hidden">'+v+"</span>{{/showHeaderIcons}}{{#showGetWidgetBtn}}"+(0,p.getWidgetButtonHTML)("economic-calendar","tv-reuters-calendar__header-icon tv-reuters-calendar__get-widget-button")+'{{/showGetWidgetBtn}}</span><span class="tv-reuters-calendar__header-column-group tv-reuters-calendar__header-column-group"><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--actual">'+window.t("Actual")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--forecast">'+window.t("Forecast")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--prior">'+window.t("Prior")+'</span></span></div><div class="tv-reuters-calendar__scnt js-calendar-widget"><div class="tv-reuters-calendar__dcnt js-calendar-data"></div></div>',closestEventButton:'<a class="button widgetbar-icon-button">'+_+"</a>",configButton_widgetbar:'<a class="button widgetbar-icon-button">'+v+"</a>",configButton_widget:'<div class="tv-feed-widget__control-icon tv-feed-widget__control-icon--calendar-config">'+v+"</div>",configButton_page:'<div class="tv-feed-widget__calendar-filter-icon">'+v+"</div>",importanceSwitcher_widgetbar:'<a class="button widgetbar-icon-button">'+w+"</a>",importanceSwitcher_widget:'<div class="tv-feed-widget__control-icon tv-feed-widget__control-icon--importance-switcher">'+w+"</div>",
importanceSwitcher_page:'<div class="tv-feed-widget__importance-switcher-icon">'+w+"</div>",dateBlock:'{{#dateBlocks}}<div data-hash="{{ localDateHash }}" class="tv-reuters-calendar__date-block{{#collapsed}} i-hidden{{/collapsed}}"><div data-type="day" class="tv-reuters-calendar__day js-expand__title">{{ localDateStr }}</div><div class="tv-reuters-calendar__day-content js-expand__body js-calendar-day">{{>items}}</div></div>{{/dateBlocks}}',items:'{{#items}}<div class="tv-reuters-calendar__item{{#comment}} tv-reuters-calendar__item--expandable{{/comment}}"{{#id}} data-item-id="{{ id }}{{/id}}">{{>itemContent}}</div>{{/items}}',itemContent:'<div class="tv-reuters-calendar__heading-block {{#comment}}tv-reuters-calendar__heading-block--expandable js-expand__title{{/comment}}" data-type="event"><div class="tv-reuters-calendar__time-block"><span class="tv-reuters-calendar__time"><span class="tv-reuters-calendar__timebadge apply-common-tooltip" title="{{ fullLocalDateTimeStr }}">{{ localTimeStr }}</span></span><img class="tv-reuters-calendar__flag" src="{{flagSrc}}">'+(this._bridge.options.hideImportanceIndicator?"":'<span class="tv-reuters-calendar__importance-indicator {{&importanceModifier}}"></span>')+'</div><span class="tv-reuters-calendar__value-group {{^actual}}tv-reuters-calendar__value-group--no-actual{{/actual}}"><span class="tv-reuters-calendar__value tv-reuters-calendar__value--actual">{{ formattedActual }}</span><span class="tv-reuters-calendar__value">{{ formattedForecast }}</span><span class="tv-reuters-calendar__value">{{ formattedPrevious }}</span></span><div class="tv-reuters-calendar__heading"><span class="tv-reuters-calendar__heading-title apply-common-tooltip" title="{{ indicator }}">{{ indicator }}</span>{{#comment}}'+e+'{{/comment}}</div></div>{{#comment}}<div class="tv-reuters-calendar__comment js-expand__body js-calendar-comment i-hidden">{{ comment }}</div>{{/comment}}',noContent:'<div class="tv-widget-empty-message"></div>'}}},{key:"importanceFilterState",get:function(){return[].concat(this._getProperty("importanceFilter")||[])}},{key:"currencyFilterState",get:function(){return[].concat(this._getProperty("currencyFilter")||[])}},{key:"months",get:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}}]),t}();e.default=y,t.exports=e.default}).call(this,i("aIyQ"),i("nbsC"))},g996:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100px" height="100px"><path d="M50.008 0C29.768 0 9.526.342 7.144 1.03.544 2.93.4 3.64.066 35.444-.097 50.977.04 65.6.374 67.94c.808 5.67 3.695 8.535 9.47 9.398 6.977 1.044 7.848 2.302 7.848 11.355 0 4.23.436 8.537.97 9.57 1.826 3.543 4.7 2.06 15.778-8.146 5.987-5.515 11.518-10.438 12.29-10.938.772-.5 11.54-1.13 23.93-1.398 25.646-.554 26.73-.85 28.54-7.83.665-2.57.923-14.208.738-33.35-.32-33.097-.434-33.663-7.068-35.575C90.488.34 70.248 0 50.008 0zM15.002 20.608h69.94v10.37h-69.94V20.61zm0 25.927h69.94v10.37h-69.94v-10.37z"/><path fill="none" d="M64.358-.26h52.402v6.945H64.358z"/></svg>'},hpIU:function(t,e,i){"use strict";i.r(e);var n=i("mrSG"),o=i("txPx"),s=i("IWXC"),r=i("hOqT"),a=i("hY0g"),l=i.n(a),c=i("ku9n"),d=i("vGOY"),h=null;var u=i("YXQd");i.d(e,"Widget",(function(){return g}));var p=Object(o.getLogger)("Platform.GUI.Widgetbar.DetailsWidget"),g=function(t){function e(e){var o=t.call(this,e)||this;return o._quoteSessionScreenerMultiplexer=null,o._mounted=!1,o._headerRenderer=null,o._contentRenderer=null,o._updateHeader=function(){o._headerRenderer&&o._headerRenderer()},o._updateContent=function(){o._contentRenderer&&o._contentRenderer()},o._unsubscribe=function(t){var e;t&&(null===(e=o._quoteSessionScreenerMultiplexer)||void 0===e||e.unsubscribe(o._bridge.id,o._symbol))},o._subscribe=function(t){var e;o._unsubscribe(o._symbol),o._symbol=t,o._headerProps.setValue({symbolName:o._symbol}),o._contentProps.setValue({symbol:o._symbol,widgetWidth:o._bridge.width.value()}),t&&(null===(e=o._quoteSessionScreenerMultiplexer)||void 0===e||e.subscribe(o._bridge.id,o._symbol,o._handleQuoteSessionScreenerUpdate.bind(o)))},o._handleOnConnect=function(){o._subscribe(o._symbol)},o._handleWidgetWidthUpdate=function(t){o._contentProps.setValue(Object(n.__assign)(Object(n.__assign)({},o._contentProps.value()),{widgetWidth:t}))},o._showFinancialsDialog=function(){Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(12),i.e(18),i.e(16),i.e(19),i.e(20),i.e(21),i.e(29),i.e(71),i.e(166),i.e(286),i.e(10),i.e(28),i.e("show-financials-dialog")]).then(i.bind(null,"SglK")).then((function(t){t.showFinancialsDialog(o._contentProps.value().symbolDescription)}))},o._bridge=e,o._quoteSessionMultiplexer=Object(s.getQuoteSessionInstance)("full"),o._quoteSessionScreenerMultiplexer=new d.a(o._quoteSessionMultiplexer),o._symbol=e.symbol.value(),o._headerProps=new l.a({symbolName:o._symbol}),o._contentProps=new l.a({symbol:o._symbol,widgetWidth:o._bridge.width.value()}),o.mount(),o}return Object(n.__extends)(e,t),e.prototype.mount=function(){this._mounted?p.logWarn("Mount was called on already mounted widget"):(this._mounted=!0,this._bridge.symbol.subscribe(this._subscribe,{callWithLast:!0}),this._bridge.width.subscribe(this._handleWidgetWidthUpdate),this._headerProps.subscribe(this._updateHeader),this._contentProps.subscribe(this._updateContent),this._quoteSessionMultiplexer.onConnect.subscribe(this,this._handleOnConnect),this._subscribe(this._symbol),this._load())
},e.prototype.unmount=function(){this._mounted?(this._mounted=!1,this._bridge.symbol.unsubscribe(this._subscribe),this._bridge.width.unsubscribe(this._handleWidgetWidthUpdate),this._headerProps.unsubscribe(this._updateHeader),this._contentProps.unsubscribe(this._updateContent),this._quoteSessionMultiplexer.onConnect.unsubscribe(this,this._handleOnConnect),t.prototype.unmount.call(this),this._loadModulePromise=null):p.logWarn("Unmount was called on already unmounted widget")},e.prototype._load=function(){var t=this;if(this._headerRenderer&&this._contentRenderer)return this._headerRenderer(),void this._contentRenderer();var e=this._loadModulePromise=Promise.all([Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(22),i.e(23),i.e(29),i.e(45),i.e(163),i.e(166),i.e(179),i.e(7),i.e(28),i.e(33),i.e(41),i.e(56),i.e(69),i.e(58),i.e(135),i.e(171),i.e("symbol-details")]).then(i.bind(null,"mF3H")),Promise.all([i.e("vendors_embed"),i.e(1),i.e(6),i.e(9),i.e(22),i.e(23),i.e(29),i.e(45),i.e(163),i.e(166),i.e(179),i.e(7),i.e(28),i.e(33),i.e(41),i.e(56),i.e(69),i.e(58),i.e(135),i.e(171),i.e("symbol-details")]).then(i.bind(null,"TuZa")),Promise.resolve().then(i.t.bind(null,"q1tI",7)),Promise.resolve().then(i.t.bind(null,"i8i4",7))]).then((function(i){var o=i[0],s=i[1],r=i[2],a=i[3];e===t._loadModulePromise&&(t._headerRenderer=function(){a.render(r.createElement(o.DetailsHeader,Object(n.__assign)({},t._headerProps.value())),t._headerContainer)},t._contentRenderer=function(){a.render(r.createElement(s.Details,Object(n.__assign)({},t._contentProps.value())),t._container)},t._headerRenderer(),t._contentRenderer())}))},e.prototype._handleQuoteSessionScreenerUpdate=function(t){if(this._symbol===t.symbolname){var e=Object(u.a)(this._symbol,t),n=e.header,o=e.body,s=Object(u.b)(t),r=s.symbolname,a=s.description,l=s.listedExchange,c=s.type,d=s.pricescale;o.showFinancialsDialog=this._showFinancialsDialog,o.showTechnicalsDialog=r&&a&&l&&c?function(){return function(t,e,n,o,s){return Promise.all([i.e("vendors_embed"),i.e(1),i.e(3),i.e(4),i.e(12),i.e(37),i.e(95),i.e(127),i.e(163),i.e(267),i.e(10),i.e(69),i.e(112),i.e(135),i.e("technicals-dialog")]).then(i.bind(null,"ZUkS")).then((function(i){var r=new(0,i.TechnicalsDialogRenderer)(t,e,n,o,s);return null!==h&&h.hide(),r.show(),h=r,r}))}(r,a,l,c,d)}:void 0,this._setHeaderProps(n),this._setProps(o)}},e.prototype._handleQuoteSessionUpdate=function(t){if(this._symbol===t.symbolname){var e=t.values,i=e.average_volume,n=e.last_price,o=e.open_price,s=e.low_price,a=e.high_price,l=e.ask,c=e.bid,d=e.pricescale,h=e.volume,u=e.short_name,p=e.minmov,g=e.minmove2,m=e.fractional,v=e.change,_=e.change_percent,f=e.current_session,w=e.exchange,b=e.pro_name,y=e.type,C=e.sector,S=e.industry;this._setProps({averageVolume:i,lastPrice:n,openPrice:o,lowPrice:s,highPrice:a,ask:l,bid:c,pricescale:d,volume:h,shortName:u,minMovePrimary:p,minMoveSecondary:g,fractional:m,change:v,changePercent:_,currentSession:f,exchange:w,proName:b,type:y,sector:C,industry:S,invalid:"ok"!==t.status,
symbolDescription:Object(r.getTranslatedSymbolDescription)(t.values)})}},e.prototype._setHeaderProps=function(t){this._headerProps.setValue(Object(n.__assign)(Object(n.__assign)({},this._headerProps.value()),t))},e.prototype._setProps=function(t){this._contentProps.setValue(Object(n.__assign)(Object(n.__assign)({},this._contentProps.value()),t))},e}(c.a)},ioEH:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" width="16px" height="15px"><path fill-rule="evenodd" d="M1.6 0C.72 0 .008.675.008 1.5L0 15l3.2-3h11.2c.88 0 1.6-.675 1.6-1.5v-9c0-.825-.72-1.5-1.6-1.5H1.6zm4.823 6.36L8.73 8.37c.38.332 1.004.265 1.286-.138l2.856-4.082c.245-.35.128-.814-.26-1.035-.39-.22-.905-.115-1.15.235L9.15 6.648 6.907 4.693c-.362-.315-.95-.272-1.25.09l-2.492 3.02c-.275.332-.198.802.17 1.05.37.246.892.177 1.167-.156l1.92-2.338z"/></svg>'},jEqg:function(t,e,i){"use strict";i.r(e),i.d(e,"dottedDescriptionTruncate",(function(){return o}));var n=new Set([".","۔","܁","܂","…","、","。","．",",",":",";","-","ー"," ","(",")"]);function o(t,e){if(e<=0)return t;var i=t.length;if(i<=e)return t;if(i>e){var o=t[e],r=t[e-1];if(n.has(o)&&!n.has(r))return s(t,e)}for(var a=null,l=e-1;l>0;l--){var c=t[l];if(n.has(c))a=l;else if(null!==a)return s(t,a)}return t+"…"}function s(t,e){return t.slice(0,e)+"…"}},jJ9P:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><g stroke="#cdbd28" stroke-linecap="round" stroke-width="0"><path d="M0 13h2v2H0zM3 13h13v2H3zM0 9h2v2H0zM3 5h13v2H3zM0 4.998h2v2H0zM3 9h13v2H3zM0 1h2v2H0zM3 1h13v2H3z"/></g></svg>'},jkvV:function(t,e,i){"use strict";i.r(e);i("YFKU");var n=i("q1tI"),o=i("TSYQ"),s=i("XAms"),r=i("Wz44"),a="http://www.w3.org/2000/svg";function l(t){var e=t.direction,i=t.theme,l=void 0===i?r:i;return n.createElement("svg",{xmlns:a,width:"9",height:"27",viewBox:"0 0 9 27",className:o(l.container,"right"===e?l.mirror:null),onContextMenu:s.a},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{className:l.background,d:"M4.5.5a4 4 0 0 1 4 4v18a4 4 0 1 1-8 0v-18a4 4 0 0 1 4-4z"}),n.createElement("path",{className:l.arrow,d:"M5.5 10l-2 3.5 2 3.5"})))}i.d(e,"Hider",(function(){return h}));var c=window.t("Hide Tab"),d=window.t("Open Tab");function h(t){var e=o(t.className,"apply-common-tooltip","common-tooltip-vertical","common-tooltip-otl");return n.createElement("div",{className:e,onClick:t.onClick,title:t.isMinimized?d:c},n.createElement(l,{direction:t.isMinimized?"left":"right"}))}},kTIc:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 15" width="18" height="15"><g fill="none" stroke="currentColor"><path d="M12.5 2.5l5 5-5 5M10.5.5l-3 14M5.5 2.5l-5 5 5 5"/></g></svg>'},ku9n:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(){function t(t){this.hasLifecycle=!0,this._loadModulePromise=null;var e=t.container,i=t.header,n=t.id;this._container=e,this._headerContainer=i,this._widgetId=n}return t.prototype.unmount=function(){var t=i.c.i8i4;if(t){var e=t.exports
;e.unmountComponentAtNode(this._container),e.unmountComponentAtNode(this._headerContainer)}},t.prototype.destroy=function(){this._loadModulePromise=null,this.unmount()},t}()},lfvH:function(t,e,i){"use strict";i.r(e),i.d(e,"Navigation",(function(){return s}));var n=i("CiGC"),o=i("lxNp"),s=function(){function t(t){var e=this;this._focusNext=function(){if(e._isValidNavigation()){var t=e._selection.getCursorItem();e._selection.move(t,n.a.Next,e._focusItem.bind(e,"down"))}},this._focusPrev=function(){if(e._isValidNavigation()){var t=e._selection.getCursorItem();e._selection.move(t,n.a.Prev,e._focusItem.bind(e,"up"))}},this._focusFirst=function(){if(e._isValidNavigation()){var t=e._selection.getItemsCollection().getFirstItem(),i=e._selection.getFocusedItem();e._selection.move(i,t,e._focusItem.bind(e,"home"))}},this._focusLast=function(){if(e._isValidNavigation()){var t=e._selection.getItemsCollection().getLastItem(),i=e._selection.getFocusedItem();e._selection.move(i,t,e._focusItem.bind(e,"end"))}},this._selection=t.selection,this._selection.registerMouseAction("click",this._selection.delegateClick(this._focusItem.bind(this,"click"))),this._selection.hotkeys.add({desc:"Focus Previous",hotkey:38,handler:this._focusPrev,element:t.globalHotkeyElement}),this._selection.hotkeys.add({desc:"Focus Next",hotkey:40,handler:this._focusNext,element:t.globalHotkeyElement}),this._selection.hotkeys.add({desc:"Focus Previous",hotkey:o.Modifiers.Shift+32,handler:this._focusPrev,element:t.globalHotkeyElement}),this._selection.hotkeys.add({desc:"Focus Next",hotkey:32,handler:this._focusNext,element:t.globalHotkeyElement}),this._selection.hotkeys.add({desc:"Focus First",hotkey:36,handler:this._focusFirst,element:t.globalHotkeyElement}),this._selection.hotkeys.add({desc:"Focus Last",hotkey:35,handler:this._focusLast,element:t.globalHotkeyElement})}return t.prototype._focusItem=function(t,e){this._selection.removeSelections(),this._selection.focusItem(e),this._selection.setCursor(e),this._selection.onNavigate(e,t)},t.prototype._isValidNavigation=function(){return document.activeElement===document.body||this._selection.getList().contains(document.activeElement)},t}()},"m2+w":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("VVxS"),o=i("Kxc7"),s=["short_name","last_price","change","change_percent"],r=["short_name","last_price","change_percent"],a=function(){function t(){}return t.prototype.get=function(){if(o.enabled("widget"))return r;var t=n.TVLocalStorage.getItem("widget.watchlist.view-state");return this._parse(t)||s},t.prototype.set=function(t){o.enabled("widget")||(null===t?n.TVLocalStorage.removeItem("widget.watchlist.view-state"):n.TVLocalStorage.setItem("widget.watchlist.view-state",JSON.stringify(this._normalize(t))))},t.prototype._parse=function(t){if(null===t)return null;try{var e=JSON.parse(t);return Array.isArray(e)?this._normalize(e):null}catch(i){return null}},t.prototype._normalize=function(t){var e=t.filter((function(t){return"string"==typeof t
})),i=new Set(e),n=new Set(["short_name","volume","last_price","change","change_percent","rchp"]);return Array.from(i).filter((function(t){return n.has(t)}))},t}()},nVo0:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="22" height="22"><path d="M6.5 1C5.67 1 5 1.67 5 2.5v1C5 4.33 5.67 5 6.5 5S8 4.33 8 3.5v-1C8 1.67 7.33 1 6.5 1zm8 0c-.83 0-1.5.67-1.5 1.5v1c0 .83.67 1.5 1.5 1.5S16 4.33 16 3.5v-1c0-.83-.67-1.5-1.5-1.5zM1 4v16h19V4h-3.05c-.238 1.164-1.262 2-2.45 2-1.186-.002-2.208-.838-2.445-2H8.95C8.71 5.164 7.687 6 6.5 6c-1.186-.002-2.208-.838-2.445-2H1zm20 2v15H3v1h19V6h-1zM2 8h17v11H2V8zm3 1v3h3V9H5zm4 0v3h3V9H9zm4 0v3h3V9h-3zm-8 4v3h3v-3H5zm4 0v3h3v-3H9zm4 0v3h3v-3h-3z"/></svg>'},o0rh:function(t,e,i){"use strict";i.r(e),i.d(e,"AlertsManageWidget",(function(){return o}));var n=i("mrSG"),o=function(t){function e(e){var i=t.call(this,e)||this;return i._props=e,i.mount(),i}return Object(n.__extends)(e,t),e.prototype.mount=function(){var t=this,e=Promise.all([i.e(29),i.e(242),i.e(28),i.e(43),i.e(55),i.e(147),i.e("alerts-manage-widget-impl")]).then(i.bind(null,"CvwY")).then((function(i){t._loadModulePromise===e&&(t._impl=new i.AlertsManageWidgetImpl(t._props))}));this._loadModulePromise=e},e.prototype.unmount=function(){var e;this._loadModulePromise=null,null===(e=this._impl)||void 0===e||e.destroy(),delete this._impl,t.prototype.unmount.call(this)},e}(i("ku9n").a)},ohw9:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="m29.5 10a4.5 4.5 0 0 1 4.5 4.5v15a4.5 4.5 0 0 1-4.5 4.5h-15a4.5 4.5 0 0 1-4.5-4.5v-15a4.5 4.5 0 0 1 4.5-4.5m0 1a3.5 3.5 0 0 0-3.5 3.5v15a3.5 3.5 0 0 0 3.5 3.5h15a3.5 3.5 0 0 0 3.5-3.5v-15a3.5 3.5 0 0 0-3.5-3.5M16 8h1v5h-1m11-5h1v5h-1M16 27a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m-6-7a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m-12-7a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2m6-1a1 1 0 0 0 0 4 1 1 0 0 0 0-4m0 1a1 1 0 0 1 0 2 1 1 0 0 1 0-2"/></svg>'},oiRj:function(t,e,i){"use strict";i.r(e),i.d(e,"publishChart",(function(){return l})),i.d(e,"publishChartWidget",(function(){return c}));i("P5fv");var n=i("Z9Tc"),o=i("Vdly"),s=0;function r(){clearTimeout(s),$(".publish-chart-button").removeClass("process")}function a(t,e){!0!==e&&o.getBool("publish.showIntroText",!0)?Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(5),i.e(11),i.e(26),i.e(24),i.e(194),i.e("publish-intro-dialog")]).then(function(e){(0,i("/q6v").createPublishIntroDialog)().then((function(e){o.setValue("publish.showIntroText",!e),window.saver.publishChart(t)}))}.bind(null,i)).catch(void 0):window.saver.publishChart(t)}function l(t,e){window.runOrSignIn((function(){var i
;0!==(i=$(".publish-chart-button")).length&&(i.addClass("process"),s=setTimeout(r,3e4)),Object(n.whenVerified)({showDialog:!0,source:"Publish chart"}).done(a.bind(null,t,e)).always(r)}),{source:"Publish chart",sourceMeta:"Chart"})}function c(t){l(t,!0)}},oiZD:function(t,e,i){"use strict";i.r(e),i.d(e,"watchedTheme",(function(){return r})),i.d(e,"setTheme",(function(){return a}));var n=i("hY0g"),o=i.n(n),s=i("bMzf"),r=new o.a;function a(t){r.setValue(t)}r.subscribe((function(t){Object(s.applyTheme)(t,window)}))},"p0W+":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("mrSG"),o=i("q1tI"),s=i("TSYQ"),r=i("tU7i"),a=i("EvtC"),l=o.forwardRef((function(t,e){var i=t.className,l=Object(n.__rest)(t,["className"]);return o.createElement(r.b,Object(n.__assign)({},l,{ref:e,className:s(i,a.button)}))}))},pM3Z:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" width="15px" height="14px"><path d="M1.25 0C.562 0 .006.573.006 1.273L0 14l2.5-3h11.25c.688 0 1.25-.573 1.25-1.273V1.273C15 .573 14.437 0 13.75 0H1.25zM12 8H3V6h9v2zm0-3H3V3h9v2z"/></svg>'},qwmV:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.52 508.52" enable-background="new 0 0 508.52 508.52"><path d="M254.26 0c-140.415 0-254.26 113.845-254.26 254.26s113.845 254.26 254.26 254.26 254.26-113.845 254.26-254.26-113.845-254.26-254.26-254.26zm0 412.664c-17.544 0-31.782-14.239-31.782-31.782 0-17.576 14.239-31.782 31.782-31.782s31.782 14.207 31.782 31.782c0 17.543-14.238 31.782-31.782 31.782zm31.782-126.622c0 17.544-14.239 31.782-31.782 31.782s-31.782-14.239-31.782-31.782v-158.912c0-17.544 14.239-31.782 31.782-31.782s31.782 14.239 31.782 31.782v158.912z"/></svg>'},tBUM:function(t,e,i){"use strict";i.r(e),i.d(e,"WidgetBarTabButtonViewModel",(function(){return a}));var n=i("mrSG"),o=i("hY0g"),s=i.n(o),r={isActive:!1,notificationCount:0},a=function(){function t(t){var e=Object(n.__assign)(Object(n.__assign)({},r),t);this.isActive=new s.a(e.isActive),this.notificationsCount=new s.a(e.notificationCount),this.icon=new s.a(e.icon),this.hint=new s.a(e.hint),this.onClick=new s.a(e.onClick)}return t.prototype.onActiveStateChange=function(t){this.isActive.setValue(t)},t.prototype.updateNotifications=function(t){this.notificationsCount.setValue(t)},t}()},tU7i:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("mrSG"),o=i("q1tI"),s=i("TSYQ"),r=i("Iivm"),a=i("bQ7Y"),l=a,c=o.forwardRef((function(t,e){var i,l=t.icon,c=t.isActive,d=t.isOpened,h=t.isDisabled,u=t.isGrouped,p=t.isHovered,g=t.onClick,m=t.text,v=t.textBeforeIcon,_=t.title,f=t.theme,w=void 0===f?a:f,b=t.className,y=t.forceInteractive,C=Object(n.__rest)(t,["icon","isActive","isOpened","isDisabled","isGrouped","isHovered","onClick","text","textBeforeIcon","title","theme","className","forceInteractive"]),S=s(b,w.button,_&&"apply-common-tooltip",((i={})[w.isActive]=c,i[w.isOpened]=d,i[w.isInteractive]=(y||Boolean(g))&&!h,i[w.isDisabled]=h,i[w.isGrouped]=u,i[w.hover]=p,
i)),k=l&&("string"==typeof l?o.createElement(r.Icon,{className:w.icon,icon:l}):o.cloneElement(l,{className:s(w.icon,l.props.className)}));return o.createElement("div",Object(n.__assign)({},C,{ref:e,"data-role":"button",className:S,onClick:h?void 0:g,title:_}),v&&m&&o.createElement("div",{className:s("js-button-text",w.text)},m),k,!v&&m&&o.createElement("div",{className:s("js-button-text",w.text)},m))}))},uDbD:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45"><path fill="currentcolor" d="M22.5 12a1 1 0 0 1 0 21 1 1 0 0 1 0-21m0 1a1 1 0 0 0 0 19 1 1 0 0 0 0-19m-7.15 16.85l.8.6-2.05 2.75-.8-.6zm13.48.57l.8-.6 2.07 2.78-.8.6zM22 22v-7h1v8h-6v-1zm9.93-2.95l-.58-.81a4 4 0 1 0-5.84-5.2l-.87-.49a5 5 0 1 1 7.3 6.5zm-11.57-6.5l-.87.48a4 4 0 1 0-5.9 5.17l-.6.8a5 5 0 1 1 7.36-6.46z"/></svg>'},uJ8n:function(t,e,i){t.exports={wrap:"wrap-1h7U5nKd",scrollWrap:"scrollWrap-3gtPS0Fe",noScrollBar:"noScrollBar-ieMwbfur",content:"content-YhoA_L2m",icon:"icon-2xObs8DI",scrollBot:"scrollBot-2HHpZNuf",scrollTop:"scrollTop-1eXi8ltS",isVisible:"isVisible-3zZOL3TO",iconWrap:"iconWrap-2Q69rfEO",fadeBot:"fadeBot-3JstnoWq",fadeTop:"fadeTop-3oJzNyTq"}},udDf:function(t,e,i){"use strict";(function(t){var e=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i("9uLv")),o=i("29gu"),s=i("9+gJ");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.opened=!1,this.animated=!1,this.$el=e.$el,this.delegateEvents(),this.$el.addClass("i-inited")}return e(t,[{key:"delegateEvents",value:function(){var t=this;this.$body=this.$el.find(".js-expand__body").first(),this.$el.find(".js-expand__title").first().off("click.js-expand").on("click.js-expand",(function(e){e.isDefaultPrevented()||t.toggle()}))}},{key:"setOpened",value:function(t){this.opened=t}},{key:"setPause",value:function(t){this.paused=t}},{key:"toggle",value:function(){this[this.opened?"close":"open"]()}},{key:"open",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this.animated||this.opened||this.paused)){if(this.opened=!0,this.animated=!0,this.$el.addClass("i-dropped").trigger("beforeOpen"),e)return this.$body.removeClass("i-hidden"),this.$el.trigger("afterOpen"),void(this.animated=!1);(0,s.lazyVelocity)().then((function(){t.$body.css("opacity",0).velocity("slideDown",{queue:!1,easing:"easeOutCubic",duration:.75*n.dur,complete:function(){t.$body.removeClass("i-hidden")}}).velocity({opacity:1},{queue:!1,easing:"easeOutCubic",duration:.5*n.dur,delay:.75*n.dur,complete:function(){t.$body.attr("style",""),t.$el.trigger("afterOpen"),
t.animated=!1}})}))}}},{key:"close",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.animated&&this.opened&&!this.paused){if(this.opened=!1,this.animated=!0,this.$el.removeClass("i-dropped").trigger("beforeClose"),e)return this.$body.addClass("i-hidden"),this.$el.trigger("beforeClose"),void(this.animated=!1);(0,s.lazyVelocity)().then((function(){t.$body.velocity({opacity:0},{queue:!1,easing:"easeOutCubic",duration:.5*n.dur}).velocity("slideUp",{queue:!1,easing:"easeOutCubic",duration:.75*n.dur,delay:.5*n.dur,complete:function(){t.$body.attr("style","").addClass("i-hidden"),t.$el.trigger("afterClose"),t.animated=!1}})}))}}}]),t}();$.fn.tvExpand=(0,o.createTvBlockWithInstance)("tv-expand",(function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a(t.extend(i,{$el:e}))}))}).call(this,i("F/us"))},uo4K:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="currentColor" d="M5.18 6.6L1.3 2.7.6 2 2 .59l.7.7 3.9 3.9 3.89-3.9.7-.7L12.61 2l-.71.7L8 6.6l3.89 3.89.7.7-1.4 1.42-.71-.71L6.58 8 2.72 11.9l-.71.7-1.41-1.4.7-.71 3.9-3.9z"/></svg>'},w68K:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" width="16px" height="15px"><path fill-rule="evenodd" d="M0 14.66h2.91V5.864H0v8.796zm16-8.063c0-.806-.655-1.466-1.455-1.466h-4.59l.692-3.35.022-.232c0-.3-.126-.58-.32-.777L9.576 0 4.793 4.83c-.27.264-.43.63-.43 1.034v7.33c0 .806.655 1.466 1.455 1.466h6.546c.603 0 1.12-.367 1.338-.895l2.196-5.167c.066-.17.102-.345.102-.535v-1.4l-.007-.008.007-.058z"/></svg>'},wTN8:function(t,e,i){"use strict";i.r(e),i.d(e,"getLogWidgetEmptyStateProps",(function(){return u}));var n=i("YFKU"),o=i("delL"),s=i("RZx8"),r=Object(n.t)("No alerts triggered yet! You will see a list here when they do."),a=Object(n.t)("No alerts are active at this time. You can create alerts to stay on top of market moves."),l=Object(n.t)("No alerts triggered yet"),c=Object(n.t)("No alerts triggered for {symbol}"),d=Object(n.t)("Your alerts log won't load due to a connection issue, please refresh the page."),h=Object(n.t)("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!");function u(t){switch(t.reason){case o.AlertWidgetEmptyStateReason.NoAlerts:return{text:p(t.filtersState,t.isOnChart),iconClass:s.alarmWithBarsDashed};case o.AlertWidgetEmptyStateReason.NoConnection:return{text:d,iconClass:s.signalWarning};case o.AlertWidgetEmptyStateReason.Maintenance:return{text:h,iconClass:s.alarmWithGears}}}function p(t,e){return t.active||t.symbol||t.resolution?e?!t.symbol||t.active||t.resolution?l:c.format({symbol:t.symbol}):r:e?r:a}},wfKj:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n,o=i("zM7N"),s=i("YFKU"),r=i("IMMp"),a=i("NWKS"),l=i("HGP3"),c=((n={})[o.StdTheme.Light]={name:o.StdTheme.Light,label:function(){return Object(s.t)("Light",{context:"colorThemeName"})},order:2,getThemedColor:function(t){return Object(l.getHexColorByName)(t)}},
n[o.StdTheme.Dark]={name:o.StdTheme.Dark,label:function(){return Object(s.t)("Dark",{context:"colorThemeName"})},order:1,getThemedColor:function(t){var e=r[t]||t;return Object(l.getHexColorByName)(e)}},n);c.sa={isPrivate:!0,noChartTheme:!0,name:"sa",getThemedColor:function(t){var e=a[t]||t;return Object(l.getHexColorByName)(e)}}},wvCj:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21" width="21" height="21"><path d="M6 1.5A4.5 1.5 0 0 0 1.5 3 4.5 1.5 0 0 0 6 4.5 4.5 1.5 0 0 0 10.5 3 4.5 1.5 0 0 0 6 1.5zm8.8 2.7a4.5 1.5 0 0 0-4.5 1.5 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-4.5-1.5zm-12.6.7a4.5 1.5 0 0 0-.7.8A4.5 1.5 0 0 0 6 7.2a4.5 1.5 0 0 0 3.8-.7v-.8c0-.2.1-.5.2-.7a4.5 1.5 0 0 0-.2-.1 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zm0 2.7a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 3 1.4v-.3c0-.4.2-.7.5-1 .2-.1.3-.1.4-.2a4.5 1.5 0 0 1-3.2-.7zm16.4 0a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-1.3-.1c.2.1.3.2.5.3.3.3.5.6.5 1v.4a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM9.5 8A4.5 1.5 0 0 0 5 9.5 4.5 1.5 0 0 0 9.5 11 4.5 1.5 0 0 0 14 9.5 4.5 1.5 0 0 0 9.5 8zm-7.3 2.3a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 3 1.4v-1.6a4.5 1.5 0 0 1-2.3-.6zm16.4 0a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-.3 0v1.6a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM5.7 11.4a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zM18.6 13a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-.3 0v1.6a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM5.7 14.1a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zm0 2.7a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7z"/></svg>'},wy57:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M2.5 14.5c1.68-1.26 3.7-2 6.5-2s4.91.74 6.5 2m-13-11c1.68 1.26 3.7 2 6.5 2s4.91-.74 6.5-2"/><circle stroke="currentColor" cx="9" cy="9" r="8.5"/><path stroke="currentColor" d="M13.5 9c0 2.42-.55 4.58-1.4 6.12-.87 1.56-1.98 2.38-3.1 2.38s-2.23-.82-3.1-2.38c-.85-1.54-1.4-3.7-1.4-6.12s.55-4.58 1.4-6.12C6.77 1.32 7.88.5 9 .5s2.23.82 3.1 2.38c.85 1.54 1.4 3.7 1.4 6.12z"/></svg>'},wyNs:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return l}));var n=i("txPx"),o=Object(n.getLogger)("Lib.CountryCode"),s=/^[A-Z]{2}$/;function r(t){if(function(t){return s.test(t)}(t))return t;throw new Error("Invalid country code")}var a={ar_AE:"AE",br:"BR",ca:"CA",de_DE:"DE",en:"US",es:"ES",fr:"FR",he_IL:"IL",id:"ID",in:"IN",it:"IT",ja:"JP",kr:"KR",ms_MY:"MY",pl:"PL",ru:"RU",sv_SE:"SE",th_TH:"TH",tr:"TR",uk:"GB",vi_VN:"VN",zh_CN:"CN",zh_TW:"TW"};function l(t){try{return r(a[t])}catch(e){return o.logError('Get ISO country code from locale "'+t+'" failed: '+e.message),r(a.en)}}},xOeO:function(t,e,i){"use strict";i.r(e),i.d(e,"showSupportDialog",(function(){
return n}));i("NNtz");function n(t){return Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(2),i.e(5),i.e(11),i.e(14),i.e(18),i.e(16),i.e(30),i.e(35),i.e(34),i.e(50),i.e(59),i.e(89),i.e(115),i.e(116),i.e(164),i.e(229),i.e(237),i.e(0),i.e(8),i.e(13),i.e(17),i.e(25),i.e(57),i.e(68),i.e(54),i.e(81),i.e(109),i.e(132),i.e(158),i.e(173),i.e(196),i.e("support-dialog-impl")]).then(i.bind(null,"MOvj")).then((function(e){return new e.SupportDialog(t).open()}))}},xeqR:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("q1tI"),o=i("p0W+"),s=i("/KDZ"),r="screen and (max-width: "+i("BI5g").breakpoints["phone-vertical"]+"px)";function a(t){var e=t.icon,i=t.title,a=t.children,l=n.useState(!1),c=l[0],d=l[1],h=n.useRef(null);return n.createElement(n.Fragment,null,n.createElement(o.a,{ref:h,icon:e,title:i,isOpened:c,onClick:function(){d(!c)},"data-name":t["data-name"]}),c&&n.createElement(s.a,{rule:r},(function(t){return a({isMobileWidth:t,buttonRef:h,onClose:u})})));function u(){d(!1)}}},xrkQ:function(t,e,i){t.exports={"css-value-widgets-margin":"4px",widget:"widget-1UXejvkz",widgetHeader:"widgetHeader-isab_3SI",widgetTitle:"widgetTitle-1hslJhCT",headerSpace:"headerSpace-TYG7bb1s"}},yLMQ:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" d="M23 18c0 2.75-2.25 5-5 5a5.02 5.02 0 0 1-3.23-8.83c.49-.46 1.03-.87 1.6-1.31l.15-.1c.46-.37.94-.74 1.4-1.15l.19.34c.26.48.49 1.08.49 1.65a10.9 10.9 0 0 1-.45 2.85l-.06.23-.01.06-.01.02-.18.64h.66c1.1 0 1.93-.4 2.5-1.06.38-.43.64-.95.8-1.5A4.84 4.84 0 0 1 23 18zm-1.79-5l-.13.8a3.8 3.8 0 0 1-.78 1.88c-.26.3-.62.54-1.09.65l.1-.46c.14-.66.29-1.53.29-2.27 0-.8-.32-1.58-.6-2.13a7.11 7.11 0 0 0-.6-.92l-.36-.45-.4.4c-.52.52-1.11.98-1.73 1.46l-.15.1c-.56.44-1.15.89-1.68 1.38A6.02 6.02 0 0 0 18 24c3.3 0 6-2.7 6-6a5.82 5.82 0 0 0-2.12-4.52zM10 4H9v2H6.5A2.5 2.5 0 0 0 4 8.5v11A2.5 2.5 0 0 0 6.5 22H10v-1H6.5A1.5 1.5 0 0 1 5 19.5v-11A1.5 1.5 0 0 1 6.5 7h13A1.5 1.5 0 0 1 21 8.5V10h1V8.5A2.5 2.5 0 0 0 19.5 6H17V4h-1v2h-6zm4 5h-2v2h2zM9 9H7v2h2zm-2 4h2v2H7zm0 4h2v2H7z"/></svg>'},yTtm:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 20" width="24" height="20" fill="none" stroke="currentColor"><path d="M.5 15.5V.5h23v15H.5zM4 19.5h15m-11-2h7"/><path d="M9.5 10.66V5.34c0-.38.4-.62.74-.44l4.94 2.66a.5.5 0 0 1 0 .88l-4.94 2.66a.5.5 0 0 1-.74-.44z"/></svg>'},yxcy:function(t,e,i){"use strict";i("TdlR");var n=i("WzmK"),o=i("MfiM"),s=i("ZPGM"),r=i("FBuY").TVXWindowEvents,a=i("HRBU").generateAlertsEventsCSVFile,l=i("delL").AlertWidgetEmptyStateReason,c=i("wTN8").getLogWidgetEmptyStateProps,d=i("+sDR").AlertsLogWidgetHeader;function h(t){n.call(this,t)}inherit(h,n),h.prototype._initWithAlertsDispatcher=function(){n.prototype._initWithAlertsDispatcher.call(this),this._ALERT_EVENT_LIST_LIMIT=50,this._itemViewCtor=o,this._tableTemplate='<table class="alert-list"><thead><th class="symbol">'+$.t("Ticker")+"</th><th>"+$.t("Message")+'</th><th class="date">'+$.t("Time")+"</th></thead><tbody></tbody></table>",
this._$container.addClass("alerts-log-widget"),this._initHeader(d),this._attachHandlers(),this._bridge.active.when(this.reloadList.bind(this))},h.prototype._initList=function(t){var e=this;return new s([],{events:t.events.model,observableCollection:t.events,syncEvents:["change:crossInterval","change:resolution","change:symbol"],validator:function(t){return!(!t.get("symbol")||!t.get("resolution"))&&((!e.currentSymbolOnly.value()||t.get("symbol")===e.symbol())&&!(!t.get("crossInterval")&&e.currentResolutionOnly.value()&&t.get("resolution")!==e.resolution()))},comparator:function(t){return-1*parseInt(t.id)}})},h.prototype._getHeaderProps=function(){return{alertsLogActionsDropdownProps:this._list.isEmpty()?{}:{onExportCSVClick:function(){window.runOrSignIn(function(){var t=this._requestListOptions();a(t.symbol,t.resolution)}.bind(this),{source:"Export alerts log to CSV"})}.bind(this),onClearLogClick:function(){this._alertsDispatcher.deleteEvents()}.bind(this)}}},h.prototype._attachHandlers=function(t){var e=this;e._list.on("add",e._prependViewItem.bind(e)),e._list.on("reset",e._renderTable.bind(e)),e._list.on("remove",e._removeViewItem.bind(e)),e.currentSymbolOnly.subscribe(e.reloadList.bind(e)),e.currentResolutionOnly.subscribe(e.reloadList.bind(e)),e.hideInactiveAlerts.subscribe(e.reloadList.bind(e)),e._bridge.onMessage((function(t,i){"alerts_filter_state"===t&&(e.hideInactiveAlerts.setValue(null!==i.value.active),e.currentSymbolOnly.setValue(null!==i.value.symbol),e.currentResolutionOnly.setValue(null!==i.value.resolution))})),r.on("alertevents-markread",(function(){setTimeout((function(){e._bridge.clearNotifications()}),0)}))},h.prototype._highlightNewEvents=function(){var t,e,i=this._eventsToHighlight;if(i&&i.length)for(var n=0;n<i.length;n++)(e=(t=this._list.get(i[n]))?this._getViewItem(t):null)&&e.highlight();this._eventsToHighlight=[],r.emit("alertevents-markread")},h.prototype._requestList=function(t){this._alertsDispatcher.requestEventList(t)},h.prototype._requestListOptions=function(){return{limit:this._ALERT_EVENT_LIST_LIMIT,symbol:this.currentSymbolOnly.value()?this.symbol():void 0,resolution:this.currentResolutionOnly.value()?this.resolution():void 0}},h.prototype._requestListOffset=function(){return{before:this.smallestId}},h.prototype._onListLoaded=function(){this._setSmallestId()},n.prototype._setSmallestId=function(){var t=this._list.map("id");t.length>0&&(this.smallestId=Math.min.apply(null,t))},h.prototype._getEmptyStateProps=function(t){var e={reason:t};return t===l.NoAlerts&&(e.filtersState=window.is_authenticated?this.getFiltersState():{},e.isOnChart=this.isOnChart()),c(e)},h.prototype.destroy=function(){var t=Object.getPrototypeOf(h.prototype).destroy;this._selectableList&&this._selectableList.destroy(),this._bridge.visible.unsubscribe(this._toggleSelectableList),t.call(this)},t.exports=h},zpSA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.widgetBarWidgets={Watchlist:null,NewsWidget:i("RrLr"),Detail:i("hpIU"),CalendarWidget:i("1E3x"),
ReutersCalendarWidget:i("fadt"),HotlistWidget:i("CNcW").HotlistRenderer,Messages:i("+SlM"),PublicChatsWidget:i("debi"),NotificationsWidgets:i("clWw"),NotesWidget:i("Maqz"),AlertsManageWidget:i("o0rh").AlertsManageWidget,AlertsLogWidget:i("yxcy"),ChatWidget:i("eF4M"),showSupportDialog:i("xOeO").showSupportDialog}}}]);